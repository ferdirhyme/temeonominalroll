(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function Uu(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function hv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var o=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return l[i]}})}),r}var au={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function mv(){if(W0)return zl;W0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,d){var h=null;if(d!==void 0&&(h=""+d),o.key!==void 0&&(h=""+o.key),"key"in o){d={};for(var p in o)p!=="key"&&(d[p]=o[p])}else d=o;return o=d.ref,{$$typeof:l,type:i,key:h,ref:o!==void 0?o:null,props:d}}return zl.Fragment=n,zl.jsx=r,zl.jsxs=r,zl}var em;function gv(){return em||(em=1,au.exports=mv()),au.exports}var c=gv(),nu={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function pv(){if(tm)return fe;tm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,D={};function C(j,B,J){this.props=j,this.context=B,this.refs=D,this.updater=J||k}C.prototype.isReactComponent={},C.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=C.prototype;function A(j,B,J){this.props=j,this.context=B,this.refs=D,this.updater=J||k}var I=A.prototype=new L;I.constructor=A,T(I,C.prototype),I.isPureReactComponent=!0;var Z=Array.isArray;function R(){}var K={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function ee(j,B,J){var W=J.ref;return{$$typeof:l,type:j,key:B,ref:W!==void 0?W:null,props:J}}function ae(j,B){return ee(j.type,B,j.props)}function ie(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function ce(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(J){return B[J]})}var we=/\/+/g;function Ne(j,B){return typeof j=="object"&&j!==null&&j.key!=null?ce(""+j.key):B.toString(36)}function Le(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(R,R):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function G(j,B,J,W,re){var X=typeof j;(X==="undefined"||X==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(X){case"bigint":case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case l:case n:le=!0;break;case b:return le=j._init,G(le(j._payload),B,J,W,re)}}if(le)return re=re(j),le=W===""?"."+Ne(j,0):W,Z(re)?(J="",le!=null&&(J=le.replace(we,"$&/")+"/"),G(re,B,J,"",function(jt){return jt})):re!=null&&(ie(re)&&(re=ae(re,J+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(we,"$&/")+"/")+le)),B.push(re)),1;le=0;var De=W===""?".":W+":";if(Z(j))for(var Oe=0;Oe<j.length;Oe++)W=j[Oe],X=De+Ne(W,Oe),le+=G(W,B,J,X,re);else if(Oe=E(j),typeof Oe=="function")for(j=Oe.call(j),Oe=0;!(W=j.next()).done;)W=W.value,X=De+Ne(W,Oe++),le+=G(W,B,J,X,re);else if(X==="object"){if(typeof j.then=="function")return G(Le(j),B,J,W,re);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return le}function H(j,B,J){if(j==null)return j;var W=[],re=0;return G(j,W,"","",function(X){return B.call(J,X,re++)}),W}function q(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(J){(j._status===0||j._status===-1)&&(j._status=1,j._result=J)},function(J){(j._status===0||j._status===-1)&&(j._status=2,j._result=J)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var F=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},te={map:H,forEach:function(j,B,J){H(j,function(){B.apply(this,arguments)},J)},count:function(j){var B=0;return H(j,function(){B++}),B},toArray:function(j){return H(j,function(B){return B})||[]},only:function(j){if(!ie(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return fe.Activity=x,fe.Children=te,fe.Component=C,fe.Fragment=r,fe.Profiler=o,fe.PureComponent=A,fe.StrictMode=i,fe.Suspense=g,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,fe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return K.H.useMemoCache(j)}},fe.cache=function(j){return function(){return j.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(j,B,J){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var W=T({},j.props),re=j.key;if(B!=null)for(X in B.key!==void 0&&(re=""+B.key),B)!V.call(B,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&B.ref===void 0||(W[X]=B[X]);var X=arguments.length-2;if(X===1)W.children=J;else if(1<X){for(var le=Array(X),De=0;De<X;De++)le[De]=arguments[De+2];W.children=le}return ee(j.type,re,W)},fe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},fe.createElement=function(j,B,J){var W,re={},X=null;if(B!=null)for(W in B.key!==void 0&&(X=""+B.key),B)V.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=B[W]);var le=arguments.length-2;if(le===1)re.children=J;else if(1<le){for(var De=Array(le),Oe=0;Oe<le;Oe++)De[Oe]=arguments[Oe+2];re.children=De}if(j&&j.defaultProps)for(W in le=j.defaultProps,le)re[W]===void 0&&(re[W]=le[W]);return ee(j,X,re)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(j){return{$$typeof:p,render:j}},fe.isValidElement=ie,fe.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:q}},fe.memo=function(j,B){return{$$typeof:m,type:j,compare:B===void 0?null:B}},fe.startTransition=function(j){var B=K.T,J={};K.T=J;try{var W=j(),re=K.S;re!==null&&re(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(R,F)}catch(X){F(X)}finally{B!==null&&J.types!==null&&(B.types=J.types),K.T=B}},fe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},fe.use=function(j){return K.H.use(j)},fe.useActionState=function(j,B,J){return K.H.useActionState(j,B,J)},fe.useCallback=function(j,B){return K.H.useCallback(j,B)},fe.useContext=function(j){return K.H.useContext(j)},fe.useDebugValue=function(){},fe.useDeferredValue=function(j,B){return K.H.useDeferredValue(j,B)},fe.useEffect=function(j,B){return K.H.useEffect(j,B)},fe.useEffectEvent=function(j){return K.H.useEffectEvent(j)},fe.useId=function(){return K.H.useId()},fe.useImperativeHandle=function(j,B,J){return K.H.useImperativeHandle(j,B,J)},fe.useInsertionEffect=function(j,B){return K.H.useInsertionEffect(j,B)},fe.useLayoutEffect=function(j,B){return K.H.useLayoutEffect(j,B)},fe.useMemo=function(j,B){return K.H.useMemo(j,B)},fe.useOptimistic=function(j,B){return K.H.useOptimistic(j,B)},fe.useReducer=function(j,B,J){return K.H.useReducer(j,B,J)},fe.useRef=function(j){return K.H.useRef(j)},fe.useState=function(j){return K.H.useState(j)},fe.useSyncExternalStore=function(j,B,J){return K.H.useSyncExternalStore(j,B,J)},fe.useTransition=function(){return K.H.useTransition()},fe.version="19.2.0",fe}var am;function Lu(){return am||(am=1,nu.exports=pv()),nu.exports}var y=Lu();const Zm=Uu(y);var su={exports:{}},Bl={},lu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function yv(){return nm||(nm=1,(function(l){function n(G,H){var q=G.length;G.push(H);e:for(;0<q;){var F=q-1>>>1,te=G[F];if(0<o(te,H))G[F]=H,G[q]=te,q=F;else break e}}function r(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var H=G[0],q=G.pop();if(q!==H){G[0]=q;e:for(var F=0,te=G.length,j=te>>>1;F<j;){var B=2*(F+1)-1,J=G[B],W=B+1,re=G[W];if(0>o(J,q))W<te&&0>o(re,J)?(G[F]=re,G[W]=q,F=W):(G[F]=J,G[B]=q,F=B);else if(W<te&&0>o(re,q))G[F]=re,G[W]=q,F=W;else break e}}return H}function o(G,H){var q=G.sortIndex-H.sortIndex;return q!==0?q:G.id-H.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var g=[],m=[],b=1,x=null,S=3,E=!1,k=!1,T=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(G){for(var H=r(m);H!==null;){if(H.callback===null)i(m);else if(H.startTime<=G)i(m),H.sortIndex=H.expirationTime,n(g,H);else break;H=r(m)}}function Z(G){if(T=!1,I(G),!k)if(r(g)!==null)k=!0,R||(R=!0,ce());else{var H=r(m);H!==null&&Le(Z,H.startTime-G)}}var R=!1,K=-1,V=5,ee=-1;function ae(){return D?!0:!(l.unstable_now()-ee<V)}function ie(){if(D=!1,R){var G=l.unstable_now();ee=G;var H=!0;try{e:{k=!1,T&&(T=!1,L(K),K=-1),E=!0;var q=S;try{t:{for(I(G),x=r(g);x!==null&&!(x.expirationTime>G&&ae());){var F=x.callback;if(typeof F=="function"){x.callback=null,S=x.priorityLevel;var te=F(x.expirationTime<=G);if(G=l.unstable_now(),typeof te=="function"){x.callback=te,I(G),H=!0;break t}x===r(g)&&i(g),I(G)}else i(g);x=r(g)}if(x!==null)H=!0;else{var j=r(m);j!==null&&Le(Z,j.startTime-G),H=!1}}break e}finally{x=null,S=q,E=!1}H=void 0}}finally{H?ce():R=!1}}}var ce;if(typeof A=="function")ce=function(){A(ie)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ne=we.port2;we.port1.onmessage=ie,ce=function(){Ne.postMessage(null)}}else ce=function(){C(ie,0)};function Le(G,H){K=C(function(){G(l.unstable_now())},H)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(G){G.callback=null},l.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(G){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var q=S;S=H;try{return G()}finally{S=q}},l.unstable_requestPaint=function(){D=!0},l.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=S;S=G;try{return H()}finally{S=q}},l.unstable_scheduleCallback=function(G,H,q){var F=l.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,G={id:b++,callback:H,priorityLevel:G,startTime:q,expirationTime:te,sortIndex:-1},q>F?(G.sortIndex=q,n(m,G),r(g)===null&&G===r(m)&&(T?(L(K),K=-1):T=!0,Le(Z,q-F))):(G.sortIndex=te,n(g,G),k||E||(k=!0,R||(R=!0,ce()))),G},l.unstable_shouldYield=ae,l.unstable_wrapCallback=function(G){var H=S;return function(){var q=S;S=H;try{return G.apply(this,arguments)}finally{S=q}}}})(ru)),ru}var sm;function vv(){return sm||(sm=1,lu.exports=yv()),lu.exports}var iu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function bv(){if(lm)return ut;lm=1;var l=Lu();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(g,m,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:m,implementation:b}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(g,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return d(g,m,null,b)},ut.flushSync=function(g){var m=h.T,b=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=m,i.p=b,i.d.f()}},ut.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(g,m))},ut.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ut.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var b=m.as,x=p(b,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?i.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:E}):b==="script"&&i.d.X(g,{crossOrigin:x,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ut.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=p(m.as,m.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(g)},ut.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,x=p(b,m.crossOrigin);i.d.L(g,b,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ut.preloadModule=function(g,m){if(typeof g=="string")if(m){var b=p(m.as,m.crossOrigin);i.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(g)},ut.requestFormReset=function(g){i.d.r(g)},ut.unstable_batchedUpdates=function(g,m){return g(m)},ut.useFormState=function(g,m,b){return h.H.useFormState(g,m,b)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var rm;function xv(){if(rm)return iu.exports;rm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),iu.exports=bv(),iu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function wv(){if(im)return Bl;im=1;var l=vv(),n=Lu(),r=xv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===s)return g(u),t;f=f.sibling}throw Error(i(188))}if(a.return!==s.return)a=u,s=f;else{for(var v=!1,w=u.child;w;){if(w===a){v=!0,a=u,s=f;break}if(w===s){v=!0,s=u,a=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===a){v=!0,a=f,s=u;break}if(w===s){v=!0,s=f,a=u;break}w=w.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==s)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case R:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case A:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var Le=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},F=[],te=-1;function j(e){return{current:e}}function B(e){0>te||(e.current=F[te],F[te]=null,te--)}function J(e,t){te++,F[te]=e.current,e.current=t}var W=j(null),re=j(null),X=j(null),le=j(null);function De(e,t){switch(J(X,t),J(re,e),J(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?S0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=S0(t),e=_0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),J(W,e)}function Oe(){B(W),B(re),B(X)}function jt(e){e.memoizedState!==null&&J(le,e);var t=W.current,a=_0(t,e.type);t!==a&&(J(re,e),J(W,a))}function Jt(e){re.current===e&&(B(W),B(re)),le.current===e&&(B(le),Dl._currentValue=q)}var Ft,ft;function ht(e){if(Ft===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ft=t&&t[1]||"",ft=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+e+ft}var Bn=!1;function Wl(e,t){if(!e||Bn)return"";Bn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch($){var z=$}Reflect.construct(e,[],Q)}else{try{Q.call()}catch($){z=$}e.call(Q.prototype)}}else{try{throw Error()}catch($){z=$}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch($){if($&&z&&typeof $.stack=="string")return[$.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var _=v.split(`
`),U=w.split(`
`);for(u=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;if(s===_.length||u===U.length)for(s=_.length-1,u=U.length-1;1<=s&&0<=u&&_[s]!==U[u];)u--;for(;1<=s&&0<=u;s--,u--)if(_[s]!==U[u]){if(s!==1||u!==1)do if(s--,u--,0>u||_[s]!==U[u]){var Y=`
`+_[s].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=s&&0<=u);break}}}finally{Bn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ht(a):""}function $i(e,t){switch(e.tag){case 26:case 27:case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return e.child!==t&&t!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return Wl(e.type,!1);case 11:return Wl(e.type.render,!1);case 1:return Wl(e.type,!0);case 31:return ht("Activity");default:return""}}function er(e){try{var t="",a=null;do t+=$i(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Hi=Object.prototype.hasOwnProperty,qi=l.unstable_scheduleCallback,Gi=l.unstable_cancelCallback,Zg=l.unstable_shouldYield,Ig=l.unstable_requestPaint,Et=l.unstable_now,Pg=l.unstable_getCurrentPriorityLevel,Wu=l.unstable_ImmediatePriority,ed=l.unstable_UserBlockingPriority,tr=l.unstable_NormalPriority,Kg=l.unstable_LowPriority,td=l.unstable_IdlePriority,Qg=l.log,Jg=l.unstable_setDisableYieldValue,Zs=null,Nt=null;function ka(e){if(typeof Qg=="function"&&Jg(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Zs,e)}catch{}}var At=Math.clz32?Math.clz32:Wg,Fg=Math.log,Xg=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-(Fg(e)/Xg|0)|0}var ar=256,nr=262144,sr=4194304;function fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lr(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~f,s!==0?u=fn(s):(v&=w,v!==0?u=fn(v):a||(a=w&~e,a!==0&&(u=fn(a))))):(w=s&~f,w!==0?u=fn(w):v!==0?u=fn(v):a||(a=s&~e,a!==0&&(u=fn(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Is(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ep(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var e=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),e}function Vi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ps(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tp(e,t,a,s,u,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,_=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-At(a),Q=1<<Y;w[Y]=0,_[Y]=-1;var z=U[Y];if(z!==null)for(U[Y]=null,Y=0;Y<z.length;Y++){var $=z[Y];$!==null&&($.lane&=-536870913)}a&=~Q}s!==0&&nd(e,s,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function nd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function sd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-At(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function ld(e,t){var a=t&-t;return a=(a&42)!==0?1:Yi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:I0(e.type))}function id(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var Da=Math.random().toString(36).slice(2),lt="__reactFiber$"+Da,pt="__reactProps$"+Da,$n="__reactContainer$"+Da,Ii="__reactEvents$"+Da,ap="__reactListeners$"+Da,np="__reactHandles$"+Da,od="__reactResources$"+Da,Ks="__reactMarker$"+Da;function Pi(e){delete e[lt],delete e[pt],delete e[Ii],delete e[ap],delete e[np]}function Hn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$n]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=R0(e);e!==null;){if(a=e[lt])return a;e=R0(e)}return t}e=a,a=e.parentNode}return null}function qn(e){if(e=e[lt]||e[$n]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Gn(e){var t=e[od];return t||(t=e[od]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ks]=!0}var cd=new Set,ud={};function hn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(ud[e]=t,e=0;e<t.length;e++)cd.add(t[e])}var sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},fd={};function lp(e){return Hi.call(fd,e)?!0:Hi.call(dd,e)?!1:sp.test(e)?fd[e]=!0:(dd[e]=!0,!1)}function rr(e,t,a){if(lp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ir(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ua(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){if(!e._valueTracker){var t=hd(e)?"checked":"value";e._valueTracker=rp(e,t,""+e[t])}}function md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=hd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ip=/[\n"\\]/g;function $t(e){return e.replace(ip,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qi(e,t,a,s,u,f,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ji(e,v,Bt(t)):a!=null?Ji(e,v,Bt(a)):s!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Bt(w):e.removeAttribute("name")}function gd(e,t,a,s,u,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Ki(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,w||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Ki(e)}function Ji(e,t,a){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yn(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function pd(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function yd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(i(92));if(Le(s)){if(1<s.length)throw Error(i(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Ki(e)}function Zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var op=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||op.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function bd(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&vd(e,u,s)}else for(var f in t)t.hasOwnProperty(f)&&vd(e,f,t[f])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return up.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function da(){}var Xi=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var In=null,Pn=null;function xd(e){var t=qn(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[pt]||null;if(!u)throw Error(i(90));Qi(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&md(s)}break e;case"textarea":pd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Yn(e,!!a.multiple,t,!1)}}}var eo=!1;function wd(e,t,a){if(eo)return e(t,a);eo=!0;try{var s=e(t);return s}finally{if(eo=!1,(In!==null||Pn!==null)&&(Jr(),In&&(t=In,e=Pn,Pn=In=null,xd(t),e)))for(t=0;t<e.length;t++)xd(e[t])}}function Js(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(fa)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){to=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{to=!1}var Ma=null,ao=null,ur=null;function Sd(){if(ur)return ur;var e,t=ao,a=t.length,s,u="value"in Ma?Ma.value:Ma.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var v=a-e;for(s=1;s<=v&&t[a-s]===u[f-s];s++);return ur=u.slice(e,1<s?1-s:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function _d(){return!1}function yt(e){function t(a,s,u,f,v){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fr:_d,this.isPropagationStopped=_d,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=yt(mn),Xs=x({},mn,{view:0,detail:0}),dp=yt(Xs),no,so,Ws,mr=x({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(no=e.screenX-Ws.screenX,so=e.screenY-Ws.screenY):so=no=0,Ws=e),no)},movementY:function(e){return"movementY"in e?e.movementY:so}}),jd=yt(mr),fp=x({},mr,{dataTransfer:0}),hp=yt(fp),mp=x({},Xs,{relatedTarget:0}),lo=yt(mp),gp=x({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=yt(gp),yp=x({},mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vp=yt(yp),bp=x({},mn,{data:0}),Ed=yt(bp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _p(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sp[e])?!!t[e]:!1}function ro(){return _p}var jp=x({},Xs,{key:function(e){if(e.key){var t=xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ep=yt(jp),Np=x({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=yt(Np),Ap=x({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),Tp=yt(Ap),Op=x({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=yt(Op),Cp=x({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=yt(Cp),Dp=x({},mn,{newState:0,oldState:0}),Mp=yt(Dp),Up=[9,13,27,32],io=fa&&"CompositionEvent"in window,el=null;fa&&"documentMode"in document&&(el=document.documentMode);var Lp=fa&&"TextEvent"in window&&!el,Ad=fa&&(!io||el&&8<el&&11>=el),Td=" ",Od=!1;function Rd(e,t){switch(e){case"keyup":return Up.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function zp(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(Od=!0,Td);case"textInput":return e=t.data,e===Td&&Od?null:e;default:return null}}function Bp(e,t){if(Kn)return e==="compositionend"||!io&&Rd(e,t)?(e=Sd(),ur=ao=Ma=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ad&&t.locale!=="ko"?null:t.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$p[e.type]:t==="textarea"}function Dd(e,t,a,s){In?Pn?Pn.push(s):Pn=[s]:In=s,t=ni(t,"onChange"),0<t.length&&(a=new hr("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var tl=null,al=null;function Hp(e){p0(e,0)}function gr(e){var t=Qs(e);if(md(t))return e}function Md(e,t){if(e==="change")return t}var Ud=!1;if(fa){var oo;if(fa){var co="oninput"in document;if(!co){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),co=typeof Ld.oninput=="function"}oo=co}else oo=!1;Ud=oo&&(!document.documentMode||9<document.documentMode)}function zd(){tl&&(tl.detachEvent("onpropertychange",Bd),al=tl=null)}function Bd(e){if(e.propertyName==="value"&&gr(al)){var t=[];Dd(t,al,e,Wi(e)),wd(Hp,t)}}function qp(e,t,a){e==="focusin"?(zd(),tl=t,al=a,tl.attachEvent("onpropertychange",Bd)):e==="focusout"&&zd()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(al)}function Vp(e,t){if(e==="click")return gr(t)}function Yp(e,t){if(e==="input"||e==="change")return gr(t)}function Zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Zp;function nl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!Hi.call(t,u)||!Tt(e[u],t[u]))return!1}return!0}function $d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hd(e,t){var a=$d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$d(a)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=or(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ip=fa&&"documentMode"in document&&11>=document.documentMode,Qn=null,fo=null,sl=null,ho=!1;function Vd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ho||Qn==null||Qn!==or(s)||(s=Qn,"selectionStart"in s&&uo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),sl&&nl(sl,s)||(sl=s,s=ni(fo,"onSelect"),0<s.length&&(t=new hr("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Qn)))}function gn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Jn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionrun:gn("Transition","TransitionRun"),transitionstart:gn("Transition","TransitionStart"),transitioncancel:gn("Transition","TransitionCancel"),transitionend:gn("Transition","TransitionEnd")},mo={},Yd={};fa&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function pn(e){if(mo[e])return mo[e];if(!Jn[e])return e;var t=Jn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yd)return mo[e]=t[a];return e}var Zd=pn("animationend"),Id=pn("animationiteration"),Pd=pn("animationstart"),Pp=pn("transitionrun"),Kp=pn("transitionstart"),Qp=pn("transitioncancel"),Kd=pn("transitionend"),Qd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function Xt(e,t){Qd.set(e,t),hn(t,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Fn=0,po=0;function yr(){for(var e=Fn,t=po=Fn=0;t<e;){var a=Ht[t];Ht[t++]=null;var s=Ht[t];Ht[t++]=null;var u=Ht[t];Ht[t++]=null;var f=Ht[t];if(Ht[t++]=null,s!==null&&u!==null){var v=s.pending;v===null?u.next=u:(u.next=v.next,v.next=u),s.pending=u}f!==0&&Jd(a,u,f)}}function vr(e,t,a,s){Ht[Fn++]=e,Ht[Fn++]=t,Ht[Fn++]=a,Ht[Fn++]=s,po|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function yo(e,t,a,s){return vr(e,t,a,s),br(e)}function yn(e,t){return vr(e,null,null,t),br(e)}function Jd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-At(a),e=f.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),f):null}function br(e){if(50<Nl)throw Nl=0,Nc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xn={};function Jp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,s){return new Jp(e,t,a,s)}function vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xr(e,t,a,s,u,f){var v=0;if(s=e,typeof e=="function")vo(e)&&(v=1);else if(typeof e=="string")v=tv(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Ot(31,a,t,u),e.elementType=ee,e.lanes=f,e;case T:return vn(a.children,u,f,t);case D:v=8,u|=24;break;case C:return e=Ot(12,a,t,u|2),e.elementType=C,e.lanes=f,e;case Z:return e=Ot(13,a,t,u),e.elementType=Z,e.lanes=f,e;case R:return e=Ot(19,a,t,u),e.elementType=R,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:v=10;break e;case L:v=9;break e;case I:v=11;break e;case K:v=14;break e;case V:v=16,s=null;break e}v=29,a=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=Ot(v,a,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function vn(e,t,a,s){return e=Ot(7,e,s,t),e.lanes=a,e}function bo(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function Xd(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function xo(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var a=Wd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:er(t)},Wd.set(e,t),t)}return{value:e,source:t,stack:er(t)}}var Wn=[],es=0,wr=null,ll=0,Gt=[],Vt=0,Ua=null,la=1,ra="";function ma(e,t){Wn[es++]=ll,Wn[es++]=wr,wr=e,ll=t}function ef(e,t,a){Gt[Vt++]=la,Gt[Vt++]=ra,Gt[Vt++]=Ua,Ua=e;var s=la;e=ra;var u=32-At(s)-1;s&=~(1<<u),a+=1;var f=32-At(t)+u;if(30<f){var v=u-u%5;f=(s&(1<<v)-1).toString(32),s>>=v,u-=v,la=1<<32-At(t)+u|a<<u|s,ra=f+e}else la=1<<f|a<<u|s,ra=e}function wo(e){e.return!==null&&(ma(e,1),ef(e,1,0))}function So(e){for(;e===wr;)wr=Wn[--es],Wn[es]=null,ll=Wn[--es],Wn[es]=null;for(;e===Ua;)Ua=Gt[--Vt],Gt[Vt]=null,ra=Gt[--Vt],Gt[Vt]=null,la=Gt[--Vt],Gt[Vt]=null}function tf(e,t){Gt[Vt++]=la,Gt[Vt++]=ra,Gt[Vt++]=Ua,la=t.id,ra=t.overflow,Ua=e}var rt=null,Be=null,xe=!1,La=null,Yt=!1,_o=Error(i(519));function za(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(qt(t,e)),_o}function af(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[lt]=e,t[pt]=s,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<Tl.length;a++)ye(Tl[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),gd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),yd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||x0(t.textContent,a)?(s.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),s.onScroll!=null&&ye("scroll",t),s.onScrollEnd!=null&&ye("scrollend",t),s.onClick!=null&&(t.onclick=da),t=!0):t=!1,t||za(e,!0)}function nf(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:rt=rt.return}}function ts(e){if(e!==rt)return!1;if(!xe)return nf(e),xe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qc(e.type,e.memoizedProps)),a=!a),a&&Be&&za(e),nf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Be=O0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Be=O0(e)}else t===27?(t=Be,Fa(e.type)?(e=Ic,Ic=null,Be=e):Be=t):Be=rt?It(e.stateNode.nextSibling):null;return!0}function bn(){Be=rt=null,xe=!1}function jo(){var e=La;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),La=null),e}function rl(e){La===null?La=[e]:La.push(e)}var Eo=j(null),xn=null,ga=null;function Ba(e,t,a){J(Eo,t._currentValue),t._currentValue=a}function pa(e){e._currentValue=Eo.current,B(Eo)}function No(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Ao(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=u;for(var _=0;_<t.length;_++)if(w.context===t[_]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),No(f.return,a,e),s||(v=null);break e}f=w.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(i(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),No(v,a,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function as(e,t,a,s){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var w=u.type;Tt(u.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(u===le.current){if(v=u.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}u=u.return}e!==null&&Ao(t,e,a,s),t.flags|=262144}function Sr(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wn(e){xn=e,ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return sf(xn,e)}function _r(e,t){return xn===null&&wn(e),sf(e,t)}function sf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ga===null){if(e===null)throw Error(i(308));ga=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ga=ga.next=t;return a}var Fp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Xp=l.unstable_scheduleCallback,Wp=l.unstable_NormalPriority,Ie={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new Fp,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&Xp(Wp,function(){e.controller.abort()})}var ol=null,Oo=0,ns=0,ss=null;function ey(e,t){if(ol===null){var a=ol=[];Oo=0,ns=kc(),ss={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Oo++,t.then(lf,lf),t}function lf(){if(--Oo===0&&ol!==null){ss!==null&&(ss.status="fulfilled");var e=ol;ol=null,ns=0,ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ty(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var rf=G.S;G.S=function(e,t){Yh=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ey(e,t),rf!==null&&rf(e,t)};var Sn=j(null);function Ro(){var e=Sn.current;return e!==null?e:Me.pooledCache}function jr(e,t){t===null?J(Sn,Sn.current):J(Sn,t.pool)}function of(){var e=Ro();return e===null?null:{parent:Ie._currentValue,pool:e}}var ls=Error(i(460)),Co=Error(i(474)),Er=Error(i(542)),Nr={then:function(){}};function cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(da,da),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e;default:if(typeof t.status=="string")t.then(da,da);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e}throw jn=t,ls}}function _n(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jn=a,ls):a}}var jn=null;function df(){if(jn===null)throw Error(i(459));var e=jn;return jn=null,e}function ff(e){if(e===ls||e===Er)throw Error(i(483))}var rs=null,cl=0;function Ar(e){var t=cl;return cl+=1,rs===null&&(rs=[]),uf(rs,e,t)}function ul(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hf(e){function t(O,N){if(e){var M=O.deletions;M===null?(O.deletions=[N],O.flags|=16):M.push(N)}}function a(O,N){if(!e)return null;for(;N!==null;)t(O,N),N=N.sibling;return null}function s(O){for(var N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function u(O,N){return O=ha(O,N),O.index=0,O.sibling=null,O}function f(O,N,M){return O.index=M,e?(M=O.alternate,M!==null?(M=M.index,M<N?(O.flags|=67108866,N):M):(O.flags|=67108866,N)):(O.flags|=1048576,N)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function w(O,N,M,P){return N===null||N.tag!==6?(N=bo(M,O.mode,P),N.return=O,N):(N=u(N,M),N.return=O,N)}function _(O,N,M,P){var oe=M.type;return oe===T?Y(O,N,M.props.children,P,M.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===V&&_n(oe)===N.type)?(N=u(N,M.props),ul(N,M),N.return=O,N):(N=xr(M.type,M.key,M.props,null,O.mode,P),ul(N,M),N.return=O,N)}function U(O,N,M,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=xo(M,O.mode,P),N.return=O,N):(N=u(N,M.children||[]),N.return=O,N)}function Y(O,N,M,P,oe){return N===null||N.tag!==7?(N=vn(M,O.mode,P,oe),N.return=O,N):(N=u(N,M),N.return=O,N)}function Q(O,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=bo(""+N,O.mode,M),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return M=xr(N.type,N.key,N.props,null,O.mode,M),ul(M,N),M.return=O,M;case k:return N=xo(N,O.mode,M),N.return=O,N;case V:return N=_n(N),Q(O,N,M)}if(Le(N)||ce(N))return N=vn(N,O.mode,M,null),N.return=O,N;if(typeof N.then=="function")return Q(O,Ar(N),M);if(N.$$typeof===A)return Q(O,_r(O,N),M);Tr(O,N)}return null}function z(O,N,M,P){var oe=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return oe!==null?null:w(O,N,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return M.key===oe?_(O,N,M,P):null;case k:return M.key===oe?U(O,N,M,P):null;case V:return M=_n(M),z(O,N,M,P)}if(Le(M)||ce(M))return oe!==null?null:Y(O,N,M,P,null);if(typeof M.then=="function")return z(O,N,Ar(M),P);if(M.$$typeof===A)return z(O,N,_r(O,M),P);Tr(O,M)}return null}function $(O,N,M,P,oe){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return O=O.get(M)||null,w(N,O,""+P,oe);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return O=O.get(P.key===null?M:P.key)||null,_(N,O,P,oe);case k:return O=O.get(P.key===null?M:P.key)||null,U(N,O,P,oe);case V:return P=_n(P),$(O,N,M,P,oe)}if(Le(P)||ce(P))return O=O.get(M)||null,Y(N,O,P,oe,null);if(typeof P.then=="function")return $(O,N,M,Ar(P),oe);if(P.$$typeof===A)return $(O,N,M,_r(N,P),oe);Tr(N,P)}return null}function ne(O,N,M,P){for(var oe=null,_e=null,se=N,ge=N=0,be=null;se!==null&&ge<M.length;ge++){se.index>ge?(be=se,se=null):be=se.sibling;var je=z(O,se,M[ge],P);if(je===null){se===null&&(se=be);break}e&&se&&je.alternate===null&&t(O,se),N=f(je,N,ge),_e===null?oe=je:_e.sibling=je,_e=je,se=be}if(ge===M.length)return a(O,se),xe&&ma(O,ge),oe;if(se===null){for(;ge<M.length;ge++)se=Q(O,M[ge],P),se!==null&&(N=f(se,N,ge),_e===null?oe=se:_e.sibling=se,_e=se);return xe&&ma(O,ge),oe}for(se=s(se);ge<M.length;ge++)be=$(se,O,ge,M[ge],P),be!==null&&(e&&be.alternate!==null&&se.delete(be.key===null?ge:be.key),N=f(be,N,ge),_e===null?oe=be:_e.sibling=be,_e=be);return e&&se.forEach(function(an){return t(O,an)}),xe&&ma(O,ge),oe}function de(O,N,M,P){if(M==null)throw Error(i(151));for(var oe=null,_e=null,se=N,ge=N=0,be=null,je=M.next();se!==null&&!je.done;ge++,je=M.next()){se.index>ge?(be=se,se=null):be=se.sibling;var an=z(O,se,je.value,P);if(an===null){se===null&&(se=be);break}e&&se&&an.alternate===null&&t(O,se),N=f(an,N,ge),_e===null?oe=an:_e.sibling=an,_e=an,se=be}if(je.done)return a(O,se),xe&&ma(O,ge),oe;if(se===null){for(;!je.done;ge++,je=M.next())je=Q(O,je.value,P),je!==null&&(N=f(je,N,ge),_e===null?oe=je:_e.sibling=je,_e=je);return xe&&ma(O,ge),oe}for(se=s(se);!je.done;ge++,je=M.next())je=$(se,O,ge,je.value,P),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?ge:je.key),N=f(je,N,ge),_e===null?oe=je:_e.sibling=je,_e=je);return e&&se.forEach(function(fv){return t(O,fv)}),xe&&ma(O,ge),oe}function ke(O,N,M,P){if(typeof M=="object"&&M!==null&&M.type===T&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case E:e:{for(var oe=M.key;N!==null;){if(N.key===oe){if(oe=M.type,oe===T){if(N.tag===7){a(O,N.sibling),P=u(N,M.props.children),P.return=O,O=P;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===V&&_n(oe)===N.type){a(O,N.sibling),P=u(N,M.props),ul(P,M),P.return=O,O=P;break e}a(O,N);break}else t(O,N);N=N.sibling}M.type===T?(P=vn(M.props.children,O.mode,P,M.key),P.return=O,O=P):(P=xr(M.type,M.key,M.props,null,O.mode,P),ul(P,M),P.return=O,O=P)}return v(O);case k:e:{for(oe=M.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){a(O,N.sibling),P=u(N,M.children||[]),P.return=O,O=P;break e}else{a(O,N);break}else t(O,N);N=N.sibling}P=xo(M,O.mode,P),P.return=O,O=P}return v(O);case V:return M=_n(M),ke(O,N,M,P)}if(Le(M))return ne(O,N,M,P);if(ce(M)){if(oe=ce(M),typeof oe!="function")throw Error(i(150));return M=oe.call(M),de(O,N,M,P)}if(typeof M.then=="function")return ke(O,N,Ar(M),P);if(M.$$typeof===A)return ke(O,N,_r(O,M),P);Tr(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,N!==null&&N.tag===6?(a(O,N.sibling),P=u(N,M),P.return=O,O=P):(a(O,N),P=bo(M,O.mode,P),P.return=O,O=P),v(O)):a(O,N)}return function(O,N,M,P){try{cl=0;var oe=ke(O,N,M,P);return rs=null,oe}catch(se){if(se===ls||se===Er)throw se;var _e=Ot(29,se,null,O.mode);return _e.lanes=P,_e.return=O,_e}finally{}}}var En=hf(!0),mf=hf(!1),$a=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=br(e),Jd(e,null,a),t}return vr(e,s,t,a),br(e)}function dl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,sd(e,a)}}function Mo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Uo=!1;function fl(){if(Uo){var e=ss;if(e!==null)throw e}}function hl(e,t,a,s){Uo=!1;var u=e.updateQueue;$a=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var _=w,U=_.next;_.next=null,v===null?f=U:v.next=U,v=_;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==v&&(w===null?Y.firstBaseUpdate=U:w.next=U,Y.lastBaseUpdate=_))}if(f!==null){var Q=u.baseState;v=0,Y=U=_=null,w=f;do{var z=w.lane&-536870913,$=z!==w.lane;if($?(ve&z)===z:(s&z)===z){z!==0&&z===ns&&(Uo=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ne=e,de=w;z=t;var ke=a;switch(de.tag){case 1:if(ne=de.payload,typeof ne=="function"){Q=ne.call(ke,Q,z);break e}Q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=de.payload,z=typeof ne=="function"?ne.call(ke,Q,z):ne,z==null)break e;Q=x({},Q,z);break e;case 2:$a=!0}}z=w.callback,z!==null&&(e.flags|=64,$&&(e.flags|=8192),$=u.callbacks,$===null?u.callbacks=[z]:$.push(z))}else $={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(U=Y=$,_=Q):Y=Y.next=$,v|=z;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;$=w,w=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);Y===null&&(_=Q),u.baseState=_,u.firstBaseUpdate=U,u.lastBaseUpdate=Y,f===null&&(u.shared.lanes=0),Ia|=v,e.lanes=v,e.memoizedState=Q}}function gf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function pf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gf(a[e],t)}var is=j(null),Or=j(0);function yf(e,t){e=Ea,J(Or,e),J(is,t),Ea=e|t.baseLanes}function Lo(){J(Or,Ea),J(is,is.current)}function zo(){Ea=Or.current,B(is),B(Or)}var Rt=j(null),Zt=null;function Ga(e){var t=e.alternate;J(Ye,Ye.current&1),J(Rt,e),Zt===null&&(t===null||is.current!==null||t.memoizedState!==null)&&(Zt=e)}function Bo(e){J(Ye,Ye.current),J(Rt,e),Zt===null&&(Zt=e)}function vf(e){e.tag===22?(J(Ye,Ye.current),J(Rt,e),Zt===null&&(Zt=e)):Va()}function Va(){J(Ye,Ye.current),J(Rt,Rt.current)}function Ct(e){B(Rt),Zt===e&&(Zt=null),B(Ye)}var Ye=j(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yc(a)||Zc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,me=null,Re=null,Pe=null,Cr=!1,os=!1,Nn=!1,kr=0,ml=0,cs=null,ay=0;function Ge(){throw Error(i(321))}function $o(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Tt(e[a],t[a]))return!1;return!0}function Ho(e,t,a,s,u,f){return ya=f,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?th:tc,Nn=!1,f=a(s,u),Nn=!1,os&&(f=xf(t,a,s,u)),bf(e),f}function bf(e){G.H=yl;var t=Re!==null&&Re.next!==null;if(ya=0,Pe=Re=me=null,Cr=!1,ml=0,cs=null,t)throw Error(i(300));e===null||Ke||(e=e.dependencies,e!==null&&Sr(e)&&(Ke=!0))}function xf(e,t,a,s){me=e;var u=0;do{if(os&&(cs=null),ml=0,os=!1,25<=u)throw Error(i(301));if(u+=1,Pe=Re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ah,f=t(a,s)}while(os);return f}function ny(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(me.flags|=1024),t}function qo(){var e=kr!==0;return kr=0,e}function Go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Vo(e){if(Cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cr=!1}ya=0,Pe=Re=me=null,os=!1,ml=kr=0,cs=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ze(){if(Re===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Pe===null?me.memoizedState:Pe.next;if(t!==null)Pe=t,Re=e;else{if(e===null)throw me.alternate===null?Error(i(467)):Error(i(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=ml;return ml+=1,cs===null&&(cs=[]),e=uf(cs,e,t),t=me,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?th:tc),e}function Mr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===A)return it(e)}throw Error(i(438,String(e)))}function Yo(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Dr(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=ae;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function Ur(e){var t=Ze();return Zo(t,Re,e)}function Zo(e,t,a){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=a;var u=e.baseQueue,f=s.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}t.baseQueue=u=f,s.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var w=v=null,_=null,U=t,Y=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ve&Q)===Q:(ya&Q)===Q){var z=U.revertLane;if(z===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===ns&&(Y=!0);else if((ya&z)===z){U=U.next,z===ns&&(Y=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(w=_=Q,v=f):_=_.next=Q,me.lanes|=z,Ia|=z;Q=U.action,Nn&&a(f,Q),f=U.hasEagerState?U.eagerState:a(f,Q)}else z={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(w=_=z,v=f):_=_.next=z,me.lanes|=Q,Ia|=Q;U=U.next}while(U!==null&&U!==t);if(_===null?v=f:_.next=w,!Tt(f,e.memoizedState)&&(Ke=!0,Y&&(a=ss,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=_,s.lastRenderedState=f}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Io(e){var t=Ze(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do f=e(f,v.action),v=v.next;while(v!==u);Tt(f,t.memoizedState)||(Ke=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,s]}function wf(e,t,a){var s=me,u=Ze(),f=xe;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=t();var v=!Tt((Re||u).memoizedState,a);if(v&&(u.memoizedState=a,Ke=!0),u=u.queue,Qo(jf.bind(null,s,u,e),[e]),u.getSnapshot!==t||v||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,us(9,{destroy:void 0},_f.bind(null,s,u,a,t),null),Me===null)throw Error(i(349));f||(ya&127)!==0||Sf(s,t,a)}return a}function Sf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=Dr(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _f(e,t,a,s){t.value=a,t.getSnapshot=s,Ef(t)&&Nf(e)}function jf(e,t,a){return a(function(){Ef(t)&&Nf(e)})}function Ef(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Tt(e,a)}catch{return!0}}function Nf(e){var t=yn(e,2);t!==null&&St(t,e,2)}function Po(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),Nn){ka(!0);try{a()}finally{ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function Af(e,t,a,s){return e.baseState=a,Zo(e,Re,typeof s=="function"?s:va)}function sy(e,t,a,s,u){if(Br(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,s(f),a=t.pending,a===null?(f.next=t.pending=f,Tf(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Tf(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var f=G.T,v={};G.T=v;try{var w=a(u,s),_=G.S;_!==null&&_(v,w),Of(e,t,w)}catch(U){Ko(e,t,U)}finally{f!==null&&v.types!==null&&(f.types=v.types),G.T=f}}else try{f=a(u,s),Of(e,t,f)}catch(U){Ko(e,t,U)}}function Of(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Rf(e,t,s)},function(s){return Ko(e,t,s)}):Rf(e,t,a)}function Rf(e,t,a){t.status="fulfilled",t.value=a,Cf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Tf(e,a)))}function Ko(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Cf(t),t=t.next;while(t!==s)}e.action=null}function Cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kf(e,t){return t}function Df(e,t){if(xe){var a=Me.formState;if(a!==null){e:{var s=me;if(xe){if(Be){t:{for(var u=Be,f=Yt;u.nodeType!==8;){if(!f){u=null;break t}if(u=It(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Be=It(u.nextSibling),s=u.data==="F!";break e}}za(s)}s=!1}s&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},a.queue=s,a=Xf.bind(null,me,s),s.dispatch=a,s=Po(!1),f=ec.bind(null,me,!1,s.queue),s=mt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=sy.bind(null,me,u,f,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Mf(e){var t=Ze();return Uf(t,Re,e)}function Uf(e,t,a){if(t=Zo(e,t,kf)[0],e=Ur(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=gl(t)}catch(v){throw v===ls?Er:v}else s=t;t=Ze();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(me.flags|=2048,us(9,{destroy:void 0},ly.bind(null,u,a),null)),[s,f,e]}function ly(e,t){e.action=t}function Lf(e){var t=Ze(),a=Re;if(a!==null)return Uf(t,a,e);Ze(),t=t.memoizedState,a=Ze();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function us(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=Dr(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function zf(){return Ze().memoizedState}function Lr(e,t,a,s){var u=mt();me.flags|=e,u.memoizedState=us(1|t,{destroy:void 0},a,s===void 0?null:s)}function zr(e,t,a,s){var u=Ze();s=s===void 0?null:s;var f=u.memoizedState.inst;Re!==null&&s!==null&&$o(s,Re.memoizedState.deps)?u.memoizedState=us(t,f,a,s):(me.flags|=e,u.memoizedState=us(1|t,f,a,s))}function Bf(e,t){Lr(8390656,8,e,t)}function Qo(e,t){zr(2048,8,e,t)}function ry(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Dr(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function $f(e){var t=Ze().memoizedState;return ry({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hf(e,t){return zr(4,2,e,t)}function qf(e,t){return zr(4,4,e,t)}function Gf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,a){a=a!=null?a.concat([e]):null,zr(4,4,Gf.bind(null,t,e),a)}function Jo(){}function Yf(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&$o(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Zf(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&$o(t,s[1]))return s[0];if(s=e(),Nn){ka(!0);try{e()}finally{ka(!1)}}return a.memoizedState=[s,t],s}function Fo(e,t,a){return a===void 0||(ya&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ih(),me.lanes|=e,Ia|=e,a)}function If(e,t,a,s){return Tt(a,t)?a:is.current!==null?(e=Fo(e,a,s),Tt(e,t)||(Ke=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(ve&261930)===0?(Ke=!0,e.memoizedState=a):(e=Ih(),me.lanes|=e,Ia|=e,t)}function Pf(e,t,a,s,u){var f=H.p;H.p=f!==0&&8>f?f:8;var v=G.T,w={};G.T=w,ec(e,!1,t,a);try{var _=u(),U=G.S;if(U!==null&&U(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Y=ty(_,s);pl(e,t,Y,Mt(e))}else pl(e,t,s,Mt(e))}catch(Q){pl(e,t,{then:function(){},status:"rejected",reason:Q},Mt())}finally{H.p=f,v!==null&&w.types!==null&&(v.types=w.types),G.T=v}}function iy(){}function Xo(e,t,a,s){if(e.tag!==5)throw Error(i(476));var u=Kf(e).queue;Pf(e,u,t,q,a===null?iy:function(){return Qf(e),a(s)})}function Kf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:q},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=Kf(e);t.next===null&&(t=e.alternate.memoizedState),pl(e,t.next.queue,{},Mt())}function Wo(){return it(Dl)}function Jf(){return Ze().memoizedState}function Ff(){return Ze().memoizedState}function oy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Mt();e=Ha(a);var s=qa(t,e,a);s!==null&&(St(s,t,a),dl(s,t,a)),t={cache:To()},e.payload=t;return}t=t.return}}function cy(e,t,a){var s=Mt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Br(e)?Wf(t,a):(a=yo(e,t,a,s),a!==null&&(St(a,e,s),eh(a,t,s)))}function Xf(e,t,a){var s=Mt();pl(e,t,a,s)}function pl(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Br(e))Wf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,w=f(v,a);if(u.hasEagerState=!0,u.eagerState=w,Tt(w,v))return vr(e,t,u,0),Me===null&&yr(),!1}catch{}finally{}if(a=yo(e,t,u,s),a!==null)return St(a,e,s),eh(a,t,s),!0}return!1}function ec(e,t,a,s){if(s={lane:2,revertLane:kc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Br(e)){if(t)throw Error(i(479))}else t=yo(e,a,s,2),t!==null&&St(t,e,2)}function Br(e){var t=e.alternate;return e===me||t!==null&&t===me}function Wf(e,t){os=Cr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function eh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,sd(e,a)}}var yl={readContext:it,use:Mr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};yl.useEffectEvent=Ge;var th={readContext:it,use:Mr,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Bf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Lr(4194308,4,Gf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Lr(4194308,4,e,t)},useInsertionEffect:function(e,t){Lr(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var s=e();if(Nn){ka(!0);try{e()}finally{ka(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=mt();if(a!==void 0){var u=a(t);if(Nn){ka(!0);try{a(t)}finally{ka(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=cy.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Po(e);var t=e.queue,a=Xf.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Jo,useDeferredValue:function(e,t){var a=mt();return Fo(a,e,t)},useTransition:function(){var e=Po(!1);return e=Pf.bind(null,me,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,u=mt();if(xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Me===null)throw Error(i(349));(ve&127)!==0||Sf(s,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,Bf(jf.bind(null,s,f,e),[e]),s.flags|=2048,us(9,{destroy:void 0},_f.bind(null,s,f,a,t),null),a},useId:function(){var e=mt(),t=Me.identifierPrefix;if(xe){var a=ra,s=la;a=(s&~(1<<32-At(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=kr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ay++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wo,useFormState:Df,useActionState:Df,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ec.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yo,useCacheRefresh:function(){return mt().memoizedState=oy.bind(null,me)},useEffectEvent:function(e){var t=mt(),a={impl:e};return t.memoizedState=a,function(){if((Ee&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},tc={readContext:it,use:Mr,useCallback:Yf,useContext:it,useEffect:Qo,useImperativeHandle:Vf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:Zf,useReducer:Ur,useRef:zf,useState:function(){return Ur(va)},useDebugValue:Jo,useDeferredValue:function(e,t){var a=Ze();return If(a,Re.memoizedState,e,t)},useTransition:function(){var e=Ur(va)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:wf,useId:Jf,useHostTransitionStatus:Wo,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var a=Ze();return Af(a,Re,e,t)},useMemoCache:Yo,useCacheRefresh:Ff};tc.useEffectEvent=$f;var ah={readContext:it,use:Mr,useCallback:Yf,useContext:it,useEffect:Qo,useImperativeHandle:Vf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:Zf,useReducer:Io,useRef:zf,useState:function(){return Io(va)},useDebugValue:Jo,useDeferredValue:function(e,t){var a=Ze();return Re===null?Fo(a,e,t):If(a,Re.memoizedState,e,t)},useTransition:function(){var e=Io(va)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:wf,useId:Jf,useHostTransitionStatus:Wo,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,t){var a=Ze();return Re!==null?Af(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:Ff};ah.useEffectEvent=$f;function ac(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Mt(),u=Ha(s);u.payload=t,a!=null&&(u.callback=a),t=qa(e,u,s),t!==null&&(St(t,e,s),dl(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Mt(),u=Ha(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=qa(e,u,s),t!==null&&(St(t,e,s),dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mt(),s=Ha(a);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,a),t!==null&&(St(t,e,a),dl(t,e,a))}};function nh(e,t,a,s,u,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,v):t.prototype&&t.prototype.isPureReactComponent?!nl(a,s)||!nl(u,f):!0}function sh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function An(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function lh(e){pr(e)}function rh(e){console.error(e)}function ih(e){pr(e)}function $r(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function oh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function sc(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){$r(e,t)},a}function ch(e){return e=Ha(e),e.tag=3,e}function uh(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=s.value;e.payload=function(){return u(f)},e.callback=function(){oh(t,a,s)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){oh(t,a,s),typeof u!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function uy(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&as(t,a,u,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?Fr():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===Nr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Oc(e,s,u)),!1;case 22:return a.flags|=65536,s===Nr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Oc(e,s,u)),!1}throw Error(i(435,a.tag))}return Oc(e,s,u),Fr(),!1}if(xe)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==_o&&(e=Error(i(422),{cause:s}),rl(qt(e,a)))):(s!==_o&&(t=Error(i(423),{cause:s}),rl(qt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=qt(s,a),u=sc(e.stateNode,s,u),Mo(e,u),Ve!==4&&(Ve=2)),!1;var f=Error(i(520),{cause:s});if(f=qt(f,a),El===null?El=[f]:El.push(f),Ve!==4&&(Ve=2),t===null)return!0;s=qt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=sc(a.stateNode,s,e),Mo(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pa===null||!Pa.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ch(u),uh(u,e,a,s),Mo(a,u),!1}a=a.return}while(a!==null);return!1}var lc=Error(i(461)),Ke=!1;function ot(e,t,a,s){t.child=e===null?mf(t,null,a,s):En(t,e.child,a,s)}function dh(e,t,a,s,u){a=a.render;var f=t.ref;if("ref"in s){var v={};for(var w in s)w!=="ref"&&(v[w]=s[w])}else v=s;return wn(t),s=Ho(e,t,a,v,f,u),w=qo(),e!==null&&!Ke?(Go(e,t,u),ba(e,t,u)):(xe&&w&&wo(t),t.flags|=1,ot(e,t,s,u),t.child)}function fh(e,t,a,s,u){if(e===null){var f=a.type;return typeof f=="function"&&!vo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,hh(e,t,f,s,u)):(e=xr(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!hc(e,u)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,s)&&e.ref===t.ref)return ba(e,t,u)}return t.flags|=1,e=ha(f,s),e.ref=t.ref,e.return=t,t.child=e}function hh(e,t,a,s,u){if(e!==null){var f=e.memoizedProps;if(nl(f,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=f,hc(e,u))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,ba(e,t,u)}return rc(e,t,a,s,u)}function mh(e,t,a,s){var u=s.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~f}else s=0,t.child=null;return gh(e,t,f,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jr(t,f!==null?f.cachePool:null),f!==null?yf(t,f):Lo(),vf(t);else return s=t.lanes=536870912,gh(e,t,f!==null?f.baseLanes|a:a,a,s)}else f!==null?(jr(t,f.cachePool),yf(t,f),Va(),t.memoizedState=null):(e!==null&&jr(t,null),Lo(),Va());return ot(e,t,u,a),t.child}function vl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gh(e,t,a,s,u){var f=Ro();return f=f===null?null:{parent:Ie._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&jr(t,null),Lo(),vf(t),e!==null&&as(e,t,s,!0),t.childLanes=u,null}function Hr(e,t){return t=Gr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ph(e,t,a){return En(t,e.child,null,a),e=Hr(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function dy(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(s.mode==="hidden")return e=Hr(t,s),t.lanes=536870912,vl(null,e);if(Bo(t),(e=Be)?(e=T0(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},a=Xd(e),a.return=t,t.child=a,rt=t,Be=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Hr(t,s)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Bo(t),u)if(t.flags&256)t.flags&=-257,t=ph(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ke||as(e,t,a,!1),u=(a&e.childLanes)!==0,Ke||u){if(s=Me,s!==null&&(v=ld(s,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,yn(e,v),St(s,e,v),lc;Fr(),t=ph(e,t,a)}else e=f.treeContext,Be=It(v.nextSibling),rt=t,xe=!0,La=null,Yt=!1,e!==null&&tf(t,e),t=Hr(t,s),t.flags|=4096;return t}return e=ha(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function rc(e,t,a,s,u){return wn(t),a=Ho(e,t,a,s,void 0,u),s=qo(),e!==null&&!Ke?(Go(e,t,u),ba(e,t,u)):(xe&&s&&wo(t),t.flags|=1,ot(e,t,a,u),t.child)}function yh(e,t,a,s,u,f){return wn(t),t.updateQueue=null,a=xf(t,s,a,u),bf(e),s=qo(),e!==null&&!Ke?(Go(e,t,f),ba(e,t,f)):(xe&&s&&wo(t),t.flags|=1,ot(e,t,a,f),t.child)}function vh(e,t,a,s,u){if(wn(t),t.stateNode===null){var f=Xn,v=a.contextType;typeof v=="object"&&v!==null&&(f=it(v)),f=new a(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},ko(t),v=a.contextType,f.context=typeof v=="object"&&v!==null?it(v):Xn,f.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ac(t,a,v,s),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&nc.enqueueReplaceState(f,f.state,null),hl(t,s,f,u),fl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var w=t.memoizedProps,_=An(a,w);f.props=_;var U=f.context,Y=a.contextType;v=Xn,typeof Y=="object"&&Y!==null&&(v=it(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||U!==v)&&sh(t,f,s,v),$a=!1;var z=t.memoizedState;f.state=z,hl(t,s,f,u),fl(),U=t.memoizedState,w||z!==U||$a?(typeof Q=="function"&&(ac(t,a,Q,s),U=t.memoizedState),(_=$a||nh(t,a,_,s,z,U,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),f.props=s,f.state=U,f.context=v,s=_):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,Do(e,t),v=t.memoizedProps,Y=An(a,v),f.props=Y,Q=t.pendingProps,z=f.context,U=a.contextType,_=Xn,typeof U=="object"&&U!==null&&(_=it(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==_)&&sh(t,f,s,_),$a=!1,z=t.memoizedState,f.state=z,hl(t,s,f,u),fl();var $=t.memoizedState;v!==Q||z!==$||$a||e!==null&&e.dependencies!==null&&Sr(e.dependencies)?(typeof w=="function"&&(ac(t,a,w,s),$=t.memoizedState),(Y=$a||nh(t,a,Y,s,z,$,_)||e!==null&&e.dependencies!==null&&Sr(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,$,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,$,_)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=$),f.props=s,f.state=$,f.context=_,s=Y):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,qr(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=En(t,e.child,null,u),t.child=En(t,null,a,u)):ot(e,t,a,u),t.memoizedState=f.state,e=t.child):e=ba(e,t,u),e}function bh(e,t,a,s){return bn(),t.flags|=256,ot(e,t,a,s),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(e){return{baseLanes:e,cachePool:of()}}function cc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function xh(e,t,a){var s=t.pendingProps,u=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(u?Ga(t):Va(),(e=Be)?(e=T0(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},a=Xd(e),a.return=t,t.child=a,rt=t,Be=null)):e=null,e===null)throw za(t);return Zc(e)?t.lanes=32:t.lanes=536870912,null}var w=s.children;return s=s.fallback,u?(Va(),u=t.mode,w=Gr({mode:"hidden",children:w},u),s=vn(s,u,a,null),w.return=t,s.return=t,w.sibling=s,t.child=w,s=t.child,s.memoizedState=oc(a),s.childLanes=cc(e,v,a),t.memoizedState=ic,vl(null,s)):(Ga(t),uc(t,w))}var _=e.memoizedState;if(_!==null&&(w=_.dehydrated,w!==null)){if(f)t.flags&256?(Ga(t),t.flags&=-257,t=dc(e,t,a)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),w=s.fallback,u=t.mode,s=Gr({mode:"visible",children:s.children},u),w=vn(w,u,a,null),w.flags|=2,s.return=t,w.return=t,s.sibling=w,t.child=s,En(t,e.child,null,a),s=t.child,s.memoizedState=oc(a),s.childLanes=cc(e,v,a),t.memoizedState=ic,t=vl(null,s));else if(Ga(t),Zc(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var U=v.dgst;v=U,s=Error(i(419)),s.stack="",s.digest=v,rl({value:s,source:null,stack:null}),t=dc(e,t,a)}else if(Ke||as(e,t,a,!1),v=(a&e.childLanes)!==0,Ke||v){if(v=Me,v!==null&&(s=ld(v,a),s!==0&&s!==_.retryLane))throw _.retryLane=s,yn(e,s),St(v,e,s),lc;Yc(w)||Fr(),t=dc(e,t,a)}else Yc(w)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Be=It(w.nextSibling),rt=t,xe=!0,La=null,Yt=!1,e!==null&&tf(t,e),t=uc(t,s.children),t.flags|=4096);return t}return u?(Va(),w=s.fallback,u=t.mode,_=e.child,U=_.sibling,s=ha(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,U!==null?w=ha(U,w):(w=vn(w,u,a,null),w.flags|=2),w.return=t,s.return=t,s.sibling=w,t.child=s,vl(null,s),s=t.child,w=e.child.memoizedState,w===null?w=oc(a):(u=w.cachePool,u!==null?(_=Ie._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=of(),w={baseLanes:w.baseLanes|a,cachePool:u}),s.memoizedState=w,s.childLanes=cc(e,v,a),t.memoizedState=ic,vl(e.child,s)):(Ga(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function uc(e,t){return t=Gr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gr(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function dc(e,t,a){return En(t,e.child,null,a),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),No(e.return,t,a)}function fc(e,t,a,s,u,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=a,v.tailMode=u,v.treeForkCount=f)}function Sh(e,t,a){var s=t.pendingProps,u=s.revealOrder,f=s.tail;s=s.children;var v=Ye.current,w=(v&2)!==0;if(w?(v=v&1|2,t.flags|=128):v&=1,J(Ye,v),ot(e,t,s,a),s=xe?ll:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,a,t);else if(e.tag===19)wh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Rr(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),fc(t,!1,u,a,f,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Rr(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}fc(t,!0,a,null,f,s);break;case"together":fc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(as(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function hc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sr(e)))}function fy(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),Ba(t,Ie,e.memoizedState.cache),bn();break;case 27:case 5:jt(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ga(t),t.flags|=128,null):(a&t.child.childLanes)!==0?xh(e,t,a):(Ga(t),e=ba(e,t,a),e!==null?e.sibling:null);Ga(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(as(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return Sh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),J(Ye,Ye.current),s)break;return null;case 22:return t.lanes=0,mh(e,t,a,t.pendingProps);case 24:Ba(t,Ie,e.memoizedState.cache)}return ba(e,t,a)}function _h(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!hc(e,a)&&(t.flags&128)===0)return Ke=!1,fy(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,xe&&(t.flags&1048576)!==0&&ef(t,ll,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=_n(t.elementType),t.type=e,typeof e=="function")vo(e)?(s=An(e,s),t.tag=1,t=vh(null,t,e,s,a)):(t.tag=0,t=rc(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===I){t.tag=11,t=dh(null,t,e,s,a);break e}else if(u===K){t.tag=14,t=fh(null,t,e,s,a);break e}}throw t=Ne(e)||e,Error(i(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=An(s,t.pendingProps),vh(e,t,s,u,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(i(387));s=t.pendingProps;var f=t.memoizedState;u=f.element,Do(e,t),hl(t,s,null,a);var v=t.memoizedState;if(s=v.cache,Ba(t,Ie,s),s!==f.cache&&Ao(t,[Ie],a,!0),fl(),s=v.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=bh(e,t,s,a);break e}else if(s!==u){u=qt(Error(i(424)),t),rl(u),t=bh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=It(e.firstChild),rt=t,xe=!0,La=null,Yt=!0,a=mf(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bn(),s===u){t=ba(e,t,a);break e}ot(e,t,s,a)}t=t.child}return t;case 26:return qr(e,t),e===null?(a=M0(t.type,null,t.pendingProps,null))?t.memoizedState=a:xe||(a=t.type,e=t.pendingProps,s=si(X.current).createElement(a),s[lt]=t,s[pt]=e,ct(s,a,e),et(s),t.stateNode=s):t.memoizedState=M0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jt(t),e===null&&xe&&(s=t.stateNode=C0(t.type,t.pendingProps,X.current),rt=t,Yt=!0,u=Be,Fa(t.type)?(Ic=u,Be=It(s.firstChild)):Be=u),ot(e,t,t.pendingProps.children,a),qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((u=s=Be)&&(s=Gy(s,t.type,t.pendingProps,Yt),s!==null?(t.stateNode=s,rt=t,Be=It(s.firstChild),Yt=!1,u=!0):u=!1),u||za(t)),jt(t),u=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,s=f.children,qc(u,f)?s=null:v!==null&&qc(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Ho(e,t,ny,null,null,a),Dl._currentValue=u),qr(e,t),ot(e,t,s,a),t.child;case 6:return e===null&&xe&&((e=a=Be)&&(a=Vy(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,rt=t,Be=null,e=!0):e=!1),e||za(t)),null;case 13:return xh(e,t,a);case 4:return De(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=En(t,null,s,a):ot(e,t,s,a),t.child;case 11:return dh(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ba(t,t.type,s.value),ot(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,wn(t),u=it(u),s=s(u),t.flags|=1,ot(e,t,s,a),t.child;case 14:return fh(e,t,t.type,t.pendingProps,a);case 15:return hh(e,t,t.type,t.pendingProps,a);case 19:return Sh(e,t,a);case 31:return dy(e,t,a);case 22:return mh(e,t,a,t.pendingProps);case 24:return wn(t),s=it(Ie),e===null?(u=Ro(),u===null&&(u=Me,f=To(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:s,cache:u},ko(t),Ba(t,Ie,u)):((e.lanes&a)!==0&&(Do(e,t),hl(t,null,null,a),fl()),u=e.memoizedState,f=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ba(t,Ie,s)):(s=f.cache,Ba(t,Ie,s),s!==u.cache&&Ao(t,[Ie],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function xa(e){e.flags|=4}function mc(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Jh())e.flags|=8192;else throw jn=Nr,Co}else e.flags&=-16777217}function jh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$0(t))if(Jh())e.flags|=8192;else throw jn=Nr,Co}function Vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ad():536870912,e.lanes|=t,ms|=t)}function bl(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function hy(e,t,a){var s=t.pendingProps;switch(So(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),pa(Ie),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ts(t)?xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jo())),$e(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(xa(t),f!==null?($e(t),jh(t,f)):($e(t),mc(t,u,null,s,a))):f?f!==e.memoizedState?(xa(t),$e(t),jh(t,f)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&xa(t),$e(t),mc(t,u,e,s,a)),null;case 27:if(Jt(t),a=X.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&xa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return $e(t),null}e=W.current,ts(t)?af(t):(e=C0(u,s,a),t.stateNode=e,xa(t))}return $e(t),null;case 5:if(Jt(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&xa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return $e(t),null}if(f=W.current,ts(t))af(t);else{var v=si(X.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?v.createElement(u,{is:s.is}):v.createElement(u)}}f[lt]=t,f[pt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=f;e:switch(ct(f,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xa(t)}}return $e(t),mc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&xa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=X.current,ts(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=rt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||x0(e.nodeValue,a)),e||za(t,!0)}else e=si(e).createTextNode(s),e[lt]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ts(t),a!==null){if(e===null){if(!s)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[lt]=t}else bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(i(558))}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ts(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[lt]=t}else bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),u=!1}else u=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vr(t,t.updateQueue),$e(t),null);case 4:return Oe(),e===null&&Lc(t.stateNode.containerInfo),$e(t),null;case 10:return pa(t.type),$e(t),null;case 19:if(B(Ye),s=t.memoizedState,s===null)return $e(t),null;if(u=(t.flags&128)!==0,f=s.rendering,f===null)if(u)bl(s,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Rr(e),f!==null){for(t.flags|=128,bl(s,!1),e=f.updateQueue,t.updateQueue=e,Vr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Fd(a,e),a=a.sibling;return J(Ye,Ye.current&1|2),xe&&ma(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Et()>Kr&&(t.flags|=128,u=!0,bl(s,!1),t.lanes=4194304)}else{if(!u)if(e=Rr(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Vr(t,e),bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!xe)return $e(t),null}else 2*Et()-s.renderingStartTime>Kr&&a!==536870912&&(t.flags|=128,u=!0,bl(s,!1),t.lanes=4194304);s.isBackwards?(f.sibling=t.child,t.child=f):(e=s.last,e!==null?e.sibling=f:t.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,a=Ye.current,J(Ye,u?a&1|2:a&1),xe&&ma(t,s.treeForkCount),e):($e(t),null);case 22:case 23:return Ct(t),zo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&Vr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&B(Sn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pa(Ie),$e(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function my(e,t){switch(So(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(Ie),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jt(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(i(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ye),null;case 4:return Oe(),null;case 10:return pa(t.type),null;case 22:case 23:return Ct(t),zo(),e!==null&&B(Sn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(Ie),null;case 25:return null;default:return null}}function Eh(e,t){switch(So(t),t.tag){case 3:pa(Ie),Oe();break;case 26:case 27:case 5:Jt(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:B(Ye);break;case 10:pa(t.type);break;case 22:case 23:Ct(t),zo(),e!==null&&B(Sn);break;case 24:pa(Ie)}}function xl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var f=a.create,v=a.inst;s=f(),v.destroy=s}a=a.next}while(a!==u)}}catch(w){Te(t,t.return,w)}}function Ya(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&e)===e){var v=s.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,u=t;var _=a,U=w;try{U()}catch(Y){Te(u,_,Y)}}}s=s.next}while(s!==f)}}catch(Y){Te(t,t.return,Y)}}function Nh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{pf(t,a)}catch(s){Te(e,e.return,s)}}}function Ah(e,t,a){a.props=An(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Te(e,t,s)}}function wl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){Te(e,t,u)}}function ia(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){Te(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Te(e,t,u)}else a.current=null}function Th(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){Te(e,e.return,u)}}function gc(e,t,a){try{var s=e.stateNode;Ly(s,e.type,a,t),s[pt]=t}catch(u){Te(e,e.return,u)}}function Oh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=da));else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(yc(e,t,a),e=e.sibling;e!==null;)yc(e,t,a),e=e.sibling}function Yr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yr(e,t,a),e=e.sibling;e!==null;)Yr(e,t,a),e=e.sibling}function Rh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ct(t,s,a),t[lt]=e,t[pt]=a}catch(f){Te(e,e.return,f)}}var wa=!1,Qe=!1,vc=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,tt=null;function gy(e,t){if(e=e.containerInfo,$c=di,e=Gd(e),uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,w=-1,_=-1,U=0,Y=0,Q=e,z=null;t:for(;;){for(var $;Q!==a||u!==0&&Q.nodeType!==3||(w=v+u),Q!==f||s!==0&&Q.nodeType!==3||(_=v+s),Q.nodeType===3&&(v+=Q.nodeValue.length),($=Q.firstChild)!==null;)z=Q,Q=$;for(;;){if(Q===e)break t;if(z===a&&++U===u&&(w=v),z===f&&++Y===s&&(_=v),($=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=$}a=w===-1||_===-1?null:{start:w,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hc={focusedElem:e,selectionRange:a},di=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var ne=An(a.type,u);e=s.getSnapshotBeforeUpdate(ne,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){Te(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Vc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function kh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:_a(e,a),s&4&&xl(5,a);break;case 1:if(_a(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){Te(a,a.return,v)}else{var u=An(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Te(a,a.return,v)}}s&64&&Nh(a),s&512&&wl(a,a.return);break;case 3:if(_a(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{pf(e,t)}catch(v){Te(a,a.return,v)}}break;case 27:t===null&&s&4&&Rh(a);case 26:case 5:_a(e,a),t===null&&s&4&&Th(a),s&512&&wl(a,a.return);break;case 12:_a(e,a);break;case 31:_a(e,a),s&4&&Uh(e,a);break;case 13:_a(e,a),s&4&&Lh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jy.bind(null,a),Yy(e,a))));break;case 22:if(s=a.memoizedState!==null||wa,!s){t=t!==null&&t.memoizedState!==null||Qe,u=wa;var f=Qe;wa=s,(Qe=t)&&!f?ja(e,a,(a.subtreeFlags&8772)!==0):_a(e,a),wa=u,Qe=f}break;case 30:break;default:_a(e,a)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,vt=!1;function Sa(e,t,a){for(a=a.child;a!==null;)Mh(e,t,a),a=a.sibling}function Mh(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Zs,a)}catch{}switch(a.tag){case 26:Qe||ia(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qe||ia(a,t);var s=He,u=vt;Fa(a.type)&&(He=a.stateNode,vt=!1),Sa(e,t,a),Rl(a.stateNode),He=s,vt=u;break;case 5:Qe||ia(a,t);case 6:if(s=He,u=vt,He=null,Sa(e,t,a),He=s,vt=u,He!==null)if(vt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(f){Te(a,t,f)}else try{He.removeChild(a.stateNode)}catch(f){Te(a,t,f)}break;case 18:He!==null&&(vt?(e=He,N0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ss(e)):N0(He,a.stateNode));break;case 4:s=He,u=vt,He=a.stateNode.containerInfo,vt=!0,Sa(e,t,a),He=s,vt=u;break;case 0:case 11:case 14:case 15:Ya(2,a,t),Qe||Ya(4,a,t),Sa(e,t,a);break;case 1:Qe||(ia(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Ah(a,t,s)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:Qe=(s=Qe)||a.memoizedState!==null,Sa(e,t,a),Qe=s;break;default:Sa(e,t,a)}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ss(e)}catch(a){Te(t,t.return,a)}}}function Lh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ss(e)}catch(a){Te(t,t.return,a)}}function py(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ch),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ch),t;default:throw Error(i(435,e.tag))}}function Zr(e,t){var a=py(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=Ey.bind(null,e,s);s.then(u,u)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],f=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Fa(w.type)){He=w.stateNode,vt=!1;break e}break;case 5:He=w.stateNode,vt=!1;break e;case 3:case 4:He=w.stateNode.containerInfo,vt=!0;break e}w=w.return}if(He===null)throw Error(i(160));Mh(f,v,u),He=null,vt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zh(t,e),t=t.sibling}var Wt=null;function zh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),xt(e),s&4&&(Ya(3,e,e.return),xl(3,e),Ya(5,e,e.return));break;case 1:bt(t,e),xt(e),s&512&&(Qe||a===null||ia(a,a.return)),s&64&&wa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=Wt;if(bt(t,e),xt(e),s&512&&(Qe||a===null||ia(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ks]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(s),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,s,a),f[lt]=e,et(f),s=f;break e;case"link":var v=z0("link","href",u).get(s+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}f=u.createElement(s),ct(f,s,a),u.head.appendChild(f);break;case"meta":if(v=z0("meta","content",u).get(s+(a.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}f=u.createElement(s),ct(f,s,a),u.head.appendChild(f);break;default:throw Error(i(468,s))}f[lt]=e,et(f),s=f}e.stateNode=s}else B0(u,e.type,e.stateNode);else e.stateNode=L0(u,s,e.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?B0(u,e.type,e.stateNode):L0(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&gc(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),xt(e),s&512&&(Qe||a===null||ia(a,a.return)),a!==null&&s&4&&gc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),xt(e),s&512&&(Qe||a===null||ia(a,a.return)),e.flags&32){u=e.stateNode;try{Zn(u,"")}catch(ne){Te(e,e.return,ne)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,gc(e,u,a!==null?a.memoizedProps:u)),s&1024&&(vc=!0);break;case 6:if(bt(t,e),xt(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ne){Te(e,e.return,ne)}}break;case 3:if(ii=null,u=Wt,Wt=li(t.containerInfo),bt(t,e),Wt=u,xt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(ne){Te(e,e.return,ne)}vc&&(vc=!1,Bh(e));break;case 4:s=Wt,Wt=li(e.stateNode.containerInfo),bt(t,e),xt(e),Wt=s;break;case 12:bt(t,e),xt(e);break;case 31:bt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 13:bt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pr=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,U=wa,Y=Qe;if(wa=U||u,Qe=Y||_,bt(t,e),Qe=Y,wa=U,xt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||_||wa||Qe||Tn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(f=_.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=_.stateNode;var Q=_.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ne){Te(_,_.return,ne)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(ne){Te(_,_.return,ne)}}}else if(t.tag===18){if(a===null){_=t;try{var $=_.stateNode;u?A0($,!0):A0(_.stateNode,!1)}catch(ne){Te(_,_.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Zr(e,a))));break;case 19:bt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zr(e,s)));break;case 30:break;case 21:break;default:bt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Oh(s)){a=s;break}s=s.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=pc(e);Yr(e,f,u);break;case 5:var v=a.stateNode;a.flags&32&&(Zn(v,""),a.flags&=-33);var w=pc(e);Yr(e,w,v);break;case 3:case 4:var _=a.stateNode.containerInfo,U=pc(e);yc(e,U,_);break;default:throw Error(i(161))}}catch(Y){Te(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kh(e,t.alternate,t),t=t.sibling}function Tn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),Tn(t);break;case 1:ia(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ah(t,t.return,a),Tn(t);break;case 27:Rl(t.stateNode);case 26:case 5:ia(t,t.return),Tn(t);break;case 22:t.memoizedState===null&&Tn(t);break;case 30:Tn(t);break;default:Tn(t)}e=e.sibling}}function ja(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:ja(u,f,a),xl(4,f);break;case 1:if(ja(u,f,a),s=f,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(U){Te(s,s.return,U)}if(s=f,u=s.updateQueue,u!==null){var w=s.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)gf(_[u],w)}catch(U){Te(s,s.return,U)}}a&&v&64&&Nh(f),wl(f,f.return);break;case 27:Rh(f);case 26:case 5:ja(u,f,a),a&&s===null&&v&4&&Th(f),wl(f,f.return);break;case 12:ja(u,f,a);break;case 31:ja(u,f,a),a&&v&4&&Uh(u,f);break;case 13:ja(u,f,a),a&&v&4&&Lh(u,f);break;case 22:f.memoizedState===null&&ja(u,f,a),wl(f,f.return);break;case 30:break;default:ja(u,f,a)}t=t.sibling}}function bc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&il(a))}function xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e))}function ea(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$h(e,t,a,s),t=t.sibling}function $h(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,a,s),u&2048&&xl(9,t);break;case 1:ea(e,t,a,s);break;case 3:ea(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e)));break;case 12:if(u&2048){ea(e,t,a,s),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Te(t,t.return,_)}}else ea(e,t,a,s);break;case 31:ea(e,t,a,s);break;case 13:ea(e,t,a,s);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?ea(e,t,a,s):Sl(e,t):f._visibility&2?ea(e,t,a,s):(f._visibility|=2,ds(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&bc(v,t);break;case 24:ea(e,t,a,s),u&2048&&xc(t.alternate,t);break;default:ea(e,t,a,s)}}function ds(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,v=t,w=a,_=s,U=v.flags;switch(v.tag){case 0:case 11:case 15:ds(f,v,w,_,u),xl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?ds(f,v,w,_,u):Sl(f,v):(Y._visibility|=2,ds(f,v,w,_,u)),u&&U&2048&&bc(v.alternate,v);break;case 24:ds(f,v,w,_,u),u&&U&2048&&xc(v.alternate,v);break;default:ds(f,v,w,_,u)}t=t.sibling}}function Sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:Sl(a,s),u&2048&&bc(s.alternate,s);break;case 24:Sl(a,s),u&2048&&xc(s.alternate,s);break;default:Sl(a,s)}t=t.sibling}}var _l=8192;function fs(e,t,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)Hh(e,t,a),e=e.sibling}function Hh(e,t,a){switch(e.tag){case 26:fs(e,t,a),e.flags&_l&&e.memoizedState!==null&&av(a,Wt,e.memoizedState,e.memoizedProps);break;case 5:fs(e,t,a);break;case 3:case 4:var s=Wt;Wt=li(e.stateNode.containerInfo),fs(e,t,a),Wt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=_l,_l=16777216,fs(e,t,a),_l=s):fs(e,t,a));break;default:fs(e,t,a)}}function qh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Vh(s,e)}qh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gh(e),e=e.sibling}function Gh(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ir(e)):jl(e);break;default:jl(e)}}function Ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Vh(s,e)}qh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Ir(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ir(t));break;default:Ir(t)}e=e.sibling}}function Vh(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:il(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var u=s.sibling,f=s.return;if(Dh(s),s===a){tt=null;break e}if(u!==null){u.return=f,tt=u;break e}tt=f}}}var yy={getCacheForType:function(e){var t=it(Ie),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it(Ie).controller.signal}},vy=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Me=null,pe=null,ve=0,Ae=0,kt=null,Za=!1,hs=!1,wc=!1,Ea=0,Ve=0,Ia=0,On=0,Sc=0,Dt=0,ms=0,El=null,wt=null,_c=!1,Pr=0,Yh=0,Kr=1/0,Qr=null,Pa=null,Xe=0,Ka=null,gs=null,Na=0,jc=0,Ec=null,Zh=null,Nl=0,Nc=null;function Mt(){return(Ee&2)!==0&&ve!==0?ve&-ve:G.T!==null?kc():rd()}function Ih(){if(Dt===0)if((ve&536870912)===0||xe){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Dt=e}else Dt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Dt}function St(e,t,a){(e===Me&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ps(e,0),Qa(e,ve,Dt,!1)),Ps(e,a),((Ee&2)===0||e!==Me)&&(e===Me&&((Ee&2)===0&&(On|=a),Ve===4&&Qa(e,ve,Dt,!1)),oa(e))}function Ph(e,t,a){if((Ee&6)!==0)throw Error(i(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Is(e,t),u=s?wy(e,t):Tc(e,t,!0),f=s;do{if(u===0){hs&&!s&&Qa(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!by(a)){u=Tc(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var w=e;u=El;var _=w.current.memoizedState.isDehydrated;if(_&&(ps(w,v).flags|=256),v=Tc(w,v,!1),v!==2){if(wc&&!_){w.errorRecoveryDisabledLanes|=f,On|=f,u=4;break e}f=wt,wt=u,f!==null&&(wt===null?wt=f:wt.push.apply(wt,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){ps(e,0),Qa(e,t,0,!0);break}e:{switch(s=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Qa(s,t,Dt,!Za);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Pr+300-Et(),10<u)){if(Qa(s,t,Dt,!Za),lr(s,0,!0)!==0)break e;Na=t,s.timeoutHandle=j0(Kh.bind(null,s,a,wt,Qr,_c,t,Dt,On,ms,Za,f,"Throttled",-0,0),u);break e}Kh(s,a,wt,Qr,_c,t,Dt,On,ms,Za,f,null,-0,0)}}break}while(!0);oa(e)}function Kh(e,t,a,s,u,f,v,w,_,U,Y,Q,z,$){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},Hh(t,f,Q);var ne=(f&62914560)===f?Pr-Et():(f&4194048)===f?Yh-Et():0;if(ne=nv(Q,ne),ne!==null){Na=f,e.cancelPendingCommit=ne(a0.bind(null,e,t,f,a,s,u,v,w,_,Y,Q,null,z,$)),Qa(e,f,v,!U);return}}a0(e,t,f,a,s,u,v,w,_)}function by(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],f=u.getSnapshot;u=u.value;try{if(!Tt(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qa(e,t,a,s){t&=~Sc,t&=~On,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var f=31-At(u),v=1<<f;s[f]=-1,u&=~v}a!==0&&nd(e,a,t)}function Jr(){return(Ee&6)===0?(Al(0),!1):!0}function Ac(){if(pe!==null){if(Ae===0)var e=pe.return;else e=pe,ga=xn=null,Vo(e),rs=null,cl=0,e=pe;for(;e!==null;)Eh(e.alternate,e),e=e.return;pe=null}}function ps(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$y(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Na=0,Ac(),Me=e,pe=a=ha(e.current,null),ve=t,Ae=0,kt=null,Za=!1,hs=Is(e,t),wc=!1,ms=Dt=Sc=On=Ia=Ve=0,wt=El=null,_c=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-At(s),f=1<<u;t|=e[u],s&=~f}return Ea=t,yr(),a}function Qh(e,t){me=null,G.H=yl,t===ls||t===Er?(t=df(),Ae=3):t===Co?(t=df(),Ae=4):Ae=t===lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,pe===null&&(Ve=1,$r(e,qt(t,e.current)))}function Jh(){var e=Rt.current;return e===null?!0:(ve&4194048)===ve?Zt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Zt:!1}function Fh(){var e=G.H;return G.H=yl,e===null?yl:e}function Xh(){var e=G.A;return G.A=yy,e}function Fr(){Ve=4,Za||(ve&4194048)!==ve&&Rt.current!==null||(hs=!0),(Ia&134217727)===0&&(On&134217727)===0||Me===null||Qa(Me,ve,Dt,!1)}function Tc(e,t,a){var s=Ee;Ee|=2;var u=Fh(),f=Xh();(Me!==e||ve!==t)&&(Qr=null,ps(e,t)),t=!1;var v=Ve;e:do try{if(Ae!==0&&pe!==null){var w=pe,_=kt;switch(Ae){case 8:Ac(),v=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var U=Ae;if(Ae=0,kt=null,ys(e,w,_,U),a&&hs){v=0;break e}break;default:U=Ae,Ae=0,kt=null,ys(e,w,_,U)}}xy(),v=Ve;break}catch(Y){Qh(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ga=xn=null,Ee=s,G.H=u,G.A=f,pe===null&&(Me=null,ve=0,yr()),v}function xy(){for(;pe!==null;)Wh(pe)}function wy(e,t){var a=Ee;Ee|=2;var s=Fh(),u=Xh();Me!==e||ve!==t?(Qr=null,Kr=Et()+500,ps(e,t)):hs=Is(e,t);e:do try{if(Ae!==0&&pe!==null){t=pe;var f=kt;t:switch(Ae){case 1:Ae=0,kt=null,ys(e,t,f,1);break;case 2:case 9:if(cf(f)){Ae=0,kt=null,e0(t);break}t=function(){Ae!==2&&Ae!==9||Me!==e||(Ae=7),oa(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:cf(f)?(Ae=0,kt=null,e0(t)):(Ae=0,kt=null,ys(e,t,f,7));break;case 5:var v=null;switch(pe.tag){case 26:v=pe.memoizedState;case 5:case 27:var w=pe;if(v?$0(v):w.stateNode.complete){Ae=0,kt=null;var _=w.sibling;if(_!==null)pe=_;else{var U=w.return;U!==null?(pe=U,Xr(U)):pe=null}break t}}Ae=0,kt=null,ys(e,t,f,5);break;case 6:Ae=0,kt=null,ys(e,t,f,6);break;case 8:Ac(),Ve=6;break e;default:throw Error(i(462))}}Sy();break}catch(Y){Qh(e,Y)}while(!0);return ga=xn=null,G.H=s,G.A=u,Ee=a,pe!==null?0:(Me=null,ve=0,yr(),Ve)}function Sy(){for(;pe!==null&&!Zg();)Wh(pe)}function Wh(e){var t=_h(e.alternate,e,Ea);e.memoizedProps=e.pendingProps,t===null?Xr(e):pe=t}function e0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=yh(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=yh(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Vo(t);default:Eh(a,t),t=pe=Fd(t,Ea),t=_h(a,t,Ea)}e.memoizedProps=e.pendingProps,t===null?Xr(e):pe=t}function ys(e,t,a,s){ga=xn=null,Vo(t),rs=null,cl=0;var u=t.return;try{if(uy(e,u,t,a,ve)){Ve=1,$r(e,qt(a,e.current)),pe=null;return}}catch(f){if(u!==null)throw pe=u,f;Ve=1,$r(e,qt(a,e.current)),pe=null;return}t.flags&32768?(xe||s===1?e=!0:hs||(ve&536870912)!==0?e=!1:(Za=e=!0,(s===2||s===9||s===3||s===6)&&(s=Rt.current,s!==null&&s.tag===13&&(s.flags|=16384))),t0(t,e)):Xr(t)}function Xr(e){var t=e;do{if((t.flags&32768)!==0){t0(t,Za);return}e=t.return;var a=hy(t.alternate,t,Ea);if(a!==null){pe=a;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Ve===0&&(Ve=5)}function t0(e,t){do{var a=my(e.alternate,e);if(a!==null){a.flags&=32767,pe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=a}while(e!==null);Ve=6,pe=null}function a0(e,t,a,s,u,f,v,w,_){e.cancelPendingCommit=null;do Wr();while(Xe!==0);if((Ee&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=po,tp(e,a,f,v,w,_),e===Me&&(pe=Me=null,ve=0),gs=t,Ka=e,Na=a,jc=f,Ec=u,Zh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ny(tr,function(){return i0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,u=H.p,H.p=2,v=Ee,Ee|=4;try{gy(e,t,a)}finally{Ee=v,H.p=u,G.T=s}}Xe=1,n0(),s0(),l0()}}function n0(){if(Xe===1){Xe=0;var e=Ka,t=gs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var s=H.p;H.p=2;var u=Ee;Ee|=4;try{zh(t,e);var f=Hc,v=Gd(e.containerInfo),w=f.focusedElem,_=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&qd(w.ownerDocument.documentElement,w)){if(_!==null&&uo(w)){var U=_.start,Y=_.end;if(Y===void 0&&(Y=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min(Y,w.value.length);else{var Q=w.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var $=z.getSelection(),ne=w.textContent.length,de=Math.min(_.start,ne),ke=_.end===void 0?de:Math.min(_.end,ne);!$.extend&&de>ke&&(v=ke,ke=de,de=v);var O=Hd(w,de),N=Hd(w,ke);if(O&&N&&($.rangeCount!==1||$.anchorNode!==O.node||$.anchorOffset!==O.offset||$.focusNode!==N.node||$.focusOffset!==N.offset)){var M=Q.createRange();M.setStart(O.node,O.offset),$.removeAllRanges(),de>ke?($.addRange(M),$.extend(N.node,N.offset)):(M.setEnd(N.node,N.offset),$.addRange(M))}}}}for(Q=[],$=w;$=$.parentNode;)$.nodeType===1&&Q.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var P=Q[w];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}di=!!$c,Hc=$c=null}finally{Ee=u,H.p=s,G.T=a}}e.current=t,Xe=2}}function s0(){if(Xe===2){Xe=0;var e=Ka,t=gs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var s=H.p;H.p=2;var u=Ee;Ee|=4;try{kh(e,t.alternate,t)}finally{Ee=u,H.p=s,G.T=a}}Xe=3}}function l0(){if(Xe===4||Xe===3){Xe=0,Ig();var e=Ka,t=gs,a=Na,s=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,gs=Ka=null,r0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Pa=null),Zi(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=G.T,u=H.p,H.p=2,G.T=null;try{for(var f=e.onRecoverableError,v=0;v<s.length;v++){var w=s[v];f(w.value,{componentStack:w.stack})}}finally{G.T=t,H.p=u}}(Na&3)!==0&&Wr(),oa(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Nc?Nl++:(Nl=0,Nc=e):Nl=0,Al(0)}}function r0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,il(t)))}function Wr(){return n0(),s0(),l0(),i0()}function i0(){if(Xe!==5)return!1;var e=Ka,t=jc;jc=0;var a=Zi(Na),s=G.T,u=H.p;try{H.p=32>a?32:a,G.T=null,a=Ec,Ec=null;var f=Ka,v=Na;if(Xe=0,gs=Ka=null,Na=0,(Ee&6)!==0)throw Error(i(331));var w=Ee;if(Ee|=4,Gh(f.current),$h(f,f.current,v,a),Ee=w,Al(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Zs,f)}catch{}return!0}finally{H.p=u,G.T=s,r0(e,t)}}function o0(e,t,a){t=qt(a,t),t=sc(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(Ps(e,2),oa(e))}function Te(e,t,a){if(e.tag===3)o0(e,e,a);else for(;t!==null;){if(t.tag===3){o0(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pa===null||!Pa.has(s))){e=qt(a,e),a=ch(2),s=qa(t,a,2),s!==null&&(uh(a,s,t,e),Ps(s,2),oa(s));break}}t=t.return}}function Oc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new vy;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(wc=!0,u.add(a),e=_y.bind(null,e,t,a),t.then(e,e))}function _y(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(ve&a)===a&&(Ve===4||Ve===3&&(ve&62914560)===ve&&300>Et()-Pr?(Ee&2)===0&&ps(e,0):Sc|=a,ms===ve&&(ms=0)),oa(e)}function c0(e,t){t===0&&(t=ad()),e=yn(e,t),e!==null&&(Ps(e,t),oa(e))}function jy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),c0(e,a)}function Ey(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),c0(e,a)}function Ny(e,t){return qi(e,t)}var ei=null,vs=null,Rc=!1,ti=!1,Cc=!1,Ja=0;function oa(e){e!==vs&&e.next===null&&(vs===null?ei=vs=e:vs=vs.next=e),ti=!0,Rc||(Rc=!0,Ty())}function Al(e,t){if(!Cc&&ti){Cc=!0;do for(var a=!1,s=ei;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var f=0;else{var v=s.suspendedLanes,w=s.pingedLanes;f=(1<<31-At(42|e)+1)-1,f&=u&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h0(s,f))}else f=ve,f=lr(s,s===Me?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Is(s,f)||(a=!0,h0(s,f));s=s.next}while(a);Cc=!1}}function Ay(){u0()}function u0(){ti=Rc=!1;var e=0;Ja!==0&&By()&&(e=Ja);for(var t=Et(),a=null,s=ei;s!==null;){var u=s.next,f=d0(s,t);f===0?(s.next=null,a===null?ei=u:a.next=u,u===null&&(vs=a)):(a=s,(e!==0||(f&3)!==0)&&(ti=!0)),s=u}Xe!==0&&Xe!==5||Al(e),Ja!==0&&(Ja=0)}function d0(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-At(f),w=1<<v,_=u[v];_===-1?((w&a)===0||(w&s)!==0)&&(u[v]=ep(w,t)):_<=t&&(e.expiredLanes|=w),f&=~w}if(t=Me,a=ve,a=lr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Gi(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Is(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Gi(s),Zi(a)){case 2:case 8:a=ed;break;case 32:a=tr;break;case 268435456:a=td;break;default:a=tr}return s=f0.bind(null,e),a=qi(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Gi(s),e.callbackPriority=2,e.callbackNode=null,2}function f0(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wr()&&e.callbackNode!==a)return null;var s=ve;return s=lr(e,e===Me?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ph(e,s,t),d0(e,Et()),e.callbackNode!=null&&e.callbackNode===a?f0.bind(null,e):null)}function h0(e,t){if(Wr())return null;Ph(e,t,!0)}function Ty(){Hy(function(){(Ee&6)!==0?qi(Wu,Ay):u0()})}function kc(){if(Ja===0){var e=ns;e===0&&(e=ar,ar<<=1,(ar&261888)===0&&(ar=256)),Ja=e}return Ja}function m0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function g0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Oy(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var f=m0((u[pt]||null).action),v=s.submitter;v&&(t=(t=v[pt]||null)?m0(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var w=new hr("action","action",null,s,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ja!==0){var _=v?g0(u,v):new FormData(u);Xo(a,{pending:!0,data:_,method:u.method,action:f},null,_)}}else typeof f=="function"&&(w.preventDefault(),_=v?g0(u,v):new FormData(u),Xo(a,{pending:!0,data:_,method:u.method,action:f},f,_))},currentTarget:u}]})}}for(var Dc=0;Dc<go.length;Dc++){var Mc=go[Dc],Ry=Mc.toLowerCase(),Cy=Mc[0].toUpperCase()+Mc.slice(1);Xt(Ry,"on"+Cy)}Xt(Zd,"onAnimationEnd"),Xt(Id,"onAnimationIteration"),Xt(Pd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Pp,"onTransitionRun"),Xt(Kp,"onTransitionStart"),Xt(Qp,"onTransitionCancel"),Xt(Kd,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function p0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var v=s.length-1;0<=v;v--){var w=s[v],_=w.instance,U=w.currentTarget;if(w=w.listener,_!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=U;try{f(u)}catch(Y){pr(Y)}u.currentTarget=null,f=_}else for(v=0;v<s.length;v++){if(w=s[v],_=w.instance,U=w.currentTarget,w=w.listener,_!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=U;try{f(u)}catch(Y){pr(Y)}u.currentTarget=null,f=_}}}}function ye(e,t){var a=t[Ii];a===void 0&&(a=t[Ii]=new Set);var s=e+"__bubble";a.has(s)||(y0(t,e,2,!1),a.add(s))}function Uc(e,t,a){var s=0;t&&(s|=4),y0(a,e,s,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[ai]){e[ai]=!0,cd.forEach(function(a){a!=="selectionchange"&&(ky.has(a)||Uc(a,!1,e),Uc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,Uc("selectionchange",!1,t))}}function y0(e,t,a,s){switch(I0(t)){case 2:var u=rv;break;case 8:u=iv;break;default:u=Fc}a=u.bind(null,t,a,e),u=void 0,!to||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function zc(e,t,a,s,u){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var w=s.stateNode.containerInfo;if(w===u)break;if(v===4)for(v=s.return;v!==null;){var _=v.tag;if((_===3||_===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;w!==null;){if(v=Hn(w),v===null)return;if(_=v.tag,_===5||_===6||_===26||_===27){s=f=v;continue e}w=w.parentNode}}s=s.return}wd(function(){var U=f,Y=Wi(a),Q=[];e:{var z=Qd.get(e);if(z!==void 0){var $=hr,ne=e;switch(e){case"keypress":if(dr(a)===0)break e;case"keydown":case"keyup":$=Ep;break;case"focusin":ne="focus",$=lo;break;case"focusout":ne="blur",$=lo;break;case"beforeblur":case"afterblur":$=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Tp;break;case Zd:case Id:case Pd:$=pp;break;case Kd:$=Rp;break;case"scroll":case"scrollend":$=dp;break;case"wheel":$=kp;break;case"copy":case"cut":case"paste":$=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Nd;break;case"toggle":case"beforetoggle":$=Mp}var de=(t&4)!==0,ke=!de&&(e==="scroll"||e==="scrollend"),O=de?z!==null?z+"Capture":null:z;de=[];for(var N=U,M;N!==null;){var P=N;if(M=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||M===null||O===null||(P=Js(N,O),P!=null&&de.push(Ol(N,P,M))),ke)break;N=N.return}0<de.length&&(z=new $(z,ne,null,a,Y),Q.push({event:z,listeners:de}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",z&&a!==Xi&&(ne=a.relatedTarget||a.fromElement)&&(Hn(ne)||ne[$n]))break e;if(($||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,$?(ne=a.relatedTarget||a.toElement,$=U,ne=ne?Hn(ne):null,ne!==null&&(ke=d(ne),de=ne.tag,ne!==ke||de!==5&&de!==27&&de!==6)&&(ne=null)):($=null,ne=U),$!==ne)){if(de=jd,P="onMouseLeave",O="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(de=Nd,P="onPointerLeave",O="onPointerEnter",N="pointer"),ke=$==null?z:Qs($),M=ne==null?z:Qs(ne),z=new de(P,N+"leave",$,a,Y),z.target=ke,z.relatedTarget=M,P=null,Hn(Y)===U&&(de=new de(O,N+"enter",ne,a,Y),de.target=M,de.relatedTarget=ke,P=de),ke=P,$&&ne)t:{for(de=Dy,O=$,N=ne,M=0,P=O;P;P=de(P))M++;P=0;for(var oe=N;oe;oe=de(oe))P++;for(;0<M-P;)O=de(O),M--;for(;0<P-M;)N=de(N),P--;for(;M--;){if(O===N||N!==null&&O===N.alternate){de=O;break t}O=de(O),N=de(N)}de=null}else de=null;$!==null&&v0(Q,z,$,de,!1),ne!==null&&ke!==null&&v0(Q,ke,ne,de,!0)}}e:{if(z=U?Qs(U):window,$=z.nodeName&&z.nodeName.toLowerCase(),$==="select"||$==="input"&&z.type==="file")var _e=Md;else if(kd(z))if(Ud)_e=Yp;else{_e=Gp;var se=qp}else $=z.nodeName,!$||$.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Fi(U.elementType)&&(_e=Md):_e=Vp;if(_e&&(_e=_e(e,U))){Dd(Q,_e,a,Y);break e}se&&se(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Ji(z,"number",z.value)}switch(se=U?Qs(U):window,e){case"focusin":(kd(se)||se.contentEditable==="true")&&(Qn=se,fo=U,sl=null);break;case"focusout":sl=fo=Qn=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,Vd(Q,a,Y);break;case"selectionchange":if(Ip)break;case"keydown":case"keyup":Vd(Q,a,Y)}var ge;if(io)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Kn?Rd(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Ad&&a.locale!=="ko"&&(Kn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Kn&&(ge=Sd()):(Ma=Y,ao="value"in Ma?Ma.value:Ma.textContent,Kn=!0)),se=ni(U,be),0<se.length&&(be=new Ed(be,e,null,a,Y),Q.push({event:be,listeners:se}),ge?be.data=ge:(ge=Cd(a),ge!==null&&(be.data=ge)))),(ge=Lp?zp(e,a):Bp(e,a))&&(be=ni(U,"onBeforeInput"),0<be.length&&(se=new Ed("onBeforeInput","beforeinput",null,a,Y),Q.push({event:se,listeners:be}),se.data=ge)),Oy(Q,e,U,a,Y)}p0(Q,t)})}function Ol(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ni(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Js(e,a),u!=null&&s.unshift(Ol(e,u,f)),u=Js(e,t),u!=null&&s.push(Ol(e,u,f))),e.tag===3)return s;e=e.return}return[]}function Dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v0(e,t,a,s,u){for(var f=t._reactName,v=[];a!==null&&a!==s;){var w=a,_=w.alternate,U=w.stateNode;if(w=w.tag,_!==null&&_===s)break;w!==5&&w!==26&&w!==27||U===null||(_=U,u?(U=Js(a,f),U!=null&&v.unshift(Ol(a,U,_))):u||(U=Js(a,f),U!=null&&v.push(Ol(a,U,_)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var My=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function b0(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Uy,"")}function x0(e,t){return t=b0(t),b0(e)===t}function Ce(e,t,a,s,u,f){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Zn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Zn(e,""+s);break;case"className":ir(e,"class",s);break;case"tabIndex":ir(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,a,s);break;case"style":bd(e,s,f);break;case"data":if(t!=="object"){ir(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=cr(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Ce(e,t,"name",u.name,u,null),Ce(e,t,"formEncType",u.formEncType,u,null),Ce(e,t,"formMethod",u.formMethod,u,null),Ce(e,t,"formTarget",u.formTarget,u,null)):(Ce(e,t,"encType",u.encType,u,null),Ce(e,t,"method",u.method,u,null),Ce(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=cr(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=da);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=cr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),rr(e,"popover",s);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":rr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cp.get(a)||a,rr(e,a,s))}}function Bc(e,t,a,s,u,f){switch(a){case"style":bd(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Zn(e,s):(typeof s=="number"||typeof s=="bigint")&&Zn(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ud.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof s=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):rr(e,a,s)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,f,v,a,null)}}u&&Ce(e,t,"srcSet",a.srcSet,a,null),s&&Ce(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var w=f=v=u=null,_=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var Y=a[s];if(Y!=null)switch(s){case"name":u=Y;break;case"type":v=Y;break;case"checked":_=Y;break;case"defaultChecked":U=Y;break;case"value":f=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:Ce(e,t,s,Y,a,null)}}gd(e,f,w,_,U,v,u,!1);return;case"select":ye("invalid",e),s=v=f=null;for(u in a)if(a.hasOwnProperty(u)&&(w=a[u],w!=null))switch(u){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":s=w;default:Ce(e,t,u,w,a,null)}t=f,a=v,e.multiple=!!s,t!=null?Yn(e,!!s,t,!1):a!=null&&Yn(e,!!s,a,!0);return;case"textarea":ye("invalid",e),f=u=s=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":s=w;break;case"defaultValue":u=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ce(e,t,v,w,a,null)}yd(e,s,u,f);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(s=a[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ce(e,t,_,s,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<Tl.length;s++)ye(Tl[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,U,s,a,null)}return;default:if(Fi(t)){for(Y in a)a.hasOwnProperty(Y)&&(s=a[Y],s!==void 0&&Bc(e,t,Y,s,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null&&Ce(e,t,w,s,a,null))}function Ly(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,w=null,_=null,U=null,Y=null;for($ in a){var Q=a[$];if(a.hasOwnProperty($)&&Q!=null)switch($){case"checked":break;case"value":break;case"defaultValue":_=Q;default:s.hasOwnProperty($)||Ce(e,t,$,null,s,Q)}}for(var z in s){var $=s[z];if(Q=a[z],s.hasOwnProperty(z)&&($!=null||Q!=null))switch(z){case"type":f=$;break;case"name":u=$;break;case"checked":U=$;break;case"defaultChecked":Y=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:$!==Q&&Ce(e,t,z,$,s,Q)}}Qi(e,v,w,_,U,Y,f,u);return;case"select":$=v=w=z=null;for(f in a)if(_=a[f],a.hasOwnProperty(f)&&_!=null)switch(f){case"value":break;case"multiple":$=_;default:s.hasOwnProperty(f)||Ce(e,t,f,null,s,_)}for(u in s)if(f=s[u],_=a[u],s.hasOwnProperty(u)&&(f!=null||_!=null))switch(u){case"value":z=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==_&&Ce(e,t,u,f,s,_)}t=w,a=v,s=$,z!=null?Yn(e,!!a,z,!1):!!s!=!!a&&(t!=null?Yn(e,!!a,t,!0):Yn(e,!!a,a?[]:"",!1));return;case"textarea":$=z=null;for(w in a)if(u=a[w],a.hasOwnProperty(w)&&u!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ce(e,t,w,null,s,u)}for(v in s)if(u=s[v],f=a[v],s.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":z=u;break;case"defaultValue":$=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Ce(e,t,v,u,s,f)}pd(e,z,$);return;case"option":for(var ne in a)if(z=a[ne],a.hasOwnProperty(ne)&&z!=null&&!s.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:Ce(e,t,ne,null,s,z)}for(_ in s)if(z=s[_],$=a[_],s.hasOwnProperty(_)&&z!==$&&(z!=null||$!=null))switch(_){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ce(e,t,_,z,s,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)z=a[de],a.hasOwnProperty(de)&&z!=null&&!s.hasOwnProperty(de)&&Ce(e,t,de,null,s,z);for(U in s)if(z=s[U],$=a[U],s.hasOwnProperty(U)&&z!==$&&(z!=null||$!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Ce(e,t,U,z,s,$)}return;default:if(Fi(t)){for(var ke in a)z=a[ke],a.hasOwnProperty(ke)&&z!==void 0&&!s.hasOwnProperty(ke)&&Bc(e,t,ke,void 0,s,z);for(Y in s)z=s[Y],$=a[Y],!s.hasOwnProperty(Y)||z===$||z===void 0&&$===void 0||Bc(e,t,Y,z,s,$);return}}for(var O in a)z=a[O],a.hasOwnProperty(O)&&z!=null&&!s.hasOwnProperty(O)&&Ce(e,t,O,null,s,z);for(Q in s)z=s[Q],$=a[Q],!s.hasOwnProperty(Q)||z===$||z==null&&$==null||Ce(e,t,Q,z,s,$)}function w0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],f=u.transferSize,v=u.initiatorType,w=u.duration;if(f&&w&&w0(v)){for(v=0,w=u.responseEnd,s+=1;s<a.length;s++){var _=a[s],U=_.startTime;if(U>w)break;var Y=_.transferSize,Q=_.initiatorType;Y&&w0(Q)&&(_=_.responseEnd,v+=Y*(_<w?1:(w-U)/(_-U)))}if(--s,t+=8*(f+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $c=null,Hc=null;function si(e){return e.nodeType===9?e:e.ownerDocument}function S0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gc=null;function By(){var e=window.event;return e&&e.type==="popstate"?e===Gc?!1:(Gc=e,!0):(Gc=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(e){return E0.resolve(null).then(e).catch(qy)}:j0;function qy(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function N0(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),Ss(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[Ks]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Rl(e.ownerDocument.body);a=u}while(a);Ss(t)}function A0(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vc(a),Pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Gy(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ks])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function Vy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=It(e.nextSibling),e===null))return null;return e}function T0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function Yc(e){return e.data==="$?"||e.data==="$~"}function Zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ic=null;function O0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return It(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function R0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function C0(e,t,a){switch(t=si(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pi(e)}var Pt=new Map,k0=new Set;function li(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Aa=H.d;H.d={f:Zy,r:Iy,D:Py,C:Ky,L:Qy,m:Jy,X:Xy,S:Fy,M:Wy};function Zy(){var e=Aa.f(),t=Jr();return e||t}function Iy(e){var t=qn(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):Aa.r(e)}var bs=typeof document>"u"?null:document;function D0(e,t,a){var s=bs;if(s&&typeof t=="string"&&t){var u=$t(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),k0.has(u)||(k0.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),ct(t,"link",e),et(t),s.head.appendChild(t)))}}function Py(e){Aa.D(e),D0("dns-prefetch",e,null)}function Ky(e,t){Aa.C(e,t),D0("preconnect",e,t)}function Qy(e,t,a){Aa.L(e,t,a);var s=bs;if(s&&e&&t){var u='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+$t(a.imageSizes)+'"]')):u+='[href="'+$t(e)+'"]';var f=u;switch(t){case"style":f=xs(e);break;case"script":f=ws(e)}Pt.has(f)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(f,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Cl(f))||t==="script"&&s.querySelector(kl(f))||(t=s.createElement("link"),ct(t,"link",e),et(t),s.head.appendChild(t)))}}function Jy(e,t){Aa.m(e,t);var a=bs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',f=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ws(e)}if(!Pt.has(f)&&(e=x({rel:"modulepreload",href:e},t),Pt.set(f,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}s=a.createElement("link"),ct(s,"link",e),et(s),a.head.appendChild(s)}}}function Fy(e,t,a){Aa.S(e,t,a);var s=bs;if(s&&e){var u=Gn(s).hoistableStyles,f=xs(e);t=t||"default";var v=u.get(f);if(!v){var w={loading:0,preload:null};if(v=s.querySelector(Cl(f)))w.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(f))&&Pc(e,a);var _=v=s.createElement("link");et(_),ct(_,"link",e),_._p=new Promise(function(U,Y){_.onload=U,_.onerror=Y}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ri(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:w},u.set(f,v)}}}function Xy(e,t){Aa.X(e,t);var a=bs;if(a&&e){var s=Gn(a).hoistableScripts,u=ws(e),f=s.get(u);f||(f=a.querySelector(kl(u)),f||(e=x({src:e,async:!0},t),(t=Pt.get(u))&&Kc(e,t),f=a.createElement("script"),et(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(u,f))}}function Wy(e,t){Aa.M(e,t);var a=bs;if(a&&e){var s=Gn(a).hoistableScripts,u=ws(e),f=s.get(u);f||(f=a.querySelector(kl(u)),f||(e=x({src:e,async:!0,type:"module"},t),(t=Pt.get(u))&&Kc(e,t),f=a.createElement("script"),et(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(u,f))}}function M0(e,t,a,s){var u=(u=X.current)?li(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=xs(a.href),a=Gn(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xs(a.href);var f=Gn(u).hoistableStyles,v=f.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=u.querySelector(Cl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),f||ev(u,e,a,v.state))),t&&s===null)throw Error(i(528,""));return v}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ws(a),a=Gn(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function xs(e){return'href="'+$t(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function U0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function ev(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ct(t,"link",a),et(t),e.head.appendChild(t))}function ws(e){return'[src="'+$t(e)+'"]'}function kl(e){return"script[async]"+e}function L0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(s)return t.instance=s,et(s),s;var u=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),ct(s,"style",u),ri(s,a.precedence,e),t.instance=s;case"stylesheet":u=xs(a.href);var f=e.querySelector(Cl(u));if(f)return t.state.loading|=4,t.instance=f,et(f),f;s=U0(a),(u=Pt.get(u))&&Pc(s,u),f=(e.ownerDocument||e).createElement("link"),et(f);var v=f;return v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),ct(f,"link",s),t.state.loading|=4,ri(f,a.precedence,e),t.instance=f;case"script":return f=ws(a.src),(u=e.querySelector(kl(f)))?(t.instance=u,et(u),u):(s=a,(u=Pt.get(f))&&(s=x({},a),Kc(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),ct(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ri(s,a.precedence,e));return t.instance}function ri(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,f=u,v=0;v<s.length;v++){var w=s[v];if(w.dataset.precedence===t)f=w;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ii=null;function z0(e,t,a){if(ii===null){var s=new Map,u=ii=new Map;u.set(a,s)}else u=ii,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Ks]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var w=s.get(v);w?w.push(f):s.set(v,[f])}}return s}function B0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function tv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function av(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=xs(s.href),f=t.querySelector(Cl(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,et(f);return}f=t.ownerDocument||t,s=U0(s),(u=Pt.get(u))&&Pc(s,u),f=f.createElement("link"),et(f);var v=f;v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),ct(f,"link",s),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=oi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Qc=0;function nv(e,t){return e.stylesheets&&e.count===0&&ui(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&ui(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Qc===0&&(Qc=62500*zy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ui(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Qc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function oi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ui(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ci=null;function ui(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ci=new Map,t.forEach(sv,e),ci=null,oi.call(e))}function sv(e,t){if(!(t.state.loading&4)){var a=ci.get(e);if(a)var s=a.get(null);else{a=new Map,ci.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),s=v)}s&&a.set(null,s)}u=t.instance,v=u.getAttribute("data-precedence"),f=a.get(v)||s,f===s&&a.set(null,u),a.set(v,u),this.count++,s=oi.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Dl={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function lv(e,t,a,s,u,f,v,w,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function H0(e,t,a,s,u,f,v,w,_,U,Y,Q){return e=new lv(e,t,a,v,_,U,Y,Q,w),t=1,f===!0&&(t|=24),f=Ot(3,null,null,t),e.current=f,f.stateNode=e,t=To(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:t},ko(f),e}function q0(e){return e?(e=Xn,e):Xn}function G0(e,t,a,s,u,f){u=q0(u),s.context===null?s.context=u:s.pendingContext=u,s=Ha(t),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=qa(e,s,t),a!==null&&(St(a,e,t),dl(a,e,t))}function V0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Jc(e,t){V0(e,t),(e=e.alternate)&&V0(e,t)}function Y0(e){if(e.tag===13||e.tag===31){var t=yn(e,67108864);t!==null&&St(t,e,67108864),Jc(e,67108864)}}function Z0(e){if(e.tag===13||e.tag===31){var t=Mt();t=Yi(t);var a=yn(e,t);a!==null&&St(a,e,t),Jc(e,t)}}var di=!0;function rv(e,t,a,s){var u=G.T;G.T=null;var f=H.p;try{H.p=2,Fc(e,t,a,s)}finally{H.p=f,G.T=u}}function iv(e,t,a,s){var u=G.T;G.T=null;var f=H.p;try{H.p=8,Fc(e,t,a,s)}finally{H.p=f,G.T=u}}function Fc(e,t,a,s){if(di){var u=Xc(s);if(u===null)zc(e,t,s,fi,a),P0(e,s);else if(cv(u,e,t,a,s))s.stopPropagation();else if(P0(e,s),t&4&&-1<ov.indexOf(e)){for(;u!==null;){var f=qn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=fn(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var _=1<<31-At(v);w.entanglements[1]|=_,v&=~_}oa(f),(Ee&6)===0&&(Kr=Et()+500,Al(0))}}break;case 31:case 13:w=yn(f,2),w!==null&&St(w,f,2),Jr(),Jc(f,2)}if(f=Xc(s),f===null&&zc(e,t,s,fi,a),f===u)break;u=f}u!==null&&s.stopPropagation()}else zc(e,t,s,null,a)}}function Xc(e){return e=Wi(e),Wc(e)}var fi=null;function Wc(e){if(fi=null,e=Hn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fi=e,null}function I0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pg()){case Wu:return 2;case ed:return 8;case tr:case Kg:return 32;case td:return 268435456;default:return 32}default:return 32}}var eu=!1,Xa=null,Wa=null,en=null,Ml=new Map,Ul=new Map,tn=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Ll(e,t,a,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=qn(t),t!==null&&Y0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function cv(e,t,a,s,u){switch(t){case"focusin":return Xa=Ll(Xa,e,t,a,s,u),!0;case"dragenter":return Wa=Ll(Wa,e,t,a,s,u),!0;case"mouseover":return en=Ll(en,e,t,a,s,u),!0;case"pointerover":var f=u.pointerId;return Ml.set(f,Ll(Ml.get(f)||null,e,t,a,s,u)),!0;case"gotpointercapture":return f=u.pointerId,Ul.set(f,Ll(Ul.get(f)||null,e,t,a,s,u)),!0}return!1}function K0(e){var t=Hn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,id(e.priority,function(){Z0(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,id(e.priority,function(){Z0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Xc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Xi=s,a.target.dispatchEvent(s),Xi=null}else return t=qn(a),t!==null&&Y0(t),e.blockedOn=a,!1;t.shift()}return!0}function Q0(e,t,a){hi(e)&&a.delete(t)}function uv(){eu=!1,Xa!==null&&hi(Xa)&&(Xa=null),Wa!==null&&hi(Wa)&&(Wa=null),en!==null&&hi(en)&&(en=null),Ml.forEach(Q0),Ul.forEach(Q0)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,uv)))}var gi=null;function J0(e){gi!==e&&(gi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){gi===e&&(gi=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Wc(s||a)===null)continue;break}var f=qn(a);f!==null&&(e.splice(t,3),t-=3,Xo(f,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function Ss(e){function t(_){return mi(_,e)}Xa!==null&&mi(Xa,e),Wa!==null&&mi(Wa,e),en!==null&&mi(en,e),Ml.forEach(t),Ul.forEach(t);for(var a=0;a<tn.length;a++){var s=tn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],f=a[s+1],v=u[pt]||null;if(typeof f=="function")v||J0(a);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[pt]||null)w=v.formAction;else if(Wc(u)!==null)continue}else w=v.action;typeof w=="function"?a[s+1]=w:(a.splice(s,3),s-=3),J0(a)}}}function F0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function tu(e){this._internalRoot=e}pi.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,s=Mt();G0(a,s,e,t,null,null)},pi.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;G0(e.current,2,null,e,null,null),Jr(),t[$n]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&K0(e)}};var X0=n.version;if(X0!=="19.2.0")throw Error(i(527,X0,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var dv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Zs=yi.inject(dv),Nt=yi}catch{}}return Bl.createRoot=function(e,t){if(!o(e))throw Error(i(299));var a=!1,s="",u=lh,f=rh,v=ih;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=H0(e,1,!1,null,null,a,s,null,u,f,v,F0),e[$n]=t.current,Lc(e),new tu(t)},Bl.hydrateRoot=function(e,t,a){if(!o(e))throw Error(i(299));var s=!1,u="",f=lh,v=rh,w=ih,_=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=H0(e,1,!0,t,a??null,s,u,_,f,v,w,F0),t.context=q0(null),a=t.current,s=Mt(),s=Yi(s),u=Ha(s),u.callback=null,qa(a,u,s),a=s,t.current.lanes=a,Ps(t,a),oa(t),e[$n]=t.current,Lc(e),new pi(t)},Bl.version="19.2.0",Bl}var om;function Sv(){if(om)return su.exports;om=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),su.exports=wv(),su.exports}var _v=Sv();const jv=Uu(_v),Ev="modulepreload",Nv=function(l){return"/temeonominalroll/"+l},cm={},Pl=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=h(r.map(m=>{if(m=Nv(m),m in cm)return;cm[m]=!0;const b=m.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":Ev,b||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),b)return new Promise((E,k)=>{S.addEventListener("load",E),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return o.then(h=>{for(const p of h||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})},Av=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...r)=>Pl(async()=>{const{default:i}=await Promise.resolve().then(()=>Hs);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class zu extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class um extends zu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class dm extends zu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class fm extends zu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var xu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(xu||(xu={}));var Tv=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};class Ov{constructor(n,{headers:r={},customFetch:i,region:o=xu.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=Av(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Tv(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:d,method:h,body:p,signal:g}=i;let m={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(m["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let S;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(m["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(m["Content-Type"]="application/json",S=JSON.stringify(p)));const E=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),d),body:S,signal:g}).catch(C=>{throw C.name==="AbortError"?C:new um(C)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new dm(E);if(!E.ok)throw new fm(E);let T=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return T==="application/json"?D=yield E.json():T==="application/octet-stream"?D=yield E.blob():T==="text/event-stream"?D=E:T==="multipart/form-data"?D=yield E.formData():D=yield E.text(),{data:D,error:null,response:E}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new um(d)}:{data:null,error:d,response:d instanceof fm||d instanceof dm?d.context:void 0}}})}}var at={},_s={},js={},Es={},Ns={},As={},Rv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bs=Rv();const Cv=Bs.fetch,Im=Bs.fetch.bind(Bs),Pm=Bs.Headers,kv=Bs.Request,Dv=Bs.Response,Hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pm,Request:kv,Response:Dv,default:Im,fetch:Cv},Symbol.toStringTag,{value:"Module"})),Mv=hv(Hs);var vi={},hm;function Km(){if(hm)return vi;hm=1,Object.defineProperty(vi,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vi.default=l,vi}var mm;function Qm(){if(mm)return As;mm=1;var l=As&&As.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(As,"__esModule",{value:!0});const n=l(Mv),r=l(Km());class i{constructor(d){var h,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var b,x,S,E;let k=null,T=null,D=null,C=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const R=await m.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?T=R:T=JSON.parse(R))}const I=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),Z=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");I&&Z&&Z.length>1&&(D=parseInt(Z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(k={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,D=null,C=406,L="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const I=await m.text();try{k=JSON.parse(I),Array.isArray(k)&&m.status===404&&(T=[],k=null,C=200,L="OK")}catch{m.status===404&&I===""?(C=204,L="No Content"):k={message:I}}if(k&&this.isMaybeSingle&&(!((E=k==null?void 0:k.details)===null||E===void 0)&&E.includes("0 rows"))&&(k=null,C=200,L="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:T,count:D,status:C,statusText:L}});return this.shouldThrowOnError||(g=g.catch(m=>{var b,x,S;return{error:{message:`${(b=m==null?void 0:m.name)!==null&&b!==void 0?b:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(x=m==null?void 0:m.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,h)}returns(){return this}overrideTypes(){return this}}return As.default=i,As}var gm;function Jm(){if(gm)return Ns;gm=1;var l=Ns&&Ns.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ns,"__esModule",{value:!0});const n=l(Qm());class r extends n.default{select(o){let d=!1;const h=(o??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:d=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${o}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this}range(o,d,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(m,`${d-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:d=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var b;const x=[o?"analyze":null,d?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ns.default=r,Ns}var pm;function Bu(){if(pm)return Es;pm=1;var l=Es&&Es.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Es,"__esModule",{value:!0});const n=l(Jm());class r extends n.default{eq(o,d){return this.url.searchParams.append(o,`eq.${d}`),this}neq(o,d){return this.url.searchParams.append(o,`neq.${d}`),this}gt(o,d){return this.url.searchParams.append(o,`gt.${d}`),this}gte(o,d){return this.url.searchParams.append(o,`gte.${d}`),this}lt(o,d){return this.url.searchParams.append(o,`lt.${d}`),this}lte(o,d){return this.url.searchParams.append(o,`lte.${d}`),this}like(o,d){return this.url.searchParams.append(o,`like.${d}`),this}likeAllOf(o,d){return this.url.searchParams.append(o,`like(all).{${d.join(",")}}`),this}likeAnyOf(o,d){return this.url.searchParams.append(o,`like(any).{${d.join(",")}}`),this}ilike(o,d){return this.url.searchParams.append(o,`ilike.${d}`),this}ilikeAllOf(o,d){return this.url.searchParams.append(o,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(o,d){return this.url.searchParams.append(o,`ilike(any).{${d.join(",")}}`),this}is(o,d){return this.url.searchParams.append(o,`is.${d}`),this}in(o,d){const h=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cs.{${d.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(d)}`),this}containedBy(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cd.{${d.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(d)}`),this}rangeGt(o,d){return this.url.searchParams.append(o,`sr.${d}`),this}rangeGte(o,d){return this.url.searchParams.append(o,`nxl.${d}`),this}rangeLt(o,d){return this.url.searchParams.append(o,`sl.${d}`),this}rangeLte(o,d){return this.url.searchParams.append(o,`nxr.${d}`),this}rangeAdjacent(o,d){return this.url.searchParams.append(o,`adj.${d}`),this}overlaps(o,d){return typeof d=="string"?this.url.searchParams.append(o,`ov.${d}`):this.url.searchParams.append(o,`ov.{${d.join(",")}}`),this}textSearch(o,d,{config:h,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${m}.${d}`),this}match(o){return Object.entries(o).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(o,d,h){return this.url.searchParams.append(o,`not.${d}.${h}`),this}or(o,{foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${o})`),this}filter(o,d,h){return this.url.searchParams.append(o,`${d}.${h}`),this}}return Es.default=r,Es}var ym;function Fm(){if(ym)return js;ym=1;var l=js&&js.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(js,"__esModule",{value:!0});const n=l(Bu());class r{constructor(o,{headers:d={},schema:h,fetch:p}){this.url=o,this.headers=new Headers(d),this.schema=h,this.fetch=p}select(o,d){const{head:h=!1,count:p}=d??{},g=h?"HEAD":"GET";let m=!1;const b=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",b),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(m.length>0){const b=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(o,{onConflict:d,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var m;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(x.length>0){const S=[...new Set(x)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:d}={}){var h;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var d;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return js.default=r,js}var vm;function Uv(){if(vm)return _s;vm=1;var l=_s&&_s.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_s,"__esModule",{value:!0});const n=l(Fm()),r=l(Bu());class i{constructor(d,{headers:h={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:p=!1,get:g=!1,count:m}={}){var b;let x;const S=new URL(`${this.url}/rpc/${d}`);let E;p||g?(x=p?"HEAD":"GET",Object.entries(h).filter(([T,D])=>D!==void 0).map(([T,D])=>[T,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([T,D])=>{S.searchParams.append(T,D)})):(x="POST",E=h);const k=new Headers(this.headers);return m&&k.set("Prefer",`count=${m}`),new r.default({method:x,url:S,headers:k,schema:this.schemaName,body:E,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return _s.default=i,_s}var bm;function Lv(){if(bm)return at;bm=1;var l=at&&at.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const n=l(Uv());at.PostgrestClient=n.default;const r=l(Fm());at.PostgrestQueryBuilder=r.default;const i=l(Bu());at.PostgrestFilterBuilder=i.default;const o=l(Jm());at.PostgrestTransformBuilder=o.default;const d=l(Qm());at.PostgrestBuilder=d.default;const h=l(Km());return at.PostgrestError=h.default,at.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:d.default,PostgrestError:h.default},at}var zv=Lv();const Bv=Uu(zv),{PostgrestClient:$v,PostgrestQueryBuilder:J2,PostgrestFilterBuilder:F2,PostgrestTransformBuilder:X2,PostgrestBuilder:W2,PostgrestError:eS}=Bv;class Hv{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const qv="2.75.0",Gv=`realtime-js/${qv}`,Vv="1.0.0",wu=1e4,Yv=1e3,Zv=100;var ql;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ql||(ql={}));var We;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(We||(We={}));var aa;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(aa||(aa={}));var Su;(function(l){l.websocket="websocket"})(Su||(Su={}));var Dn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Dn||(Dn={}));class Iv{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const o=r.getUint8(1),d=r.getUint8(2);let h=this.HEADER_LENGTH+2;const p=i.decode(n.slice(h,h+o));h=h+o;const g=i.decode(n.slice(h,h+d));h=h+d;const m=JSON.parse(i.decode(n.slice(h,n.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Xm{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ze||(ze={}));const xm=(l,n,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=Pv(h,l,n,o),d),{}):{}},Pv=(l,n,r,i)=>{const o=n.find(p=>p.name===l),d=o==null?void 0:o.type,h=r[l];return d&&!i.includes(d)?Wm(d,h):_u(h)},Wm=(l,n)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return Fv(n,r)}switch(l){case ze.bool:return Kv(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Qv(n);case ze.json:case ze.jsonb:return Jv(n);case ze.timestamp:return Xv(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return _u(n);default:return _u(n)}},_u=l=>l,Kv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Qv=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},Jv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},Fv=(l,n)=>{if(typeof l!="string")return l;const r=l.length-1,i=l[r];if(l[0]==="{"&&i==="}"){let d;const h=l.slice(1,r);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(p=>Wm(n,p))}return l},Xv=l=>typeof l=="string"?l.replace(" ","T"):l,eg=l=>{let n=l;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class ou{constructor(n,r,i={},o=wu){this.channel=n,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var wm;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(wm||(wm={}));class Gl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gl.syncState(this.state,o,d,h),this.pendingDiffs.forEach(g=>{this.state=Gl.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},o=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Gl.syncDiff(this.state,o,d,h),p())}),this.onJoin((o,d,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:d,newPresences:h})}),this.onLeave((o,d,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,o){const d=this.cloneDeep(n),h=this.transformState(r),p={},g={};return this.map(d,(m,b)=>{h[m]||(g[m]=b)}),this.map(h,(m,b)=>{const x=d[m];if(x){const S=b.map(D=>D.presence_ref),E=x.map(D=>D.presence_ref),k=b.filter(D=>E.indexOf(D.presence_ref)<0),T=x.filter(D=>S.indexOf(D.presence_ref)<0);k.length>0&&(p[m]=k),T.length>0&&(g[m]=T)}else p[m]=b}),this.syncDiff(d,{joins:p,leaves:g},i,o)}static syncDiff(n,r,i,o){const{joins:d,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(d,(p,g)=>{var m;const b=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(g),b.length>0){const x=n[p].map(E=>E.presence_ref),S=b.filter(E=>x.indexOf(E.presence_ref)<0);n[p].unshift(...S)}i(p,b,g)}),this.map(h,(p,g)=>{let m=n[p];if(!m)return;const b=g.map(x=>x.presence_ref);m=m.filter(x=>b.indexOf(x.presence_ref)<0),n[p]=m,o(p,m,g),m.length===0&&delete n[p]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const o=n[i];return"metas"in o?r[i]=o.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[i]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Sm||(Sm={}));var Vl;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Vl||(Vl={}));var Ta;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Ta||(Ta={}));class $u{constructor(n,r={config:{}},i){var o,d;if(this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ou(this,aa.join,this.params,this.timeout),this.rejoinTimer=new Xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Gl(this),this.broadcastEndpointURL=eg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var i,o,d;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},S={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:b}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>n==null?void 0:n(Ta.CHANNEL_ERROR,E)),this._onClose(()=>n==null?void 0:n(Ta.CLOSED)),this.updateJoinPayload(Object.assign({config:S},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket.setAuth(),E===void 0){n==null||n(Ta.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,D=(k=T==null?void 0:T.length)!==null&&k!==void 0?k:0,C=[];for(let L=0;L<D;L++){const A=T[L],{filter:{event:I,schema:Z,table:R,filter:K}}=A,V=E&&E[L];if(V&&V.event===I&&V.schema===Z&&V.table===R&&V.filter===K)C.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=We.errored,n==null||n(Ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(Ta.SUBSCRIBED);return}}).receive("error",E=>{this.state=We.errored,n==null||n(Ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===We.joined&&n===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){const{event:d,payload:h}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,p,g;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new ou(this,aa.leave,{},n),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const o=new AbortController,d=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(d),h}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ou(this,n,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var o,d;const h=n.toLocaleLowerCase(),{close:p,error:g,leave:m,join:b}=aa;if(i&&[p,g,m,b].indexOf(h)>=0&&i!==this._joinRef())return;let S=this._onMessage(h,r,i);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var k,T,D;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((D=(T=E.filter)===null||T===void 0?void 0:T.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===h}).map(E=>E.callback(S,i)):(d=this.bindings[h])===null||d===void 0||d.filter(E=>{var k,T,D,C,L,A;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const I=E.id,Z=(k=E.filter)===null||k===void 0?void 0:k.event;return I&&((T=r.ids)===null||T===void 0?void 0:T.includes(I))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((D=r.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const I=(L=(C=E==null?void 0:E.filter)===null||C===void 0?void 0:C.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return I==="*"||I===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:T,table:D,commit_timestamp:C,type:L,errors:A}=k;S=Object.assign(Object.assign({},{schema:T,table:D,commit_timestamp:C,eventType:L,new:{},old:{},errors:A}),this._getPayloadRecords(k))}E.callback(S,i)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const o=n.toLocaleLowerCase(),d={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(d):this.bindings[o]=[d],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var d;return!(((d=o.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&$u.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=xm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=xm(n.columns,n.old_record)),r}}const cu=()=>{},bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wv=[1e3,2e3,5e3,1e4],eb=1e4,tb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ab{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cu,this.ref=0,this.reconnectTimer=null,this.logger=cu,this.conn=null,this.sendBuffer=[],this.serializer=new Iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let d;return o?d=o:typeof fetch>"u"?d=(...h)=>Pl(async()=>{const{default:p}=await Promise.resolve().then(()=>Hs);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Su.websocket}`,this.httpEndpoint=eg(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vv}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ql.connecting:return Dn.Connecting;case ql.open:return Dn.Open;case ql.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,o=this.getChannels().find(d=>d.topic===i);if(o)return o;{const d=new $u(`realtime:${n}`,r,this);return this.channels.push(d),d}}push(n){const{topic:r,event:i,payload:o,ref:d}=n,h=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${r} ${i} (${d})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Yv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:d,ref:h}=r,p=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${o} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,d,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${i}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([tb],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:Gv};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,o,d,h,p,g,m,b;if(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:wu,this.heartbeatIntervalMs=(o=n==null?void 0:n.heartbeatIntervalMs)!==null&&o!==void 0?o:bi.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:cu,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(x=>Wv[x-1]||eb),this.encode=(m=n==null?void 0:n.encode)!==null&&m!==void 0?m:((x,S)=>S(JSON.stringify(x))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class Hu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Fe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class nb extends Hu{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ju extends Hu{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var sb=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};const tg=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...r)=>Pl(async()=>{const{default:i}=await Promise.resolve().then(()=>Hs);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},lb=()=>sb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pl(()=>Promise.resolve().then(()=>Hs),void 0)).Response:Response}),Eu=l=>{if(Array.isArray(l))return l.map(r=>Eu(r));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[o]=Eu(i)}),n},rb=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var Ln=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};const uu=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ib=(l,n,r)=>Ln(void 0,void 0,void 0,function*(){const i=yield lb();l instanceof i&&!(r!=null&&r.noResolveJson)?l.json().then(o=>{const d=l.status||500,h=(o==null?void 0:o.statusCode)||d+"";n(new nb(uu(o),d,h))}).catch(o=>{n(new ju(uu(o),o))}):n(new ju(uu(l),l))}),ob=(l,n,r,i)=>{const o={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||!i?o:(rb(i)?(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),o.body=JSON.stringify(i)):o.body=i,n!=null&&n.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),r))};function Kl(l,n,r,i,o,d){return Ln(this,void 0,void 0,function*(){return new Promise((h,p)=>{l(r,ob(n,i,o,d)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>ib(g,p,i))})})}function Oi(l,n,r,i){return Ln(this,void 0,void 0,function*(){return Kl(l,"GET",n,r,i)})}function ca(l,n,r,i,o){return Ln(this,void 0,void 0,function*(){return Kl(l,"POST",n,i,o,r)})}function Nu(l,n,r,i,o){return Ln(this,void 0,void 0,function*(){return Kl(l,"PUT",n,i,o,r)})}function cb(l,n,r,i){return Ln(this,void 0,void 0,function*(){return Kl(l,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function ag(l,n,r,i,o){return Ln(this,void 0,void 0,function*(){return Kl(l,"DELETE",n,i,o,r)})}var ub=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};class db{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return ub(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}var fb=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};class hb{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}asStream(){return new db(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.execute().then(n,r)}execute(){return fb(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}var _t=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};const mb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_m={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gb{constructor(n,r={},i,o){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=i,this.fetch=tg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,i,o){return _t(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},_m),o);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=i,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const m=this._removeEmptyFolders(r),b=this._getFinalPath(m),x=yield(n=="PUT"?Nu:ca)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Fe(d))return{data:null,error:d};throw d}})}upload(n,r,i){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,o){return _t(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let g;const m=Object.assign({upsert:_m.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const x=yield Nu(this.fetch,p.toString(),g,{headers:b});return{data:{path:d,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Fe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,r){return _t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const d=yield ca(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(this.url+d.url),p=h.searchParams.get("token");if(!p)throw new Hu("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}update(n,r,i){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return _t(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}copy(n,r,i){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}createSignedUrl(n,r,i){return _t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),d=yield ca(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}createSignedUrls(n,r,i){return _t(this,void 0,void 0,function*(){try{const o=yield ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}download(n,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),h=d?`?${d}`:"",p=this._getFinalPath(n),g=()=>Oi(this.fetch,`${this.url}/${o}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new hb(g,this.shouldThrowOnError)}info(n){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Oi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Eu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}exists(n){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield cb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i)&&i instanceof ju){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),o=[],d=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&o.push(d);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&o.push(g);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${m}`)}}}remove(n){return _t(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}list(n,r,i){return _t(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},mb),r),{prefix:n||""});return{data:yield ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}listV2(n,r){return _t(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield ca(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const pb="2.75.0",yb={"X-Client-Info":`storage-js/${pb}`};var Ts=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};class vb{constructor(n,r={},i,o){this.shouldThrowOnError=!1;const d=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yb),r),this.fetch=tg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ts(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}getBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}createBucket(n){return Ts(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield ca(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}})}updateBucket(n,r){return Ts(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class bb extends vb{constructor(n,r={},i,o){super(n,r,i,o)}from(n){return new gb(this.url,this.headers,n,this.fetch)}}const xb="2.75.0";let Hl="";typeof Deno<"u"?Hl="deno":typeof document<"u"?Hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hl="react-native":Hl="node";const wb={"X-Client-Info":`supabase-js-${Hl}/${xb}`},Sb={headers:wb},_b={schema:"public"},jb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Eb={};var Nb=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};const Ab=l=>{let n;return l?n=l:typeof fetch>"u"?n=Im:n=fetch,(...r)=>n(...r)},Tb=()=>typeof Headers>"u"?Pm:Headers,Ob=(l,n,r)=>{const i=Ab(r),o=Tb();return(d,h)=>Nb(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:l;let m=new o(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",l),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},h),{headers:m}))})};var Rb=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};function Cb(l){return l.endsWith("/")?l:l+"/"}function kb(l,n){var r,i;const{db:o,auth:d,realtime:h,global:p}=l,{db:g,auth:m,realtime:b,global:x}=n,S={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Rb(this,void 0,void 0,function*(){return""})};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function Db(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ng="2.75.0",Ms=30*1e3,Au=3,du=Au*Ms,Mb="http://localhost:9999",Ub="supabase.auth.token",Lb={"X-Client-Info":`gotrue-js/${ng}`},Tu="X-Supabase-Api-Version",sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bb=600*1e3;class Yl extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ue(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class $b extends Yl{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Hb(l){return ue(l)&&l.name==="AuthApiError"}class Mn extends Yl{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class on extends Yl{constructor(n,r,i,o){super(n,i,o),this.name=r,this.status=i}}class sn extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qb(l){return ue(l)&&l.name==="AuthSessionMissingError"}class Os extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xi extends on{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class wi extends on{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gb(l){return ue(l)&&l.name==="AuthImplicitGrantRedirectError"}class jm extends on{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ou extends on{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function fu(l){return ue(l)&&l.name==="AuthRetryableFetchError"}class Em extends on{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Ru extends on{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),Vb=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<Nm.length;n+=1)l[Nm[n].charCodeAt(0)]=-2;for(let n=0;n<Ri.length;n+=1)l[Ri[n].charCodeAt(0)]=n;return l})();function Am(l,n,r){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Ri[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Ri[i]),n.queuedBits-=6}}function lg(l,n,r){const i=Vb[l];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Tm(l){const n=[],r=h=>{n.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},d=h=>{Ib(h,i,r)};for(let h=0;h<l.length;h+=1)lg(l.charCodeAt(h),o,d);return n.join("")}function Yb(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Zb(l,n){for(let r=0;r<l.length;r+=1){let i=l.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(l.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Yb(i,n)}}function Ib(l,n,r){if(n.utf8seq===0){if(l<=127){r(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function zs(l){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};for(let o=0;o<l.length;o+=1)lg(l.charCodeAt(o),r,i);return new Uint8Array(n)}function Pb(l){const n=[];return Zb(l,r=>n.push(r)),new Uint8Array(n)}function Un(l){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};return l.forEach(o=>Am(o,r,i)),Am(null,r,i),n.join("")}function Kb(l){return Math.round(Date.now()/1e3)+l}function Qb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},rg=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function Jb(l){const n={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,d)=>{n[d]=o})}catch{}return r.searchParams.forEach((i,o)=>{n[o]=i}),n}const ig=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...r)=>Pl(async()=>{const{default:i}=await Promise.resolve().then(()=>Hs);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Fb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Us=async(l,n,r)=>{await l.setItem(n,JSON.stringify(r))},Cn=async(l,n)=>{const r=await l.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(l,n)=>{await l.removeItem(n)};class Mi{constructor(){this.promise=new Mi.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Mi.promiseConstructor=Promise;function hu(l){const n=l.split(".");if(n.length!==3)throw new Ru("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!zb.test(n[i]))throw new Ru("JWT not in base64url format");return{header:JSON.parse(Tm(n[0])),payload:JSON.parse(Tm(n[1])),signature:zs(n[2]),raw:{header:n[0],payload:n[1]}}}async function Xb(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function Wb(l,n){return new Promise((i,o)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await l(d);if(!n(d,null,h)){i(h);return}}catch(h){if(!n(d,h)){o(h);return}}})()})}function ex(l){return("0"+l.toString(16)).substr(-2)}function tx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let d=0;d<56;d++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(n),Array.from(n,ex).join("")}async function ax(l){const r=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(d=>String.fromCharCode(d)).join("")}async function nx(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await ax(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(l,n,r=!1){const i=tx();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Us(l,`${n}-code-verifier`,o);const d=await nx(i);return[d,i===d?"plain":"s256"]}const sx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lx(l){const n=l.headers.get(Tu);if(!n||!n.match(sx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function rx(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function ix(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ox=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(l){if(!ox.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mu(){const l={};return new Proxy(l,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Om(l){return JSON.parse(JSON.stringify(l))}var cx=function(l,n){var r={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(r[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(l);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(l,i[o])&&(r[i[o]]=l[i[o]]);return r};const kn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ux=[502,503,504];async function Rm(l){var n;if(!Fb(l))throw new Ou(kn(l),0);if(ux.includes(l.status))throw new Ou(kn(l),l.status);let r;try{r=await l.json()}catch(d){throw new Mn(kn(d),d)}let i;const o=lx(l);if(o&&o.getTime()>=sg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Em(kn(r),l.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new sn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Em(kn(r),l.status,r.weak_password.reasons);throw new $b(kn(r),l.status||500,i)}const dx=(l,n,r,i)=>{const o={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function he(l,n,r,i){var o;const d=Object.assign({},i==null?void 0:i.headers);d[Tu]||(d[Tu]=sg["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const h=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await fx(l,n,r+p,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function fx(l,n,r,i,o,d){const h=dx(n,i,o,d);let p;try{p=await l(r,Object.assign({},h))}catch(g){throw console.error(g),new Ou(kn(g),0)}if(p.ok||await Rm(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(g){await Rm(g)}}function ta(l){var n;let r=null;gx(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=Kb(l.expires_in)));const i=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:r,user:i},error:null}}function Cm(l){const n=ta(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=l.weak_password),n}function ln(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function hx(l){return{data:l,error:null}}function mx(l){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:d}=l,h=cx(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:d},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function km(l){return l}function gx(l){return l.access_token&&l.refresh_token&&l.expires_in}const gu=["global","local","others"];var px=function(l,n){var r={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(r[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(l);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(l,i[o])&&(r[i[o]]=l[i[o]]);return r};class yx{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=ig(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=gu[0]){if(gu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gu.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ln})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=px(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:mx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ln})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,o,d,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},b=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(d=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:km});if(b.error)throw b.error;const x=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(k.split(";")[1].split("=")[1]);m[`${D}Page`]=T}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Cs(n);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ln})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Cs(n);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ln})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){Cs(n);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ln})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){Cs(n.userId);try{const{data:r,error:i}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Cs(n.userId),Cs(n.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,i,o,d,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},b=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(d=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:km});if(b.error)throw b.error;const x=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(k.split(";")[1].split("=")[1]);m[`${D}Page`]=T}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Dm(l={}){return{getItem:n=>l[n]||null,setItem:(n,r)=>{l[n]=r},removeItem:n=>{delete l[n]}}}const ks={debug:!!(globalThis&&rg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class og extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class vx extends og{}async function bx(l,n,r){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await r()}finally{ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(n===0)throw ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new vx(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ks.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cg(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function wx(l){return parseInt(l,16)}function Sx(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function _x(l){var n;const{chainId:r,domain:i,expirationTime:o,issuedAt:d=new Date,nonce:h,notBefore:p,requestId:g,resources:m,scheme:b,uri:x,version:S}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=cg(l.address),k=b?`${b}://${i}`:i,T=l.statement?`${l.statement}
`:"",D=`${k} wants you to sign in with your Ethereum account:
${E}

${T}`;let C=`URI: ${x}
Version: ${S}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),p&&(C+=`
Not Before: ${p.toISOString()}`),g&&(C+=`
Request ID: ${g}`),m){let L=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);L+=`
- ${A}`}C+=L}return`${D}
${C}`}class Je extends Error{constructor({message:n,code:r,cause:i,name:o}){var d;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=o??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Ci extends Je{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function jx({error:l,options:n}){var r,i,o;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Je({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(dg(h)){if(d.rp.id!==h)return new Je({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Ex({error:l,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Je({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(dg(i)){if(r.rpId!==i)return new Je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var ug=function(l,n){var r={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(r[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(l);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(l,i[o])&&(r[i[o]]=l[i[o]]);return r};class Nx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Ax=new Nx;function Tx(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:r,excludeCredentials:i}=l,o=ug(l,["challenge","user","excludeCredentials"]),d=zs(n).buffer,h=Object.assign(Object.assign({},r),{id:zs(r.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:d,user:h});if(i&&i.length>0){p.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const m=i[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:zs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function Ox(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:r}=l,i=ug(l,["challenge","allowCredentials"]),o=zs(n).buffer,d=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];d.allowCredentials[h]=Object.assign(Object.assign({},p),{id:zs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Rx(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:Un(new Uint8Array(l.response.attestationObject)),clientDataJSON:Un(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Cx(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,i=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Un(new Uint8Array(o.authenticatorData)),clientDataJSON:Un(new Uint8Array(o.clientDataJSON)),signature:Un(new Uint8Array(o.signature)),userHandle:o.userHandle?Un(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function dg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Mm(){var l,n;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function kx(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",n)}:{data:null,error:new Ci("Empty credential response",n)}}catch(n){return{data:null,error:jx({error:n,options:l})}}}async function Dx(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",n)}:{data:null,error:new Ci("Empty credential response",n)}}catch(n){return{data:null,error:Ex({error:n,options:l})}}}const Mx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ux={userVerification:"preferred",hints:["security-key"]};function ki(...l){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of l)if(o)for(const d in o){const h=o[d];if(h!==void 0)if(Array.isArray(h))i[d]=h;else if(r(h))i[d]=h;else if(n(h)){const p=i[d];n(p)?i[d]=ki(p,h):i[d]=ki(h)}else i[d]=h}return i}function Lx(l,n){return ki(Mx,l,n||{})}function zx(l,n){return ki(Ux,l,n||{})}class Bx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:i,signal:o},d){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!h)return{data:null,error:p};const g=o??Ax.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:m}=h.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(h.webauthn.type){case"create":{const m=Lx(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:x}=await kx({publicKey:m,signal:g});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const m=zx(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:x}=await Dx(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m,signal:g}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Mn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},d){if(!r)return{data:null,error:new Yl("rpId is required for WebAuthn authentication")};try{if(!Mm())return{data:null,error:new Mn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:d});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:i,credential_response:g.credential_response}})}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Mn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},d){if(!r)return{data:null,error:new Yl("rpId is required for WebAuthn registration")};try{if(!Mm())return{data:null,error:new Mn("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:d});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Mn("Unexpected error in register",h)}}}}xx();const $x={url:Mb,storageKey:Ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Um(l,n,r){return await r()}const Ds={};class Zl{get jwks(){var n,r;return(r=(n=Ds[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ds[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:n})}constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zl.nextInstanceID,Zl.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},$x),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new yx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ig(o.fetch),this.lock=o.lock||Um,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bx:this.lock=Um,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bx(this)},this.persistSession?(o.storage?this.storage=o.storage:rg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Dm(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ng}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=Jb(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Ut()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:d}=await this._getSessionFromURL(r,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Gb(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Mn("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{const d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:ta}),{data:h,error:p}=d;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(ue(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var r,i,o;try{let d;if("email"in n){const{email:b,password:x,options:S}=n;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await Rs(this.storage,this.storageKey)),d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:b,password:x,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:k},xform:ta})}else if("phone"in n){const{phone:b,password:x,options:S}=n;d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ta})}else throw new xi("You must provide either an email or phone number and a password");const{data:h,error:p}=d;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(ue(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let r;if("email"in n){const{email:d,password:h,options:p}=n;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Cm})}else if("phone"in n){const{phone:d,password:h,options:p}=n;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Cm})}else throw new xi("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Os}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,o,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,d,h,p,g,m,b,x,S;let E,k;if("message"in n)E=n.message,k=n.signature;else{const{chain:T,wallet:D,statement:C,options:L}=n;let A;if(Ut())if(typeof D=="object")A=D;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")A=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=D}const I=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href),Z=await A.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=cg(Z[0]);let K=(i=L==null?void 0:L.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!K){const ee=await A.request({method:"eth_chainId"});K=wx(ee)}const V={domain:I.host,address:R,statement:C,uri:I.href,version:"1",chainId:K,nonce:(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(d=L==null?void 0:L.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=L==null?void 0:L.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=_x(V),k=await A.request({method:"personal_sign",params:[Sx(E),R]})}try{const{data:T,error:D}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ta});if(D)throw D;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Os}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:D})}catch(T){if(ue(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(n){var r,i,o,d,h,p,g,m,b,x,S,E;let k,T;if("message"in n)k=n.message,T=n.signature;else{const{chain:D,wallet:C,statement:L,options:A}=n;let I;if(Ut())if(typeof C=="object")I=C;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))I=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const Z=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const R=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),L?{statement:L}:null));let K;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")K=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)K=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)k=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),T=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Z.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(i=A==null?void 0:A.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((g=A==null?void 0:A.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A==null?void 0:A.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(b=A==null?void 0:A.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const R=await I.signMessage(new TextEncoder().encode(k),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=R}}try{const{data:D,error:C}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Un(T)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:ta});if(C)throw C;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new Os}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:C})}catch(D){if(ue(D))return{data:{user:null,session:null},error:D};throw D}}async _exchangeCodeForSession(n){const r=await Cn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:d,error:h}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:ta});if(await nn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:o??null}),error:h})}catch(d){if(ue(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:r,provider:i,token:o,access_token:d,nonce:h}=n,p=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ta}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Os}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,o,d,h;try{if("email"in n){const{email:p,options:g}=n;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Rs(this.storage,this.storageKey));const{error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:p,options:g}=n,{data:m,error:b}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:b}}throw new xi("You must provide either an email or phone number.")}catch(p){if(ue(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var r,i;try{let o,d;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,d=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:p}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:o,xform:ta});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var r,i,o;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await Rs(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:hx})}catch(d){if(ue(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new sn;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:o,options:d}=n,{error:h}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:i,type:o,options:d}=n,{data:h,error:p}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new xi("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<du:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const h=await Cn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=mu()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,m,b)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,b))})}return{data:{session:n},error:null}}const{data:o,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ln}):await this._useSession(async r=>{var i,o,d;const{data:h,error:p}=r;if(p)throw p;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0,xform:ln})})}catch(r){if(ue(r))return qb(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:o,error:d}=i;if(d)throw d;if(!o.session)throw new sn;const h=o.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Rs(this.storage,this.storageKey));const{data:m,error:b}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:ln});if(b)throw b;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new sn;const r=Date.now()/1e3;let i=r,o=!0,d=null;const{payload:h}=hu(n.access_token);if(h.exp&&(i=h.exp,o=i<=r),o){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:h,error:p}=r;if(p)throw p;n=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new sn;const{data:o,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Ut())throw new wi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new wi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new jm("No code detected.");const{data:L,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:d,refresh_token:h,expires_in:p,expires_at:g,token_type:m}=n;if(!d||!p||!h||!m)throw new wi("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(p);let S=b+x;g&&(S=parseInt(g));const E=S-b;E*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const k=S-x;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,b);const{data:T,error:D}=await this._getUser(d);if(D)throw D;const C={provider_token:i,provider_refresh_token:o,access_token:d,expires_in:x,expires_at:S,refresh_token:h,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:n.type},error:null}}catch(i){if(ue(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:d}=r;if(d)return{error:d};const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:p}=await this.admin.signOut(h,n);if(p&&!(Hb(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=Qb(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{const{data:{session:d},error:h}=r;if(h)throw h;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Rs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(ue(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:i,error:o}=await this._useSession(async d=>{var h,p,g,m,b;const{data:x,error:S}=d;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Ut()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ue(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:d}}=r;if(o)throw o;const{options:h,provider:p,token:g,access_token:m,nonce:b}=n,x=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:p,id_token:g,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ta}),{data:S,error:E}=x;return E?{data:{user:null,session:null},error:E}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new Os}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:E})}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;const{data:d,error:h}=r;if(h)throw h;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Wb(async o=>(o>0&&await Xb(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ta})),(o,d)=>{const h=200*Math.pow(2,o);return d&&fu(d)&&Date.now()+h-i<Ms})}catch(i){if(this._debug(r,"error",i),ue(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ut()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Cn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Us(this.userStorage,this.storageKey+"-user",h)),o.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:mu()}else if(o&&!o.user&&!o.user){const h=await Cn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(o.user=h.user,await nn(this.storage,this.storageKey+"-user"),await Us(this.storage,this.storageKey,o)):o.user=mu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const d=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<du;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${du}s`),d){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),fu(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(o.access_token);!p&&(h!=null&&h.user)?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Mi;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new sn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(o,"error",d),ue(d)){const h={data:null,error:d};return fu(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,r)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Us(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const d=Om(o);await Us(this.storage,this.storageKey,d)}else{const o=Om(r);await Us(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-n)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Au} ticks`),o<=Au&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof og)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,h]=await Rs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(p.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);o.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:o,error:d}=r;return d?{data:null,error:d}:await he(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;const{data:d,error:h}=r;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Rx(n.webauthn.credential_response):Cx(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:g})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:d}=r;if(d)return{data:null,error:d};const h=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Tx(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ox(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])o.all.push(d),d.status==="verified"&&o[d.factor_type].push(d);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:o},error:d}=n;if(d)return{data:null,error:d};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=hu(o.access_token);let p=null;h.aal&&(p=h.aal);let g=p;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const b=h.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(p=>p.kid===n);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(p=>p.kid===n),i&&this.jwks_cached_at+Bb>o)return i;const{data:d,error:h}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=o,i=d.keys.find(p=>p.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:E,error:k}=await this.getSession();if(k||!E.session)return{data:null,error:k};i=E.session.access_token}const{header:o,payload:d,signature:h,raw:{header:p,payload:g}}=hu(i);r!=null&&r.allowExpired||rx(d.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:d,header:o,signature:h},error:null}}const b=ix(o.alg),x=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,Pb(`${p}.${g}`)))throw new Ru("Invalid JWT signature");return{data:{claims:d,header:o,signature:h},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}}Zl.nextInstanceID=0;const Hx=Zl;class qx extends Hx{constructor(n){super(n)}}var Gx=function(l,n,r,i){function o(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function p(b){try{m(i.next(b))}catch(x){h(x)}}function g(b){try{m(i.throw(b))}catch(x){h(x)}}function m(b){b.done?d(b.value):o(b.value).then(p,g)}m((i=i.apply(l,n||[])).next())})};class Vx{constructor(n,r,i){var o,d,h;this.supabaseUrl=n,this.supabaseKey=r;const p=Db(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:_b,realtime:Eb,auth:Object.assign(Object.assign({},jb),{storageKey:g}),global:Sb},b=kb(i??{},m);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=Ob(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new $v(new URL("rest/v1",p).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new bb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Ov(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Gx(this,void 0,void 0,function*(){var n,r;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:d,storageKey:h,flowType:p,lock:g,debug:m},b,x){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qx({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),b),storageKey:h,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:d,flowType:p,lock:g,debug:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new ab(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yx=(l,n,r)=>new Vx(l,n,r);function Zx(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const n=l.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Zx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ix="https://jqdptkybwgcnsjdslhev.supabase.co",Px="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxZHB0a3lid2djbnNqZHNsaGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTE3MTksImV4cCI6MjA3MzY4NzcxOX0.z4miSmTH2voxDAnmdcxpa6M-1D3vviZKhziNN8j0leU",Ue=Yx(Ix,Px);var Se=(l=>(l.Admin="admin",l.Teacher="teacher",l.Superadmin="superadmin",l))(Se||{}),Qt=(l=>(l.AtPost="AT POST",l.OnLeave="ON LEAVE",l.Transferred="TRANSFERRED",l.VacatedPost="VACATED POST",l))(Qt||{}),rn=(l=>(l.Approved="Approved",l.Disapproved="Disapproved",l))(rn||{});const fg=y.createContext(void 0),Kx=({children:l})=>{const[n,r]=y.useState(null),[i,o]=y.useState(!0),d=async b=>{try{const{data:x,error:S}=await Ue.from("users").select("*").eq("id",b.id).single();if(S||!x)throw new Error(`Failed to fetch user profile: ${(S==null?void 0:S.message)||"User not found."}`);const{data:E,error:k}=await Ue.from("ippd").select("authorised, profile_image_url").eq("staff_id",x.staffId).single();return k?console.warn(`Could not fetch ippd profile for ${x.staffId}:`,k):x.profile_image_url=E==null?void 0:E.profile_image_url,x.role===Se.Admin||x.role===Se.Superadmin?x.authorised=!0:x.role===Se.Teacher?x.authorised=(E==null?void 0:E.authorised)??!1:x.authorised=!1,x}catch(x){return console.error("Exception in getUserProfile:",x.message),await Ue.auth.signOut(),r(null),null}};y.useEffect(()=>{o(!0);const{data:b}=Ue.auth.onAuthStateChange(async(x,S)=>{const E=S==null?void 0:S.user;if(E){const k=await d(E);r(k)}else r(null);o(!1)});return()=>{b.subscription.unsubscribe()}},[]);const m={user:n,loading:i,login:async({identifier:b,password:x})=>{let S=b;if(!b.includes("@")){const{data:k,error:T}=await Ue.from("users").select("email").eq("staffId",b).single();if(T||!k)throw new Error("Staff ID not found. Please use your email or check your Staff ID.");S=k.email}const{error:E}=await Ue.auth.signInWithPassword({email:S,password:x});if(E)throw new Error(E.message||"Invalid login credentials.")},signup:async({staffId:b,email:x,password:S,emiscode:E})=>{const{data:k,error:T}=await Ue.rpc("get_signup_validation_data",{staff_id_to_check:b,emiscode_to_check:E});if(T)throw console.error("Error validating staff details:",T),new Error(T.message||"An error occurred during validation. Please try again.");if(!k||k.length===0)throw new Error("Invalid Staff ID or Emiscode. Please check your details or contact administration.");const D=k[0],C=D.name,L=D.stafftype,A=L&&L.toLowerCase()==="headteacher"?Se.Admin:Se.Teacher,{data:I}=await Ue.from("users").select("id").or(`email.eq.${x},staffId.eq.${b}`).maybeSingle();if(I)throw new Error("An account with this email or Staff ID already exists.");const{data:Z,error:R}=await Ue.auth.signUp({email:x,password:S,options:{data:{staffId:b,emiscode:E,role:A,name:C}}});if(R)throw new Error(R.message||"Failed to create account.");if(!Z.user)throw new Error("Signup failed, please try again.")},logout:async()=>{const{error:b}=await Ue.auth.signOut();b&&console.error("Error logging out:",b),r(null)}};return c.jsx(fg.Provider,{value:m,children:l})},st=()=>{const l=y.useContext(fg);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lm="popstate";function Qx(l={}){function n(o,d){let{pathname:h="/",search:p="",hash:g=""}=zn(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Cu("",{pathname:h,search:p,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(o,d){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof d=="string"?d:Il(d))}function i(o,d){zt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return Fx(n,r,i,l)}function qe(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function zt(l,n){if(!l){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Jx(){return Math.random().toString(36).substring(2,10)}function zm(l,n){return{usr:l.state,key:l.key,idx:n}}function Cu(l,n,r=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof n=="string"?zn(n):n,state:r,key:n&&n.key||i||Jx()}}function Il({pathname:l="/",search:n="",hash:r=""}){return n&&n!=="?"&&(l+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(l+=r.charAt(0)==="#"?r:"#"+r),l}function zn(l){let n={};if(l){let r=l.indexOf("#");r>=0&&(n.hash=l.substring(r),l=l.substring(0,r));let i=l.indexOf("?");i>=0&&(n.search=l.substring(i),l=l.substring(0,i)),l&&(n.pathname=l)}return n}function Fx(l,n,r,i={}){let{window:o=document.defaultView,v5Compat:d=!1}=i,h=o.history,p="POP",g=null,m=b();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function b(){return(h.state||{idx:null}).idx}function x(){p="POP";let D=b(),C=D==null?null:D-m;m=D,g&&g({action:p,location:T.location,delta:C})}function S(D,C){p="PUSH";let L=Cu(T.location,D,C);r&&r(L,D),m=b()+1;let A=zm(L,m),I=T.createHref(L);try{h.pushState(A,"",I)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(I)}d&&g&&g({action:p,location:T.location,delta:1})}function E(D,C){p="REPLACE";let L=Cu(T.location,D,C);r&&r(L,D),m=b();let A=zm(L,m),I=T.createHref(L);h.replaceState(A,"",I),d&&g&&g({action:p,location:T.location,delta:0})}function k(D){return Xx(D)}let T={get action(){return p},get location(){return l(o,h)},listen(D){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Lm,x),g=D,()=>{o.removeEventListener(Lm,x),g=null}},createHref(D){return n(o,D)},createURL:k,encodeLocation(D){let C=k(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:S,replace:E,go(D){return h.go(D)}};return T}function Xx(l,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qe(r,"No window.location.(origin|href) available to create URL");let i=typeof l=="string"?l:Il(l);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function hg(l,n,r="/"){return Wx(l,n,r,!1)}function Wx(l,n,r,i){let o=typeof n=="string"?zn(n):n,d=Ra(o.pathname||"/",r);if(d==null)return null;let h=mg(l);e1(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=d1(d);p=c1(h[g],m,i)}return p}function mg(l,n=[],r=[],i="",o=!1){let d=(h,p,g=o,m)=>{let b={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;qe(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let x=Oa([i,b.relativePath]),S=r.concat(b);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),mg(h.children,n,S,x,g)),!(h.path==null&&!h.index)&&n.push({path:x,score:i1(x,h.index),routesMeta:S})};return l.forEach((h,p)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))d(h,p);else for(let m of gg(h.path))d(h,p,!0,m)}),n}function gg(l){let n=l.split("/");if(n.length===0)return[];let[r,...i]=n,o=r.endsWith("?"),d=r.replace(/\?$/,"");if(i.length===0)return o?[d,""]:[d];let h=gg(i.join("/")),p=[];return p.push(...h.map(g=>g===""?d:[d,g].join("/"))),o&&p.push(...h),p.map(g=>l.startsWith("/")&&g===""?"/":g)}function e1(l){l.sort((n,r)=>n.score!==r.score?r.score-n.score:o1(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var t1=/^:[\w-]+$/,a1=3,n1=2,s1=1,l1=10,r1=-2,Bm=l=>l==="*";function i1(l,n){let r=l.split("/"),i=r.length;return r.some(Bm)&&(i+=r1),n&&(i+=n1),r.filter(o=>!Bm(o)).reduce((o,d)=>o+(t1.test(d)?a1:d===""?s1:l1),i)}function o1(l,n){return l.length===n.length&&l.slice(0,-1).every((i,o)=>i===n[o])?l[l.length-1]-n[n.length-1]:0}function c1(l,n,r=!1){let{routesMeta:i}=l,o={},d="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],m=p===i.length-1,b=d==="/"?n:n.slice(d.length)||"/",x=Di({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},b),S=g.route;if(!x&&m&&r&&!i[i.length-1].route.index&&(x=Di({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:Oa([d,x.pathname]),pathnameBase:g1(Oa([d,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(d=Oa([d,x.pathnameBase]))}return h}function Di(l,n){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,i]=u1(l.path,l.caseSensitive,l.end),o=n.match(r);if(!o)return null;let d=o[0],h=d.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((m,{paramName:b,isOptional:x},S)=>{if(b==="*"){let k=p[S]||"";h=d.slice(0,d.length-k.length).replace(/(.)\/+$/,"$1")}const E=p[S];return x&&!E?m[b]=void 0:m[b]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:h,pattern:l}}function u1(l,n=!1,r=!0){zt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],o="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(i.push({paramName:"*"}),o+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":l!==""&&l!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),i]}function d1(l){try{return l.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return zt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),l}}function Ra(l,n){if(n==="/")return l;if(!l.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=l.charAt(r);return i&&i!=="/"?null:l.slice(r)||"/"}function f1(l,n="/"){let{pathname:r,search:i="",hash:o=""}=typeof l=="string"?zn(l):l;return{pathname:r?r.startsWith("/")?r:h1(r,n):n,search:p1(i),hash:y1(o)}}function h1(l,n){let r=n.replace(/\/+$/,"").split("/");return l.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function pu(l,n,r,i){return`Cannot include a '${l}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m1(l){return l.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function qu(l){let n=m1(l);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function Gu(l,n,r,i=!1){let o;typeof l=="string"?o=zn(l):(o={...l},qe(!o.pathname||!o.pathname.includes("?"),pu("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),pu("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),pu("#","search","hash",o)));let d=l===""||o.pathname==="",h=d?"/":o.pathname,p;if(h==null)p=r;else{let x=n.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),x-=1;o.pathname=S.join("/")}p=x>=0?n[x]:"/"}let g=f1(o,p),m=h&&h!=="/"&&h.endsWith("/"),b=(d||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(m||b)&&(g.pathname+="/"),g}var Oa=l=>l.join("/").replace(/\/\/+/g,"/"),g1=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,y1=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function v1(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var pg=["POST","PUT","PATCH","DELETE"];new Set(pg);var b1=["GET",...pg];new Set(b1);var qs=y.createContext(null);qs.displayName="DataRouter";var Ui=y.createContext(null);Ui.displayName="DataRouterState";y.createContext(!1);var yg=y.createContext({isTransitioning:!1});yg.displayName="ViewTransition";var x1=y.createContext(new Map);x1.displayName="Fetchers";var w1=y.createContext(null);w1.displayName="Await";var na=y.createContext(null);na.displayName="Navigation";var Ql=y.createContext(null);Ql.displayName="Location";var sa=y.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var Vu=y.createContext(null);Vu.displayName="RouteError";function S1(l,{relative:n}={}){qe(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=y.useContext(na),{hash:o,pathname:d,search:h}=Jl(l,{relative:n}),p=d;return r!=="/"&&(p=d==="/"?r:Oa([r,d])),i.createHref({pathname:p,search:h,hash:o})}function Gs(){return y.useContext(Ql)!=null}function Ca(){return qe(Gs(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ql).location}var vg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bg(l){y.useContext(na).static||y.useLayoutEffect(l)}function Vs(){let{isDataRoute:l}=y.useContext(sa);return l?z1():_1()}function _1(){qe(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let l=y.useContext(qs),{basename:n,navigator:r}=y.useContext(na),{matches:i}=y.useContext(sa),{pathname:o}=Ca(),d=JSON.stringify(qu(i)),h=y.useRef(!1);return bg(()=>{h.current=!0}),y.useCallback((g,m={})=>{if(zt(h.current,vg),!h.current)return;if(typeof g=="number"){r.go(g);return}let b=Gu(g,JSON.parse(d),o,m.relative==="path");l==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Oa([n,b.pathname])),(m.replace?r.replace:r.push)(b,m.state,m)},[n,r,d,o,l])}var j1=y.createContext(null);function E1(l){let n=y.useContext(sa).outlet;return y.useMemo(()=>n&&y.createElement(j1.Provider,{value:l},n),[n,l])}function Jl(l,{relative:n}={}){let{matches:r}=y.useContext(sa),{pathname:i}=Ca(),o=JSON.stringify(qu(r));return y.useMemo(()=>Gu(l,JSON.parse(o),i,n==="path"),[l,o,i,n])}function N1(l,n){return xg(l,n)}function xg(l,n,r,i,o){var L;qe(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=y.useContext(na),{matches:h}=y.useContext(sa),p=h[h.length-1],g=p?p.params:{},m=p?p.pathname:"/",b=p?p.pathnameBase:"/",x=p&&p.route;{let A=x&&x.path||"";wg(m,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let S=Ca(),E;if(n){let A=typeof n=="string"?zn(n):n;qe(b==="/"||((L=A.pathname)==null?void 0:L.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${A.pathname}" was given in the \`location\` prop.`),E=A}else E=S;let k=E.pathname||"/",T=k;if(b!=="/"){let A=b.replace(/^\//,"").split("/");T="/"+k.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=hg(l,{pathname:T});zt(x||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),zt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=C1(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:Oa([b,d.encodeLocation?d.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?b:Oa([b,d.encodeLocation?d.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),h,r,i,o);return n&&C?y.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function A1(){let l=L1(),n=v1(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:d},"ErrorBoundary")," or"," ",y.createElement("code",{style:d},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},n),r?y.createElement("pre",{style:o},r):null,h)}var T1=y.createElement(A1,null),O1=class extends y.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,n){return n.location!==l.location||n.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:n.error,location:n.location,revalidation:l.revalidation||n.revalidation}}componentDidCatch(l,n){this.props.unstable_onError?this.props.unstable_onError(l,n):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?y.createElement(sa.Provider,{value:this.props.routeContext},y.createElement(Vu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R1({routeContext:l,match:n,children:r}){let i=y.useContext(qs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(sa.Provider,{value:l},r)}function C1(l,n=[],r=null,i=null,o=null){if(l==null){if(!r)return null;if(r.errors)l=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let d=l,h=r==null?void 0:r.errors;if(h!=null){let m=d.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,m+1))}let p=!1,g=-1;if(r)for(let m=0;m<d.length;m++){let b=d[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=m),b.route.id){let{loaderData:x,errors:S}=r,E=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||E){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((m,b,x)=>{let S,E=!1,k=null,T=null;r&&(S=h&&b.route.id?h[b.route.id]:void 0,k=b.route.errorElement||T1,p&&(g<0&&x===0?(wg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):g===x&&(E=!0,T=b.route.hydrateFallbackElement||null)));let D=n.concat(d.slice(0,x+1)),C=()=>{let L;return S?L=k:E?L=T:b.route.Component?L=y.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=m,y.createElement(R1,{match:b,routeContext:{outlet:m,matches:D,isDataRoute:r!=null},children:L})};return r&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?y.createElement(O1,{location:r.location,revalidation:r.revalidation,component:k,error:S,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:i}):C()},null)}function Yu(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(l){let n=y.useContext(qs);return qe(n,Yu(l)),n}function D1(l){let n=y.useContext(Ui);return qe(n,Yu(l)),n}function M1(l){let n=y.useContext(sa);return qe(n,Yu(l)),n}function Zu(l){let n=M1(l),r=n.matches[n.matches.length-1];return qe(r.route.id,`${l} can only be used on routes that contain a unique "id"`),r.route.id}function U1(){return Zu("useRouteId")}function L1(){var i;let l=y.useContext(Vu),n=D1("useRouteError"),r=Zu("useRouteError");return l!==void 0?l:(i=n.errors)==null?void 0:i[r]}function z1(){let{router:l}=k1("useNavigate"),n=Zu("useNavigate"),r=y.useRef(!1);return bg(()=>{r.current=!0}),y.useCallback(async(o,d={})=>{zt(r.current,vg),r.current&&(typeof o=="number"?l.navigate(o):await l.navigate(o,{fromRouteId:n,...d}))},[l,n])}var $m={};function wg(l,n,r){!n&&!$m[l]&&($m[l]=!0,zt(!1,r))}y.memo(B1);function B1({routes:l,future:n,state:r,unstable_onError:i}){return xg(l,void 0,r,i,n)}function gt({to:l,replace:n,state:r,relative:i}){qe(Gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=y.useContext(na);zt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=y.useContext(sa),{pathname:h}=Ca(),p=Vs(),g=Gu(l,qu(d),h,i==="path"),m=JSON.stringify(g);return y.useEffect(()=>{p(JSON.parse(m),{replace:n,state:r,relative:i})},[p,m,i,n,r]),null}function $1(l){return E1(l.context)}function nt(l){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:l="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:d=!1}){qe(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:o,static:d,future:{}}),[h,o,d]);typeof r=="string"&&(r=zn(r));let{pathname:g="/",search:m="",hash:b="",state:x=null,key:S="default"}=r,E=y.useMemo(()=>{let k=Ra(g,h);return k==null?null:{location:{pathname:k,search:m,hash:b,state:x,key:S},navigationType:i}},[h,g,m,b,x,S,i]);return zt(E!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(na.Provider,{value:p},y.createElement(Ql.Provider,{children:n,value:E}))}function Hm({children:l,location:n}){return N1(ku(l),n)}function ku(l,n=[]){let r=[];return y.Children.forEach(l,(i,o)=>{if(!y.isValidElement(i))return;let d=[...n,o];if(i.type===y.Fragment){r.push.apply(r,ku(i.props.children,d));return}qe(i.type===nt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=ku(i.props.children,d)),r.push(h)}),r}var Ai="get",Ti="application/x-www-form-urlencoded";function Li(l){return l!=null&&typeof l.tagName=="string"}function q1(l){return Li(l)&&l.tagName.toLowerCase()==="button"}function G1(l){return Li(l)&&l.tagName.toLowerCase()==="form"}function V1(l){return Li(l)&&l.tagName.toLowerCase()==="input"}function Y1(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Z1(l,n){return l.button===0&&(!n||n==="_self")&&!Y1(l)}function Du(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((n,r)=>{let i=l[r];return n.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function I1(l,n){let r=Du(l);return n&&n.forEach((i,o)=>{r.has(o)||n.getAll(o).forEach(d=>{r.append(o,d)})}),r}var Si=null;function P1(){if(Si===null)try{new FormData(document.createElement("form"),0),Si=!1}catch{Si=!0}return Si}var K1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yu(l){return l!=null&&!K1.has(l)?(zt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ti}"`),null):l}function Q1(l,n){let r,i,o,d,h;if(G1(l)){let p=l.getAttribute("action");i=p?Ra(p,n):null,r=l.getAttribute("method")||Ai,o=yu(l.getAttribute("enctype"))||Ti,d=new FormData(l)}else if(q1(l)||V1(l)&&(l.type==="submit"||l.type==="image")){let p=l.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||p.getAttribute("action");if(i=g?Ra(g,n):null,r=l.getAttribute("formmethod")||p.getAttribute("method")||Ai,o=yu(l.getAttribute("formenctype"))||yu(p.getAttribute("enctype"))||Ti,d=new FormData(p,l),!P1()){let{name:m,type:b,value:x}=l;if(b==="image"){let S=m?`${m}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else m&&d.append(m,x)}}else{if(Li(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ai,i=null,o=Ti,h=l}return d&&o==="text/plain"&&(h=d,d=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iu(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function J1(l,n,r){let i=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&Ra(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function F1(l,n){if(l.id in n)return n[l.id];try{let r=await import(l.module);return n[l.id]=r,r}catch(r){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X1(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function W1(l,n,r){let i=await Promise.all(l.map(async o=>{let d=n.routes[o.route.id];if(d){let h=await F1(d,r);return h.links?h.links():[]}return[]}));return n5(i.flat(1).filter(X1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qm(l,n,r,i,o,d){let h=(g,m)=>r[m]?g.route.id!==r[m].route.id:!0,p=(g,m)=>{var b;return r[m].pathname!==g.pathname||((b=r[m].route.path)==null?void 0:b.endsWith("*"))&&r[m].params["*"]!==g.params["*"]};return d==="assets"?n.filter((g,m)=>h(g,m)||p(g,m)):d==="data"?n.filter((g,m)=>{var x;let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function e5(l,n,{includeHydrateFallback:r}={}){return t5(l.map(i=>{let o=n.routes[i.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function t5(l){return[...new Set(l)]}function a5(l){let n={},r=Object.keys(l).sort();for(let i of r)n[i]=l[i];return n}function n5(l,n){let r=new Set;return new Set(n),l.reduce((i,o)=>{let d=JSON.stringify(a5(o));return r.has(d)||(r.add(d),i.push({key:d,link:o})),i},[])}function Sg(){let l=y.useContext(qs);return Iu(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function s5(){let l=y.useContext(Ui);return Iu(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Pu=y.createContext(void 0);Pu.displayName="FrameworkContext";function _g(){let l=y.useContext(Pu);return Iu(l,"You must render this element inside a <HydratedRouter> element"),l}function l5(l,n){let r=y.useContext(Pu),[i,o]=y.useState(!1),[d,h]=y.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:b,onTouchStart:x}=n,S=y.useRef(null);y.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let T=C=>{C.forEach(L=>{h(L.isIntersecting)})},D=new IntersectionObserver(T,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[l]),y.useEffect(()=>{if(i){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[i]);let E=()=>{o(!0)},k=()=>{o(!1),h(!1)};return r?l!=="intent"?[d,S,{}]:[d,S,{onFocus:$l(p,E),onBlur:$l(g,k),onMouseEnter:$l(m,E),onMouseLeave:$l(b,k),onTouchStart:$l(x,E)}]:[!1,S,{}]}function $l(l,n){return r=>{l&&l(r),r.defaultPrevented||n(r)}}function r5({page:l,...n}){let{router:r}=Sg(),i=y.useMemo(()=>hg(r.routes,l,r.basename),[r.routes,l,r.basename]);return i?y.createElement(o5,{page:l,matches:i,...n}):null}function i5(l){let{manifest:n,routeModules:r}=_g(),[i,o]=y.useState([]);return y.useEffect(()=>{let d=!1;return W1(l,n,r).then(h=>{d||o(h)}),()=>{d=!0}},[l,n,r]),i}function o5({page:l,matches:n,...r}){let i=Ca(),{manifest:o,routeModules:d}=_g(),{basename:h}=Sg(),{loaderData:p,matches:g}=s5(),m=y.useMemo(()=>qm(l,n,g,o,i,"data"),[l,n,g,o,i]),b=y.useMemo(()=>qm(l,n,g,o,i,"assets"),[l,n,g,o,i]),x=y.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let k=new Set,T=!1;if(n.forEach(C=>{var A;let L=o.routes[C.route.id];!L||!L.hasLoader||(!m.some(I=>I.route.id===C.route.id)&&C.route.id in p&&((A=d[C.route.id])!=null&&A.shouldRevalidate)||L.hasClientLoader?T=!0:k.add(C.route.id))}),k.size===0)return[];let D=J1(l,h,"data");return T&&k.size>0&&D.searchParams.set("_routes",n.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[h,p,i,o,m,n,l,d]),S=y.useMemo(()=>e5(b,o),[b,o]),E=i5(b);return y.createElement(y.Fragment,null,x.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),S.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),E.map(({key:k,link:T})=>y.createElement("link",{key:k,nonce:r.nonce,...T})))}function c5(...l){return n=>{l.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jg&&(window.__reactRouterVersion="7.9.4")}catch{}function u5({basename:l,children:n,window:r}){let i=y.useRef();i.current==null&&(i.current=Qx({window:r,v5Compat:!0}));let o=i.current,[d,h]=y.useState({action:o.action,location:o.location}),p=y.useCallback(g=>{y.startTransition(()=>h(g))},[h]);return y.useLayoutEffect(()=>o.listen(p),[o,p]),y.createElement(H1,{basename:l,children:n,location:d.location,navigationType:d.action,navigator:o})}var Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=y.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:o,reloadDocument:d,replace:h,state:p,target:g,to:m,preventScrollReset:b,viewTransition:x,...S},E){let{basename:k}=y.useContext(na),T=typeof m=="string"&&Eg.test(m),D,C=!1;if(typeof m=="string"&&T&&(D=m,jg))try{let ee=new URL(window.location.href),ae=m.startsWith("//")?new URL(ee.protocol+m):new URL(m),ie=Ra(ae.pathname,k);ae.origin===ee.origin&&ie!=null?m=ie+ae.search+ae.hash:C=!0}catch{zt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=S1(m,{relative:o}),[A,I,Z]=l5(i,S),R=h5(m,{replace:h,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:x});function K(ee){n&&n(ee),ee.defaultPrevented||R(ee)}let V=y.createElement("a",{...S,...Z,href:D||L,onClick:C||d?n:K,ref:c5(E,I),target:g,"data-discover":!T&&r==="render"?"true":void 0});return A&&!T?y.createElement(y.Fragment,null,V,y.createElement(r5,{page:L})):V});Ys.displayName="Link";var Lt=y.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:d,to:h,viewTransition:p,children:g,...m},b){let x=Jl(h,{relative:m.relative}),S=Ca(),E=y.useContext(Ui),{navigator:k,basename:T}=y.useContext(na),D=E!=null&&b5(x)&&p===!0,C=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,L=S.pathname,A=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(L=L.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&T&&(A=Ra(A,T)||A);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Z=L===C||!o&&L.startsWith(C)&&L.charAt(I)==="/",R=A!=null&&(A===C||!o&&A.startsWith(C)&&A.charAt(C.length)==="/"),K={isActive:Z,isPending:R,isTransitioning:D},V=Z?n:void 0,ee;typeof i=="function"?ee=i(K):ee=[i,Z?"active":null,R?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ae=typeof d=="function"?d(K):d;return y.createElement(Ys,{...m,"aria-current":V,className:ee,ref:b,style:ae,to:h,viewTransition:p},typeof g=="function"?g(K):g)});Lt.displayName="NavLink";var d5=y.forwardRef(({discover:l="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:d,method:h=Ai,action:p,onSubmit:g,relative:m,preventScrollReset:b,viewTransition:x,...S},E)=>{let k=y5(),T=v5(p,{relative:m}),D=h.toLowerCase()==="get"?"get":"post",C=typeof p=="string"&&Eg.test(p),L=A=>{if(g&&g(A),A.defaultPrevented)return;A.preventDefault();let I=A.nativeEvent.submitter,Z=(I==null?void 0:I.getAttribute("formmethod"))||h;k(I||A.currentTarget,{fetcherKey:n,method:Z,navigate:r,replace:o,state:d,relative:m,preventScrollReset:b,viewTransition:x})};return y.createElement("form",{ref:E,method:D,action:T,onSubmit:i?g:L,...S,"data-discover":!C&&l==="render"?"true":void 0})});d5.displayName="Form";function f5(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ng(l){let n=y.useContext(qs);return qe(n,f5(l)),n}function h5(l,{target:n,replace:r,state:i,preventScrollReset:o,relative:d,viewTransition:h}={}){let p=Vs(),g=Ca(),m=Jl(l,{relative:d});return y.useCallback(b=>{if(Z1(b,n)){b.preventDefault();let x=r!==void 0?r:Il(g)===Il(m);p(l,{replace:x,state:i,preventScrollReset:o,relative:d,viewTransition:h})}},[g,p,m,r,i,n,l,o,d,h])}function m5(l){zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=y.useRef(Du(l)),r=y.useRef(!1),i=Ca(),o=y.useMemo(()=>I1(i.search,r.current?null:n.current),[i.search]),d=Vs(),h=y.useCallback((p,g)=>{const m=Du(typeof p=="function"?p(new URLSearchParams(o)):p);r.current=!0,d("?"+m,g)},[d,o]);return[o,h]}var g5=0,p5=()=>`__${String(++g5)}__`;function y5(){let{router:l}=Ng("useSubmit"),{basename:n}=y.useContext(na),r=U1();return y.useCallback(async(i,o={})=>{let{action:d,method:h,encType:p,formData:g,body:m}=Q1(i,n);if(o.navigate===!1){let b=o.fetcherKey||p5();await l.fetch(b,r,o.action||d,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await l.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[l,n,r])}function v5(l,{relative:n}={}){let{basename:r}=y.useContext(na),i=y.useContext(sa);qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),d={...Jl(l||".",{relative:n})},h=Ca();if(l==null){d.search=h.search;let p=new URLSearchParams(d.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let b=p.toString();d.search=b?`?${b}`:""}}return(!l||l===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Oa([r,d.pathname])),Il(d)}function b5(l,{relative:n}={}){let r=y.useContext(yg);qe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ng("useViewTransitionState"),o=Jl(l,{relative:n});if(!r.isTransitioning)return!1;let d=Ra(r.currentLocation.pathname,i)||r.currentLocation.pathname,h=Ra(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Di(o.pathname,h)!=null||Di(o.pathname,d)!=null}function x5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m-6 3.75 3 3m0 0 3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"}))}const w5=y.forwardRef(x5);function S5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const _5=y.forwardRef(S5);function j5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Ag=y.forwardRef(j5);function E5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const N5=y.forwardRef(E5);function A5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const T5=y.forwardRef(A5);function O5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))}const R5=y.forwardRef(O5);function C5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const k5=y.forwardRef(C5);function D5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const M5=y.forwardRef(D5);function U5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const L5=y.forwardRef(U5);function z5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const B5=y.forwardRef(z5);function $5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z"}))}const H5=y.forwardRef($5);function q5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const G5=y.forwardRef(q5);function V5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Y5=y.forwardRef(V5);function Z5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const I5=y.forwardRef(Z5);function P5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const K5=y.forwardRef(P5);function Q5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const J5=y.forwardRef(Q5);function F5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Tg=y.forwardRef(F5);function X5({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const W5=y.forwardRef(X5);function ew({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Og=y.forwardRef(ew);function tw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const zi=y.forwardRef(tw);function aw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const nw=y.forwardRef(aw);function sw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const lw=y.forwardRef(sw);function rw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Rg=y.forwardRef(rw);function iw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Cg=y.forwardRef(iw);function ow({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const cw=y.forwardRef(ow);function uw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const dw=y.forwardRef(uw);function fw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const kg=y.forwardRef(fw);function hw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Dg=y.forwardRef(hw);function mw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Mg=y.forwardRef(mw);function gw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const pw=y.forwardRef(gw);function yw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vw=y.forwardRef(yw);function bw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ku=y.forwardRef(bw),Qu="/temeonominalroll/assets/ges-logo-Cb_8UU4g.svg",xw=()=>c.jsx("img",{src:Qu,alt:"Tema Metro Education Logo",className:"mx-auto h-24 w-24 rounded-full"}),ww=()=>{const[l,n]=y.useState(""),[r,i]=y.useState(""),[o,d]=y.useState(""),[h,p]=y.useState(!1),{login:g}=st(),m=Vs(),b=async x=>{x.preventDefault(),d(""),p(!0);try{await g({identifier:l,password:r}),m("/")}catch(S){d(S.message||"Failed to log in. Please check your credentials.")}finally{p(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-gray-50 to-blue-100 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(xw,{}),c.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Welcome back! Please enter your details."})]}),c.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:c.jsxs("form",{className:"space-y-6",onSubmit:b,children:[o&&c.jsx("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-lg border border-red-200",children:o}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700",children:"Email or Staff ID"}),c.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Mg,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),c.jsx("input",{id:"identifier",name:"identifier",type:"text",required:!0,className:"appearance-none block w-full px-3 py-3 pl-10 bg-white border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900",placeholder:"you@example.com or 12345",value:l,onChange:x=>n(x.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Og,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-3 pl-10 bg-white border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900",placeholder:"••••••••",value:r,onChange:x=>i(x.target.value)})]})]}),c.jsx("div",{children:c.jsxs("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 transition-colors",children:[h?"Signing in...":"Sign in",!h&&c.jsx(N5,{className:"ml-2 h-5 w-5"})]})})]})}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx(Ys,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 hover:underline",children:"Sign up here"})]}),c.jsxs("p",{className:"mt-4 text-center text-xs text-gray-500",children:["© ",new Date().getFullYear()," Tema Metro Education. All rights reserved."]})]})})},Sw=()=>c.jsx("img",{src:Qu,alt:"Tema Metro Education Logo",className:"mx-auto h-24 w-24 rounded-full"}),_w=()=>{const[l,n]=y.useState(""),[r,i]=y.useState(""),[o,d]=y.useState(""),[h,p]=y.useState(""),[g,m]=y.useState(""),[b,x]=y.useState(!1),{signup:S}=st(),E=Vs(),k=async T=>{if(T.preventDefault(),m(""),x(!0),!l||!r||!o||!h){m("All fields are required."),x(!1);return}try{await S({staffId:l,email:r,password:o,emiscode:parseInt(h)}),alert("Signup successful! Please check your email to confirm your account. You can then log in."),E("/login")}catch(D){m(D.message||"Failed to sign up. Please try again.")}finally{x(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-gray-50 to-blue-100 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Sw,{}),c.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Get started by providing your details below."})]}),c.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:c.jsxs("form",{className:"space-y-5",onSubmit:k,children:[g&&c.jsx("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-lg border border-red-200",children:g}),c.jsx(_i,{label:"Staff ID",name:"staffId",type:"text",value:l,onChange:n,placeholder:"e.g., 123456",Icon:W5}),c.jsx(_i,{label:"Email Address",name:"email",type:"email",value:r,onChange:i,placeholder:"you@example.com",Icon:K5}),c.jsx(_i,{label:"Password",name:"password",type:"password",value:o,onChange:d,placeholder:"••••••••",Icon:Og}),c.jsx(_i,{label:"Emiscode (School Code)",name:"emiscode",type:"number",value:h,onChange:p,placeholder:"e.g., 7890",Icon:B5}),c.jsx("div",{children:c.jsxs("button",{type:"submit",disabled:b,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 transition-colors",children:[b?"Creating account...":"Create Account",!b&&c.jsx(Dg,{className:"ml-2 h-5 w-5"})]})})]})}),c.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(Ys,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in instead"})]}),c.jsxs("p",{className:"mt-4 text-center text-xs text-gray-500",children:["© ",new Date().getFullYear()," Tema Metro Education. All rights reserved."]})]})})},_i=({label:l,name:n,type:r,value:i,onChange:o,placeholder:d,Icon:h})=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:l}),c.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(h,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),c.jsx("input",{id:n,name:n,type:r,required:!0,className:"appearance-none block w-full px-3 py-3 pl-10 bg-white border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900",value:i,onChange:p=>o(p.target.value),placeholder:d})]})]}),dt=(l,n)=>typeof l=="string"?l:l&&typeof l.message=="string"&&l.message.trim()!==""?l.message:l&&typeof l.details=="string"&&l.details.trim()!==""?l.details:n,jw=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},Ug=async(l,n)=>{const r=l.name.split(".").pop(),o=`public/${`${n}-${Date.now()}.${r}`}`,{error:d}=await Ue.storage.from("profile-images").upload(o,l,{upsert:!0});if(d)throw console.error("Error uploading profile image: ",d.message||JSON.stringify(d)),new Error(dt(d,"Failed to upload profile image."));const{data:h}=Ue.storage.from("profile-images").getPublicUrl(o);if(!h.publicUrl)throw new Error("Could not get public URL for uploaded image.");return h.publicUrl},cn=async l=>{const{data:n,error:r}=await Ue.from("ippd").select("*").eq("emiscode",l).order("name",{ascending:!0});if(r)throw console.error("Error fetching staff by emiscode: ",r.message||JSON.stringify(r)),new Error(dt(r,`Failed to fetch staff for emiscode ${l}.`));return n||[]},Ew=async()=>{const{data:l,error:n}=await Ue.from("ippd").select("*").order("name",{ascending:!0});if(n)throw console.error("Error fetching all staff globally: ",n.message||JSON.stringify(n)),new Error(dt(n,"Failed to fetch all staff for report."));return l||[]},Bi=async l=>{const{data:n,error:r}=await Ue.from("ippd").select("*").eq("staff_id",l).single();if(r)throw console.error("Error fetching staff by staff_id: ",r.message||JSON.stringify(r)),new Error(dt(r,`Failed to fetch staff with ID ${l}.`));if(!n)throw new Error("Staff member not found");return n},Nw=async(l,n,r)=>{const i=l*n,o=i+n;let d=Ue.from("ippd").select("*");r?/^\d+$/.test(r)?d=d.like("staff_id",`%${r}%`):d=d.or(`name.plfts.${r},school.plfts.${r},rank.plfts.${r}`):d=d.order("id",{ascending:!0});const{data:h,error:p}=await d.range(i,o);if(p)throw console.error("Error fetching all ippd staff: ",p.message||JSON.stringify(p)),new Error(dt(p,"Failed to fetch all staff from IPPD."));const g=h||[],m=g.length>n;return{staff:g.slice(0,n),hasNextPage:m}},Aw=async(l,n)=>{const{data:r,error:i}=await Ue.from("ippd").insert({...l,authorised:!1}).select().single();if(i||!r)throw console.error("Error adding staff: ",(i==null?void 0:i.message)||JSON.stringify(i)),new Error(dt(i,"Failed to add new staff member."));if(n)try{const o=await Ug(n,r.staff_id),{data:d,error:h}=await Ue.from("ippd").update({profile_image_url:o}).eq("id",r.id).select().single();if(h||!d)throw new Error(dt(h,"Staff created, but failed to save profile image URL."));return d}catch(o){throw console.error("Failed to upload image during staff creation:",o),new Error(`Staff member ${r.name} was created, but the image upload failed: ${o.message}`)}return r},$s=async(l,n)=>{const r={...n};delete r.search_vector;const{data:i,error:o}=await Ue.from("ippd").update(r).eq("id",l).select().maybeSingle();if(o)throw console.error("Error updating staff: ",o.message||JSON.stringify(o)),new Error(dt(o,`Failed to update staff with ID ${l}.`));return i},Fl=async(l,n)=>{const{data:r,error:i}=await Ue.from("monthly_approvals").select("*").eq("emiscode",l).eq("month_start_date",n);if(i)throw console.error("Error fetching monthly approvals:",i.message||JSON.stringify(i)),new Error(dt(i,"Failed to fetch approvals."));return r||[]},Tw=async l=>{const{data:n,error:r}=await Ue.from("monthly_approvals").select("*").eq("month_start_date",l);if(r)throw console.error("Error fetching all monthly approvals:",r.message||JSON.stringify(r)),new Error(dt(r,"Failed to fetch all approvals for the month."));return n||[]},Ow=async(l,n)=>{const{data:r,error:i}=await Ue.from("monthly_approvals").select("*").eq("staff_member_id",l).eq("month_start_date",n).maybeSingle();if(i)throw console.error("Error fetching staff member's monthly approval:",i.message||JSON.stringify(i)),new Error(dt(i,"Failed to fetch this month's status."));return r},Lg=async(l,n,r,i)=>{const o=jw(),d={staff_member_id:l,month_start_date:o,status:i,emiscode:n,approved_by_user_id:r},{data:h,error:p}=await Ue.from("monthly_approvals").upsert(d,{onConflict:"staff_member_id,month_start_date"}).select().single();if(p)throw console.error("Error setting monthly approval:",p.message||JSON.stringify(p)),new Error(dt(p,"Failed to set approval status."));return h},Rw=async l=>{const{data:n,error:r}=await Ue.from("ippd").select("*").eq("emiscode",l).order("name",{ascending:!0});if(r)throw console.error("Error fetching staff for authorization:",r.message||JSON.stringify(r)),new Error(dt(r,"Failed to fetch staff for authorization management."));return n||[]},Cw=async l=>{if(l.length===0)return;const{error:n}=await Ue.from("ippd").update({authorised:!0}).in("staff_id",l);if(n)throw console.error("Error authorizing multiple users:",n.message||JSON.stringify(n)),new Error(dt(n,"Failed to authorize selected users."))},kw=async l=>{if(l.length===0)return;const{error:n}=await Ue.from("ippd").update({authorised:!1}).in("staff_id",l);if(n)throw console.error("Error revoking authorization for multiple users:",n.message||JSON.stringify(n)),new Error(dt(n,"Failed to revoke authorization for selected users."))},Dw=async()=>{const{data:l,error:n}=await Ue.from("ippd").select("emiscode, school");if(n)throw console.error("Error fetching distinct schools: ",n.message||JSON.stringify(n)),new Error(dt(n,"Failed to fetch school list."));if(!l)return[];const r=new Map;for(const o of l)o.emiscode&&o.school&&!r.has(o.emiscode)&&r.set(o.emiscode,o.school);return Array.from(r,([o,d])=>({emiscode:o,school:d})).sort((o,d)=>o.school.localeCompare(d.school))},ji=({title:l,value:n,icon:r,color:i})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transform hover:scale-105 transition-transform duration-300",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:l}),c.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n})]}),c.jsx("div",{className:`p-4 rounded-full ${i}`,children:r})]}),Ls={id:"Row ID",staff_id:"Staff ID",name:"Name",dob:"Date of Birth",phone:"Phone",ssnit:"SSNIT",gh_card:"Ghana Card",rank:"Rank",unit:"Management Unit",school:"School",emiscode:"Emiscode",bank_name:"Bank Name",bank_branch:"Bank Branch",account:"Account Number",status:"Status",status_desc:"Status Description",nhis:"NHIS",ntc_num:"NTC Number",acad_qual:"Academic Qualification",date_obtained_acad:"Date Obtained (Acad.)",prof_qual:"Professional Qualification",date_obtained_prof:"Date Obtained (Prof.)",level:"Level",subject:"Subject",resident_add:"Residential Address",residential_gps:"Residential GPS",email:"Email",date_promoted:"Date of Last Promotion",date_first_app:"Date of First Appointment",date_posted_present_sta:"Date Posted to Station",phone2:"Phone 2",authorised:"Authorised",profile_image_url:"Profile Image URL",stafftype:"Staff Type"},vu=Object.keys(Ls).filter(l=>l!=="id"&&l!=="authorised"),zg=({isOpen:l,onClose:n,onExportCSV:r,onExportPrint:i})=>{const[o,d]=y.useState([]),h=b=>{d(x=>x.includes(b)?x.filter(S=>S!==b):[...x,b])},p=()=>{d(vu)},g=()=>{d([])},m=y.useMemo(()=>[...vu].sort((b,x)=>Ls[b].localeCompare(Ls[x])),[]);return l?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Export Options"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the columns you want to include in your export."})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.length," of ",vu.length," selected"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:p,className:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:"Select All"}),c.jsx("button",{onClick:g,className:"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Deselect All"})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(b=>c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-md hover:bg-gray-50",children:[c.jsx("input",{type:"checkbox",checked:o.includes(b),onChange:()=>h(b),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),c.jsx("span",{className:"text-sm text-gray-800 select-none",children:Ls[b]})]},b))})]}),c.jsxs("div",{className:"mt-auto flex justify-end space-x-3 p-6 border-t bg-gray-50 rounded-b-lg",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>i(o,Ls),disabled:o.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Print / PDF"}),c.jsx("button",{type:"button",onClick:()=>r(o,Ls),disabled:o.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Export CSV"})]})]})}):null};function Mw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Bg=y.forwardRef(Mw);function Uw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const Lw=y.forwardRef(Uw);function zw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M3 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5H15v-18a.75.75 0 0 0 0-1.5H3ZM6.75 19.5v-2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 0 1.5h-.75A.75.75 0 0 1 6 6.75ZM6.75 9a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM6 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 6a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Zm-.75 3.75A.75.75 0 0 1 10.5 9h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 12a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM16.5 6.75v15h5.25a.75.75 0 0 0 0-1.5H21v-12a.75.75 0 0 0 0-1.5h-4.5Zm1.5 4.5a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Zm.75 2.25a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75h-.008ZM18 17.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}))}const Bw=y.forwardRef(zw);function $w({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{d:"m15 1.784-.796.795a1.125 1.125 0 1 0 1.591 0L15 1.784ZM12 1.784l-.796.795a1.125 1.125 0 1 0 1.591 0L12 1.784ZM9 1.784l-.796.795a1.125 1.125 0 1 0 1.591 0L9 1.784ZM9.75 7.547c.498-.021.998-.035 1.5-.042V6.75a.75.75 0 0 1 1.5 0v.755c.502.007 1.002.021 1.5.042V6.75a.75.75 0 0 1 1.5 0v.88l.307.022c1.55.117 2.693 1.427 2.693 2.946v1.018a62.182 62.182 0 0 0-13.5 0v-1.018c0-1.519 1.143-2.829 2.693-2.946l.307-.022v-.88a.75.75 0 0 1 1.5 0v.797ZM12 12.75c-2.472 0-4.9.184-7.274.54-1.454.217-2.476 1.482-2.476 2.916v.384a4.104 4.104 0 0 1 2.585.364 2.605 2.605 0 0 0 2.33 0 4.104 4.104 0 0 1 3.67 0 2.605 2.605 0 0 0 2.33 0 4.104 4.104 0 0 1 3.67 0 2.605 2.605 0 0 0 2.33 0 4.104 4.104 0 0 1 2.585-.364v-.384c0-1.434-1.022-2.7-2.476-2.917A49.138 49.138 0 0 0 12 12.75ZM21.75 18.131a2.604 2.604 0 0 0-1.915.165 4.104 4.104 0 0 1-3.67 0 2.605 2.605 0 0 0-2.33 0 4.104 4.104 0 0 1-3.67 0 2.605 2.605 0 0 0-2.33 0 4.104 4.104 0 0 1-3.67 0 2.604 2.604 0 0 0-1.915-.165v2.494c0 1.035.84 1.875 1.875 1.875h15.75c1.035 0 1.875-.84 1.875-1.875v-2.494Z"}))}const Hw=y.forwardRef($w);function qw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const Gw=y.forwardRef(qw);function Vw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z",clipRule:"evenodd"}),y.createElement("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z",clipRule:"evenodd"}))}const Yw=y.forwardRef(Vw);function Zw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Iw=y.forwardRef(Zw);function Pw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Ju=y.forwardRef(Pw);function Kw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),y.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z",clipRule:"evenodd"}))}const Qw=y.forwardRef(Kw);function Jw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const $g=y.forwardRef(Jw);function Fw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z",clipRule:"evenodd"}),y.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const Gm=y.forwardRef(Fw);function Xw({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const un=y.forwardRef(Xw);function Ww({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Hg=y.forwardRef(Ww);function e2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"m6.72 5.66 11.62 11.62A8.25 8.25 0 0 0 6.72 5.66Zm10.56 12.68L5.66 6.72a8.25 8.25 0 0 0 11.62 11.62ZM5.105 5.106c3.807-3.808 9.98-3.808 13.788 0 3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788Z",clipRule:"evenodd"}))}const t2=y.forwardRef(e2);function a2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),y.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const n2=y.forwardRef(a2);function s2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M7.875 1.5C6.839 1.5 6 2.34 6 3.375v2.99c-.426.053-.851.11-1.274.174-1.454.218-2.476 1.483-2.476 2.917v6.294a3 3 0 0 0 3 3h.27l-.155 1.705A1.875 1.875 0 0 0 7.232 22.5h9.536a1.875 1.875 0 0 0 1.867-2.045l-.155-1.705h.27a3 3 0 0 0 3-3V9.456c0-1.434-1.022-2.7-2.476-2.917A48.716 48.716 0 0 0 18 6.366V3.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM16.5 6.205v-2.83A.375.375 0 0 0 16.125 3h-8.25a.375.375 0 0 0-.375.375v2.83a49.353 49.353 0 0 1 9 0Zm-.217 8.265c.178.018.317.16.333.337l.526 5.784a.375.375 0 0 1-.374.409H7.232a.375.375 0 0 1-.374-.409l.526-5.784a.373.373 0 0 1 .333-.337 41.741 41.741 0 0 1 8.566 0Zm.967-3.97a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H18a.75.75 0 0 1-.75-.75V10.5ZM15 9.75a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V10.5a.75.75 0 0 0-.75-.75H15Z",clipRule:"evenodd"}))}const l2=y.forwardRef(s2);function r2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const i2=y.forwardRef(r2);function o2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625ZM21 9.375A.375.375 0 0 0 20.625 9h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5ZM10.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5ZM3.375 15h7.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h7.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 10.875 9h-7.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const c2=y.forwardRef(o2);function u2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const d2=y.forwardRef(u2);function f2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{d:"M10.375 2.25a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM10.375 12a7.125 7.125 0 0 0-7.124 7.247.75.75 0 0 0 .363.63 13.067 13.067 0 0 0 6.761 1.873c2.472 0 4.786-.684 6.76-1.873a.75.75 0 0 0 .364-.63l.001-.12v-.002A7.125 7.125 0 0 0 10.375 12ZM16 9.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5h-6Z"}))}const h2=y.forwardRef(f2);function m2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const qg=y.forwardRef(m2);function g2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const Mu=y.forwardRef(g2);function p2({title:l,titleId:n,...r},i){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),l?y.createElement("title",{id:n},l):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Fu=y.forwardRef(p2),Xu=["Director-General","Deputy Director-General","Director I","Director II","Deputy Director","Assistant Director I","Assistant Director II","Principal Superintendent","Senior Superintendent I","Senior Superintendent II","Superintendent I","Superintendent II","Teacher","Chief Administrative Officer","Deputy Chief Administrative Officer","Principal Administrative Officer","Senior Administrative Officer","Administrative Officer","Assistant Administrative Officer","Senior Administrative Assistant","Administrative Assistant","Junior Administrative Assistant","Chief Accountant","Deputy Chief Accountant","Principal Accountant","Senior Accountant","Accountant","Assistant Accountant","Senior Accounts Assistant","Accounts Assistant","Junior Accounts Assistant","Chief Internal Auditor","Deputy Chief Internal Auditor","Principal Internal Auditor","Senior Internal Auditor","Internal Auditor","Assistant Internal Auditor","Senior Audit Assistant","Audit Assistant","Junior Audit Assistant","Chief Domestic Bursar","Deputy Chief Domestic Bursar","Principal Domestic Bursar","Senior Domestic Bursar","Domestic Bursar","Assistant Domestic Bursar","Senior Matron","Matron","Chief Cook","Cook","Assistant Cook","Head Steward","Steward","Head Laundry Man","Laundry Man","Head Pantry Hand","Pantry Hand","Senior House Mother","House Mother","Chief Librarian","Deputy Chief Librarian","Principal Librarian","Senior Librarian","Librarian","Assistant Librarian","Senior Library Assistant","Library Assistant","Junior Library Assistant","Chief Laboratory Technician","Deputy Chief Lab Technician","Principal Lab Technician","Senior Lab Technician","Laboratory Technician","Assistant Lab Technician","Senior Lab Assistant","Laboratory Assistant Grade I","Laboratory Assistant Grade II","Principal Private Secretary","Senior Private Secretary","Private Secretary","Stenographer Secretary","Stenographer Grade I","Stenographer Grade II","Principal Typist","Senior Typist","Typist Grade I","Typist Grade II","Ungraded Typist","Senior Rota Print Operator","Rota Print Operator","Chief Technical Officer","Deputy Chief Technical Officer","Principal Technical Officer","Senior Technical Officer","Technical Officer","Assistant Technical Officer","Senior Technical Assistant","Workshop Supervisor","Foreman","Junior Foreman","Artisan","Supervisory Tradesman","Tradesman Grade I","Tradesman Grade II","Chief Supply Officer","Deputy Chief Supply Officer","Principal Supply Officer","Senior Supply Officer","Supply Officer","Principal Storekeeper","Senior Storekeeper","Storekeeper","Assistant Storekeeper","Store Assistant","Chief Security Officer","Deputy Chief Security Officer","Principal Security Officer","Senior Security Officer","Security Officer","Assistant Security Officer","Head Porter","Principal Porter","Senior Porter","Porter","Assistant Porter","Junior Porter","Supervising Caretaker","Senior Caretaker","Caretaker","Head Watchman/Gateman","Senior Watchman/Gateman","Night Watchman/Gateman","Day Watchman/Gateman"],Gg=new Set(Xu),Vm={teacher:"Teacher","assistant director i":"Assistant Director I","assistant director 1":"Assistant Director I","assistant director ii":"Assistant Director II","assistant director 2":"Assistant Director II","senior superintendent i":"Senior Superintendent I","senior superintendent 1":"Senior Superintendent I","senior superintendent ii":"Senior Superintendent II","senior superintendent 2":"Senior Superintendent II","superintendent i":"Superintendent I","superintendent 1":"Superintendent I","superintendent ii":"Superintendent II","superintendent 2":"Superintendent II","laboratory assistant grade i":"Laboratory Assistant Grade I","laboratory assistant grade 1":"Laboratory Assistant Grade I","laboratory assistant grade ii":"Laboratory Assistant Grade II","laboratory assistant grade 2":"Laboratory Assistant Grade II","stenographer grade i":"Stenographer Grade I","stenographer grade 1":"Stenographer Grade I","stenographer grade ii":"Stenographer Grade II","stenographer grade 2":"Stenographer Grade II","typist grade i":"Typist Grade I","typist grade 1":"Typist Grade I","typist grade ii":"Typist Grade II","typist grade 2":"Typist Grade II","tradesman grade i":"Tradesman Grade I","tradesman grade 1":"Tradesman Grade I","tradesman grade ii":"Tradesman Grade II","tradesman grade 2":"Tradesman Grade II"},y2=l=>{if(!l||typeof l!="string")return"Unspecified";const n=l.trim();if(Gg.has(n))return n;const r=n.toLowerCase();return Vm[r]?Vm[r]:n},dn=l=>l?Gg.has(l.trim()):!1,v2=({data:l,onSegmentClick:n,hoveredSegment:r,setHoveredSegment:i})=>{const o=["#3b82f6","#f59e0b","#ef4444","#10b981","#8b5cf6","#6b7280"],d=Object.entries(l).filter(([,m])=>typeof m=="number"&&m>0),h=d.reduce((m,[,b])=>m+b,0);if(h===0)return c.jsx("div",{className:"text-center text-gray-500",children:"No data available"});let p=0;const g=2*Math.PI*15.915;return c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 w-full",children:[c.jsxs("div",{className:"relative w-40 h-40 cursor-pointer flex-shrink-0",children:[c.jsxs("svg",{viewBox:"0 0 36 36",className:"transform -rotate-90",children:[c.jsx("circle",{cx:"18",cy:"18",r:"15.915",className:"stroke-current text-gray-200",strokeWidth:"3",fill:"transparent"}),d.map(([m,b],x)=>{const S=b/h*100,E=p/100*g;return p+=S,c.jsx("circle",{cx:"18",cy:"18",r:"15.915",stroke:o[x%o.length],strokeWidth:"3.5",fill:"transparent",strokeDasharray:`${g}`,strokeDashoffset:g-E,onClick:()=>n(m),onMouseEnter:()=>i(m),onMouseLeave:()=>i(null),style:{transition:"all 0.2s ease-in-out",opacity:r&&r!==m?.3:1,transformOrigin:"center",transform:r===m?"scale(1.05)":"scale(1)"}},m)})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[c.jsx("span",{className:"text-3xl font-bold text-gray-800",children:h}),c.jsx("span",{className:"text-sm text-gray-500",children:"Total"})]})]}),c.jsx("div",{className:"w-full md:w-auto",children:c.jsx("ul",{className:"space-y-2",children:d.map(([m,b],x)=>c.jsxs("li",{className:"flex items-center cursor-pointer p-1 rounded-md",onClick:()=>n(m),onMouseEnter:()=>i(m),onMouseLeave:()=>i(null),style:{transition:"all 0.2s ease-in-out",opacity:r&&r!==m?.5:1,backgroundColor:r===m?"#f3f4f6":"transparent"},children:[c.jsx("span",{className:"h-3 w-3 rounded-full mr-3",style:{backgroundColor:o[x%o.length]}}),c.jsxs("span",{className:"text-gray-700",children:[m,":"]}),c.jsx("span",{className:"font-semibold ml-auto pl-4",children:b}),c.jsxs("span",{className:"text-sm text-gray-500 w-12 text-right",children:["(",(b/h*100).toFixed(0),"%)"]})]},m))})})]})},Ym=({data:l,onSegmentClick:n,hoveredSegment:r,setHoveredSegment:i,useColorPalette:o=!1})=>{const d=Object.entries(l).filter(([,g])=>typeof g=="number"&&g>0).sort((g,m)=>m[1]-g[1]),h=Math.max(...d.map(([,g])=>g));if(d.length===0)return c.jsx("div",{className:"text-center text-gray-500",children:"No data available"});const p=["#3b82f6","#f59e0b","#ef4444","#10b981","#8b5cf6","#6b7280"];return c.jsx("div",{className:"space-y-4 w-full",children:d.map(([g,m],b)=>c.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 group",onClick:()=>n&&n(g),onMouseEnter:()=>i&&i(g),onMouseLeave:()=>i&&i(null),style:{cursor:n?"pointer":"default",transition:"opacity 0.2s ease-in-out",opacity:r&&r!==g?.5:1},children:[c.jsx("div",{className:"text-sm text-gray-600 truncate col-span-1 group-hover:text-blue-600",children:g||"N/A"}),c.jsx("div",{className:"col-span-2 bg-gray-200 rounded-full h-5",children:c.jsx("div",{className:"h-5 rounded-full flex items-center justify-end pr-2",style:{width:`${m/h*100}%`,backgroundColor:o?p[b%p.length]:"#3b82f6",transition:"width 0.3s ease-in-out"},children:c.jsx("span",{className:"text-xs font-medium text-white",children:m})})})]},g))})},b2=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},x2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState([]),[d,h]=y.useState(!0),[p,g]=y.useState(""),[m,b]=y.useState(!1),[x,S]=y.useState(null),[E,k]=y.useState("donut"),T=Vs(),D=y.useCallback(async()=>{if(l){h(!0),g("");try{const V=b2(),[ee,ae]=await Promise.all([cn(l.emiscode),Fl(l.emiscode,V)]);r(ee);const ie=new Set(ae.map(we=>we.staff_member_id)),ce=ee.filter(we=>!ie.has(we.id));o(ce)}catch(V){g("Failed to fetch dashboard data."),console.error(V)}finally{h(!1)}}},[l]);y.useEffect(()=>{D()},[D]);const C=(V,ee)=>{b(!1);const ie=[V.map(H=>ee[H]).join(",")];n.forEach(H=>{const q=V.map(F=>{const te=H[F];return`"${String(te||"").replace(/"/g,'""')}"`});ie.push(q.join(","))});const ce=ie.join(`
`),we=new Blob([ce],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a"),Le=URL.createObjectURL(we);Ne.setAttribute("href",Le);const G=new Date().toISOString().split("T")[0];Ne.setAttribute("download",`staff_list_${l==null?void 0:l.emiscode}_${G}.csv`),document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},L=(V,ee)=>{b(!1);const ae=window.open("","_blank");if(ae){const ie=V.map(we=>`<th>${ee[we]}</th>`).join("");let ce="";n.forEach(we=>{const Ne=V.map(Le=>`<td>${we[Le]||"N/A"}</td>`).join("");ce+=`<tr>${Ne}</tr>`}),ae.document.write(`
                <html>
                    <head>
                        <title>Staff List - ${l==null?void 0:l.name}</title>
                        <style>
                            body { font-family: sans-serif; }
                            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 10px; }
                            th { background-color: #f2f2f2; }
                            h1 { color: #333; }
                             @media print {
                                .no-print { display: none; }
                            }
                        </style>
                    </head>
                    <body>
                        <h1>Staff List for ${n.length>0?n[0].school:"Your School"}</h1>
                        <p>Total Staff: ${n.length}</p>
                        <table>
                            <thead>
                                <tr>
                                    ${ie}
                                </tr>
                            </thead>
                            <tbody>
                                ${ce}
                            </tbody>
                        </table>
                    </body>
                </html>
            `),ae.document.close(),ae.focus(),ae.print(),ae.close()}},A=V=>{V!=="Unknown"&&T(`/approved-staff?status=${encodeURIComponent(V)}`)},I=y.useMemo(()=>{const V=n.reduce((ee,ae)=>{const ie=(ae.status||"Unknown").trim().toUpperCase();return ee[ie]=(ee[ie]||0)+1,ee},{});return{total:n.length,active:V[Qt.AtPost]||0,onLeave:V[Qt.OnLeave]||0,vacated:V[Qt.VacatedPost]||0}},[n]),Z=y.useMemo(()=>n.reduce((V,ee)=>{const ae=(ee.status||"Unknown").trim(),ie=Object.values(Qt).find(ce=>ce.toLowerCase()===ae.toLowerCase())||ae;return V[ie]=(V[ie]||0)+1,V},{}),[n]),R=y.useMemo(()=>n.reduce((V,ee)=>{const ae=y2(ee.rank);return V[ae]=(V[ae]||0)+1,V},{}),[n]),K=y.useMemo(()=>i.slice(0,5),[i]);return d?c.jsx("div",{className:"text-center p-8",children:"Loading dashboard..."}):p?c.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:p}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome, ",l==null?void 0:l.name,"!"]}),c.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Bg,{className:"h-5 w-5 mr-2"}),"Export Staff List"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(ji,{title:"Total Staff",value:I.total,icon:c.jsx(Mu,{className:"h-8 w-8 text-white"}),color:"bg-blue-500"}),c.jsx(ji,{title:"Active Staff",value:I.active,icon:c.jsx(Mu,{className:"h-8 w-8 text-white"}),color:"bg-green-500"}),c.jsx(ji,{title:"On Leave",value:I.onLeave,icon:c.jsx($g,{className:"h-8 w-8 text-white"}),color:"bg-yellow-500"}),c.jsx(ji,{title:"Vacated Post",value:I.vacated,icon:c.jsx(h2,{className:"h-8 w-8 text-white"}),color:"bg-red-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Staff Status Distribution"}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg",children:[c.jsx("button",{title:"Donut Chart",onClick:()=>k("donut"),className:`p-1.5 rounded-md transition-all ${E==="donut"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-800 hover:bg-gray-200"}`,"aria-pressed":E==="donut",children:c.jsx(Yw,{className:"h-5 w-5"})}),c.jsx("button",{title:"Bar Chart",onClick:()=>k("bar"),className:`p-1.5 rounded-md transition-all ${E==="bar"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-800 hover:bg-gray-200"}`,"aria-pressed":E==="bar",children:c.jsx(Gw,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex-grow flex items-center justify-center",children:E==="donut"?c.jsx(v2,{data:Z,onSegmentClick:A,hoveredSegment:x,setHoveredSegment:S}):c.jsx(Ym,{data:Z,onSegmentClick:A,hoveredSegment:x,setHoveredSegment:S,useColorPalette:!0})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg h-full flex flex-col",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Staff by Rank"}),c.jsx("div",{className:"flex-grow",children:c.jsx(Ym,{data:R})})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Pending Approvals for Current Month"}),c.jsxs(Ys,{to:"/pending-approval",className:"text-sm font-medium text-blue-600 hover:underline",children:["View All (",i.length,")"]})]}),K.length>0?c.jsx("ul",{className:"divide-y divide-gray-200",children:K.map(V=>c.jsxs("li",{className:"py-3 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:V.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[V.staff_id," - ",V.rank||"N/A"]})]}),c.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:"Pending"})]},V.id))}):c.jsx("p",{className:"text-gray-500 text-center py-4",children:"All staff have been actioned for this month."})]})]}),c.jsx(zg,{isOpen:m,onClose:()=>b(!1),onExportCSV:C,onExportPrint:L})]})},w2=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},S2=()=>{const{user:l}=st(),[n,r]=y.useState(null),[i,o]=y.useState(null),[d,h]=y.useState(!0),[p,g]=y.useState(""),m=y.useMemo(()=>new Date().toLocaleString("default",{month:"long",year:"numeric"}),[]),b=y.useCallback(async()=>{if(l){h(!0),g("");try{const[S,E]=await Promise.all([Bi(l.staffId),Ow(l.id,w2())]);r(S),o(E)}catch(S){g(S.message||"Failed to fetch your dashboard data.")}finally{h(!1)}}},[l]);if(y.useEffect(()=>{b()},[b]),d)return c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-dashed rounded-full animate-spin"})});if(p)return c.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:p});const x=()=>(i==null?void 0:i.status)===rn.Approved?c.jsxs("div",{className:"flex items-center space-x-3 text-green-600",children:[c.jsx(Iw,{className:"h-8 w-8"}),c.jsx("span",{className:"text-xl font-semibold",children:"Approved"})]}):(i==null?void 0:i.status)===rn.Disapproved?c.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[c.jsx(Fu,{className:"h-8 w-8"}),c.jsx("span",{className:"text-xl font-semibold",children:"Disapproved"})]}):c.jsxs("div",{className:"flex items-center space-x-3 text-yellow-600",children:[c.jsx($g,{className:"h-8 w-8"}),c.jsx("span",{className:"text-xl font-semibold",children:"Pending"})]});return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome, ",l==null?void 0:l.name,"!"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Monthly Status for ",m]}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"This is your official status for the current month's payroll approval."})]}),c.jsx("div",{className:"bg-gray-50 p-6 rounded-lg flex items-center justify-center",children:x()})]}),c.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"My Profile"}),c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-2xl font-bold flex-shrink-0",children:n==null?void 0:n.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-gray-900",children:n==null?void 0:n.name}),c.jsx("p",{className:"text-md text-gray-600",children:n==null?void 0:n.rank})]})]}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"View your full profile or update your contact and bank information."}),c.jsxs(Ys,{to:"/profile",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(d2,{className:"h-5 w-5 mr-2"}),"View & Edit My Profile"]})]})]})]})},Vg=({isOpen:l,onClose:n,staffMember:r,onSave:i})=>{const[o,d]=y.useState(Qt.AtPost),[h,p]=y.useState("");if(y.useEffect(()=>{r&&(d(r.status),p(r.status_desc||""))},[r]),!l||!r)return null;const g=()=>{i(r.id,o,h)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[c.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Update Status for ",r.name]}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),c.jsx("select",{id:"status",value:o,onChange:m=>d(m.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md text-gray-900 bg-white",children:Object.values(Qt).map(m=>c.jsx("option",{value:m,children:m},m))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Remarks / Description"}),c.jsx("textarea",{id:"description",rows:3,value:h,onChange:m=>p(m.target.value),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white"})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})},Ei=({icon:l,label:n,value:r})=>c.jsxs("div",{className:"flex items-start py-2",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 text-gray-500",children:l}),c.jsxs("div",{className:"ml-3",children:[c.jsx("p",{className:"text-sm text-gray-500",children:n}),c.jsx("p",{className:"text-base font-medium text-gray-800",children:r||"N/A"})]})]}),Xl=({isOpen:l,onClose:n,staffMember:r})=>!l||!r?null:c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg relative transform transition-all duration-300 ease-in-out scale-95 animate-modal-enter",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:c.jsx(Ku,{className:"h-6 w-6"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-5",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:r.profile_image_url?c.jsx("img",{src:r.profile_image_url,alt:r.name,className:"w-full h-full object-cover"}):c.jsx(Mg,{className:"w-16 h-16 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),c.jsx("p",{className:"text-md text-gray-600",children:r.rank||"Rank not specified"}),c.jsx("span",{className:`mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${r.status==="AT POST"?"bg-green-100 text-green-800":r.status==="ON LEAVE"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})]})]}),c.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Contact & School Details"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6",children:[c.jsx(Ei,{icon:c.jsx(R5,{}),label:"Email",value:r.email}),c.jsx(Ei,{icon:c.jsx(cw,{}),label:"Phone",value:r.phone}),c.jsx(Ei,{icon:c.jsx(M5,{}),label:"Staff ID",value:r.staff_id}),c.jsx(Ei,{icon:c.jsx(nw,{}),label:"School",value:r.school})]})]})]}),c.jsx("div",{className:"bg-gray-50 px-6 py-3 rounded-b-xl text-right",children:c.jsx("button",{type:"button",onClick:n,className:"inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm",children:"Close"})})]}),c.jsx("style",{children:`
                @keyframes modal-enter {
                    from {
                        opacity: 0;
                        transform: scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }
                .animate-modal-enter {
                    animation: modal-enter 0.2s ease-out forwards;
                }
            `})]}),_2=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},j2=({staff:l,onUpdate:n,onView:r})=>c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(i=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.jsx("span",{onClick:()=>r(i),className:"cursor-pointer hover:underline text-blue-600",children:i.name})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.staff_id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:i.rank||"N/A"}),i.rank&&!dn(i.rank)&&c.jsx("span",{title:"This rank is not standard. Please use the 'Edit Member Record' page to correct it.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.status===Qt.AtPost?"bg-green-100 text-green-800":i.status===Qt.OnLeave?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("button",{onClick:()=>n(i),className:"text-blue-600 hover:text-blue-900 flex items-center ml-auto",children:[c.jsx(Cg,{className:"h-5 w-5 mr-1"})," Update Status"]})})]},i.id))})]})}),E2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(""),[d,h]=y.useState(""),[p,g]=y.useState(!0),[m,b]=y.useState(""),[x,S]=y.useState(null),[E,k]=y.useState(!1),[T,D]=y.useState(!1),[C,L]=m5(),A=C.get("status"),I=y.useMemo(()=>new Date().toLocaleString("default",{month:"long",year:"numeric"}),[]),Z=y.useCallback(async()=>{if(l){g(!0),b("");try{const ae=_2(),ie=await cn(l.emiscode),ce=await Fl(l.emiscode,ae),we=new Set(ce.filter(Ne=>Ne.status===rn.Approved).map(Ne=>Ne.staff_member_id));r(ie.filter(Ne=>we.has(Ne.id)))}catch(ae){b("Failed to fetch approved staff data."),console.error(ae)}finally{g(!1)}}},[l]);y.useEffect(()=>{Z()},[Z]),y.useEffect(()=>{const ae=setTimeout(()=>{h(i)},500);return()=>{clearTimeout(ae)}},[i]);const R=y.useMemo(()=>{let ae=n;A&&(ae=ae.filter(ce=>ce.status===A));const ie=d.toLowerCase();return ie?ae.filter(ce=>ce.name.toLowerCase().includes(ie)||ce.staff_id.toLowerCase().includes(ie)||ce.rank&&ce.rank.toLowerCase().includes(ie)||ce.school&&ce.school.toLowerCase().includes(ie)):ae},[n,d,A]),K=ae=>{S(ae),k(!0)},V=ae=>{S(ae),D(!0)},ee=async(ae,ie,ce)=>{try{await $s(ae,{status:ie,status_desc:ce}),Z(),k(!1),alert("Status updated successfully!")}catch(we){console.error("Failed to update staff:",we),alert(`Update Failed: ${we.message||"An unexpected error occurred."}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Approved Staff for ",I]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[A&&c.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4 rounded-r-lg",role:"alert",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{children:c.jsxs("p",{className:"font-bold",children:['Filtering by "',A,'"']})}),c.jsx("button",{onClick:()=>L({}),className:"p-1 rounded-full hover:bg-blue-200","aria-label":"Clear filter",children:c.jsx(vw,{className:"h-6 w-6"})})]})}),c.jsx("div",{className:"flex items-center mb-4",children:c.jsxs("div",{className:"relative w-full max-w-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zi,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search by name, Staff ID, rank, or school...",value:i,onChange:ae=>o(ae.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),p?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):m?c.jsx("p",{className:"text-center text-red-600 py-8",children:m}):R.length>0?c.jsx(j2,{staff:R,onUpdate:K,onView:V}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:d||A?"No staff members found matching your filters.":"No staff members have been approved for this month."})]}),c.jsx(Vg,{isOpen:E,onClose:()=>k(!1),staffMember:x,onSave:ee}),c.jsx(Xl,{isOpen:T,onClose:()=>D(!1),staffMember:x})]})},N2=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},A2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(""),[d,h]=y.useState(""),[p,g]=y.useState(!0),[m,b]=y.useState(""),[x,S]=y.useState(!1),[E,k]=y.useState(!1),[T,D]=y.useState(null),C=y.useMemo(()=>new Date().toLocaleString("default",{month:"long",year:"numeric"}),[]),L=y.useCallback(async()=>{if(l){g(!0),b("");try{const V=N2(),[ee,ae]=await Promise.all([cn(l.emiscode),Fl(l.emiscode,V)]),ie=new Set(ae.map(we=>we.staff_member_id)),ce=ee.filter(we=>!ie.has(we.id));r(ce)}catch(V){b(`Failed to fetch pending staff: ${V.message}`),console.error(V)}finally{g(!1)}}},[l]);y.useEffect(()=>{L()},[L]),y.useEffect(()=>{const V=setTimeout(()=>{h(i)},500);return()=>{clearTimeout(V)}},[i]);const A=y.useMemo(()=>{const V=d.toLowerCase();return V?n.filter(ee=>ee.name.toLowerCase().includes(V)||ee.staff_id.toLowerCase().includes(V)||ee.rank&&ee.rank.toLowerCase().includes(V)||ee.school&&ee.school.toLowerCase().includes(V)):n},[n,d]),I=async(V,ee)=>{if(l)try{await Lg(V.id,l.emiscode,l.id,ee),r(ae=>ae.filter(ie=>ie.id!==V.id)),alert(`${V.name} has been marked as ${ee}.`)}catch(ae){console.error(`Failed to set status for ${V.name}:`,ae),alert(`Action Failed: ${ae.message||"An unexpected error occurred."}`)}},Z=V=>{D(V),S(!0)},R=V=>{D(V),k(!0)},K=async(V,ee,ae)=>{try{await $s(V,{status:ee,status_desc:ae}),L(),S(!1),alert("Status updated successfully!")}catch(ie){console.error("Failed to update staff:",ie),alert(`Update Failed: ${ie.message||"An unexpected error occurred."}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Pending Staff Approvals for ",C]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsx("div",{className:"flex items-center mb-4",children:c.jsxs("div",{className:"relative w-full max-w-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zi,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search by name, Staff ID, rank, or school...",value:i,onChange:V=>o(V.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),p?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):m?c.jsx("p",{className:"text-center text-red-600 py-8",children:m}):A.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:A.map(V=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:c.jsx("span",{onClick:()=>R(V),className:"cursor-pointer hover:underline text-blue-600",children:V.name})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:V.staff_id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:V.rank||"N/A"}),V.rank&&!dn(V.rank)&&c.jsx("span",{title:"This rank is not standard. Please use the 'Edit Member Record' page to correct it.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${V.status===Qt.AtPost?"bg-green-100 text-green-800":V.status===Qt.OnLeave?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:V.status})}),c.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[c.jsx("button",{onClick:()=>Z(V),className:"p-2 text-blue-600 bg-blue-100 rounded-full hover:bg-blue-200 transition-colors",title:"Update Status",children:c.jsx(Cg,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>I(V,rn.Approved),className:"p-2 text-green-600 bg-green-100 rounded-full hover:bg-green-200 transition-colors",title:"Approve",children:c.jsx(Ju,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>I(V,rn.Disapproved),className:"p-2 text-red-600 bg-red-100 rounded-full hover:bg-red-200 transition-colors",title:"Disapprove",children:c.jsx(Fu,{className:"h-5 w-5"})})]})]},V.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:d?"No staff members found matching your search.":"All staff members have been actioned for this month."})]}),c.jsx(Vg,{isOpen:x,onClose:()=>S(!1),staffMember:T,onSave:K}),c.jsx(Xl,{isOpen:E,onClose:()=>k(!1),staffMember:T})]})},bu=(l,n,r)=>({staff_id:"",name:"",email:"",school:n,emiscode:l,unit:r,status:Qt.AtPost,dob:void 0,phone:"",ssnit:"",gh_card:"",rank:"",bank_name:"",bank_branch:"",account:"",status_desc:"",nhis:"",ntc_num:"",acad_qual:"",date_obtained_acad:void 0,prof_qual:"",date_obtained_prof:void 0,level:"",subject:"",resident_add:"",residential_gps:"",date_promoted:void 0,date_first_app:void 0,date_posted_present_sta:void 0,phone2:"",stafftype:"Teacher"}),T2=()=>{const{user:l}=st(),[n,r]=y.useState(bu(0,"","")),[i,o]=y.useState(!1),[d,h]=y.useState(""),[p,g]=y.useState(!1),[m,b]=y.useState(""),[x,S]=y.useState(null),[E,k]=y.useState(null);y.useEffect(()=>{l&&(async()=>{try{const Z=await Bi(l.staffId),R=Z.unit||"";b(R);const K=Z.school||`Tema Metro School ${l.emiscode}`;r(bu(l.emiscode,K,R))}catch(Z){console.error("Failed to fetch admin details for form pre-population",Z),g(!0),h("Could not load admin details to pre-populate the form.")}})()},[l]);const T=I=>{const{name:Z,value:R,type:K}=I.target,V=K==="date";r(ee=>({...ee,[Z]:V&&!R?void 0:R}))},D=I=>{if(I.target.files&&I.target.files[0]){const Z=I.target.files[0];if(Z.size>2*1024*1024){h("Image file size should not exceed 2MB."),g(!0);return}S(Z),k(URL.createObjectURL(Z))}},C=async I=>{if(I.preventDefault(),!l)return;if(!n.name||!n.email){h("Full Name and Email are required."),g(!0);return}o(!0),h(""),g(!1);const Z={...n};Z.staff_id.trim()||(Z.staff_id=`TEMP-${Date.now()}`);try{const R=await Aw(Z,x||void 0);h(`Successfully added ${R.name} (${R.staff_id}). They are now available for monthly approval.`),g(!1);const K=`Tema Metro School ${l.emiscode}`;r(bu(l.emiscode,K,m)),S(null),k(null)}catch(R){h(R.message||"An error occurred while adding the staff member."),g(!0)}finally{o(!1)}},L=(I,Z,R="text",K=!1,V=!1)=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:Z,className:"block text-sm font-medium text-gray-700",children:I}),c.jsx("input",{type:R,name:Z,id:Z,value:String(n[Z]||""),onChange:T,required:K,disabled:V,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white disabled:bg-gray-100"})]}),A=()=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rank",className:"block text-sm font-medium text-gray-700",children:"Rank"}),c.jsx("input",{type:"text",list:"ranks-list",id:"rank",name:"rank",value:n.rank||"",onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white",placeholder:"Type or select a rank"}),c.jsx("datalist",{id:"ranks-list",children:Xu.map(I=>c.jsx("option",{value:I},I))}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"If your rank is not in the list, please type it in full as it appears on your payslip."})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Add New Staff Member"}),c.jsxs("form",{onSubmit:C,className:"bg-white p-8 rounded-xl shadow-lg space-y-8",children:[d&&c.jsx("div",{className:`p-4 rounded-md text-sm ${p?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:d}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Profile Image"}),c.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:E?c.jsx("img",{src:E,alt:"Profile Preview",className:"w-full h-full object-cover"}):c.jsx(qg,{className:"w-16 h-16 text-gray-400"})}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"profile-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50",children:[c.jsx("span",{children:"Upload an image"}),c.jsx("input",{id:"profile-image-upload",name:"profile_image",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:D})]}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG or JPG up to 2MB."})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Core Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[L("Full Name","name","text",!0),L("Staff ID (leave blank for temp ID)","staff_id","text",!1),L("Email Address","email","email",!0)]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[L("Date of Birth","dob","date"),L("Phone","phone"),L("Phone 2","phone2"),L("SSNIT Number","ssnit"),L("Ghana Card No.","gh_card"),L("NHIS Number","nhis")]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[L("Residential Address","resident_add"),L("Residential GPS","residential_gps")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Professional Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[A(),L("Management Unit","unit","text",!1,!0),L("Emiscode","emiscode","number",!1,!0),L("NTC Number","ntc_num")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Qualifications"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[L("Academic Qualification","acad_qual"),L("Date Obtained (Acad.)","date_obtained_acad","date"),L("Professional Qualification","prof_qual"),L("Date Obtained (Prof.)","date_obtained_prof","date")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Appointment Dates"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[L("Date of Last Promotion","date_promoted","date"),L("Date of First Appointment","date_first_app","date"),L("Date Posted to Station","date_posted_present_sta","date")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-base font-medium text-blue-600 px-2",children:"Bank Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[L("Bank Name","bank_name"),L("Bank Branch","bank_branch"),L("Account Number","account")]})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx("button",{type:"submit",disabled:i||!l,className:"w-full md:w-auto flex justify-center py-3 px-8 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300 disabled:cursor-not-allowed",children:i?"Adding...":"Add Staff Member"})})]})]})},O2=()=>{const l=new Date;return new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0]},R2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(!0),[d,h]=y.useState(""),[p,g]=y.useState(!1),[m,b]=y.useState(null),x=y.useMemo(()=>new Date().toLocaleString("default",{month:"long",year:"numeric"}),[]),S=y.useCallback(async()=>{if(l){o(!0),h("");try{const T=O2(),D=await cn(l.emiscode),C=await Fl(l.emiscode,T),L=new Set(C.filter(A=>A.status===rn.Disapproved).map(A=>A.staff_member_id));r(D.filter(A=>L.has(A.id)))}catch(T){h(`Failed to fetch disapproved staff: ${T.message}`),console.error(T)}finally{o(!1)}}},[l]);y.useEffect(()=>{S()},[S]);const E=T=>{b(T),g(!0)},k=async T=>{if(l)try{await Lg(T.id,l.emiscode,l.id,rn.Approved),r(D=>D.filter(C=>C.id!==T.id)),alert(`${T.name}'s status has been changed to 'Approved'.`)}catch(D){console.error(`Failed to approve ${T.name}:`,D),alert(`Action Failed: ${D.message||"An unexpected error occurred."}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Disapproved Staff for ",x]}),c.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:i?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):d?c.jsx("p",{className:"text-center text-red-600 py-8",children:d}):n.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(T=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:c.jsx("span",{onClick:()=>E(T),className:"cursor-pointer hover:underline text-blue-600",children:T.name})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:T.staff_id}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:T.rank||"N/A"}),T.rank&&!dn(T.rank)&&c.jsx("span",{title:"This rank is not standard. Please use the 'Edit Member Record' page to correct it.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("button",{onClick:()=>k(T),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Change to Approved",children:[c.jsx(Ju,{className:"h-4 w-4 mr-1.5"}),"Approve"]})})]},T.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members have been disapproved for this month."})}),c.jsx(Xl,{isOpen:p,onClose:()=>g(!1),staffMember:m})]})},C2=({isOpen:l,onClose:n,staffMember:r,onSave:i})=>{const[o,d]=y.useState({}),[h,p]=y.useState(!1),[g,m]=y.useState(null),[b,x]=y.useState(null),[S,E]=y.useState("");if(y.useEffect(()=>{r&&(d(r),x(r.profile_image_url||null),m(null),E(""))},[r]),!l||!r)return null;const k=A=>{const{name:I,value:Z}=A.target,R=A.target.type==="date";d(K=>({...K,[I]:R&&!Z?void 0:Z}))},T=A=>{if(A.target.files&&A.target.files[0]){const I=A.target.files[0];if(I.size>2*1024*1024){E("Image file size should not exceed 2MB.");return}E(""),m(I),x(URL.createObjectURL(I))}},D=async()=>{if(!r)return;p(!0),E("");const A={...o};try{if(g){const I=await Ug(g,r.staff_id);A.profile_image_url=I}await i(A)}catch(I){E(I.message||"An unexpected error occurred during save."),console.error("Save failed in modal:",I)}finally{p(!1)}},C=(A,I,Z="text")=>{let R=String(o[I]||"");return Z==="date"&&R&&(R=R.split("T")[0]),c.jsxs("div",{children:[c.jsx("label",{htmlFor:I,className:"block text-sm font-medium text-gray-700",children:A}),c.jsx("input",{type:Z,name:I,id:I,value:R,onChange:k,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white"})]})},L=()=>c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rank",className:"block text-sm font-medium text-gray-700",children:"Rank"}),c.jsx("input",{type:"text",list:"ranks-list-modal",id:"rank",name:"rank",value:o.rank||"",onChange:k,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white",placeholder:"Type or select a rank"}),c.jsx("datalist",{id:"ranks-list-modal",children:Xu.map(A=>c.jsx("option",{value:A},A))}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"If the rank is not in the list, please type it in full as it appears on the payslip."})]});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[c.jsxs("h3",{className:"text-xl font-medium text-gray-900 p-6 border-b",children:["Edit Record for ",r.name]}),c.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[S&&c.jsx("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-lg",children:S}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Profile Image"}),c.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:b?c.jsx("img",{src:b,alt:"Profile Preview",className:"w-full h-full object-cover"}):c.jsx(qg,{className:"w-16 h-16 text-gray-400"})}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"profile-image-upload-modal",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50",children:[c.jsx("span",{children:"Change image"}),c.jsx("input",{id:"profile-image-upload-modal",name:"profile_image",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:T})]}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG or JPG up to 2MB."})]})]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Core Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C("Staff ID","staff_id"),C("Full Name","name"),C("Email","email","email")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C("Date of Birth","dob","date"),C("Phone","phone"),C("Phone 2","phone2"),C("SSNIT Number","ssnit"),C("Ghana Card No.","gh_card"),C("NHIS Number","nhis")]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[C("Residential Address","resident_add"),C("Residential GPS","residential_gps")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Professional Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L(),C("Management Unit","unit"),C("NTC Number","ntc_num")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Qualifications"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C("Academic Qualification","acad_qual"),C("Date Obtained (Acad.)","date_obtained_acad","date"),C("Professional Qualification","prof_qual"),C("Date Obtained (Prof.)","date_obtained_prof","date")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Appointment Dates"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C("Date of Last Promotion","date_promoted","date"),C("Date of First Appointment","date_first_app","date"),C("Date Posted to Station","date_posted_present_sta","date")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Bank Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C("Bank Name","bank_name"),C("Bank Branch","bank_branch"),C("Account Number","account")]})]})]}),c.jsxs("div",{className:"mt-auto flex justify-end space-x-3 p-6 border-t bg-gray-50 rounded-b-lg",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:D,disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:h?"Saving...":"Save Changes"})]})]})})},k2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(""),[d,h]=y.useState(""),[p,g]=y.useState(!0),[m,b]=y.useState(""),[x,S]=y.useState(null),[E,k]=y.useState(!1),[T,D]=y.useState(!1),C=y.useCallback(async()=>{if(l){g(!0),b("");try{const R=await cn(l.emiscode);r(R)}catch(R){b(`Failed to fetch staff data: ${R.message}`),console.error(R)}finally{g(!1)}}},[l]);y.useEffect(()=>{C()},[C]),y.useEffect(()=>{const R=setTimeout(()=>{h(i)},500);return()=>{clearTimeout(R)}},[i]);const L=y.useMemo(()=>{const R=d.toLowerCase();return R?n.filter(K=>K.name.toLowerCase().includes(R)||K.staff_id.toLowerCase().includes(R)||K.rank&&K.rank.toLowerCase().includes(R)||K.school&&K.school.toLowerCase().includes(R)):n},[n,d]),A=R=>{S(R),k(!0)},I=R=>{S(R),D(!0)},Z=async R=>{if(x)try{await $s(x.id,R),C(),k(!1),alert("Record updated successfully!")}catch(K){console.error("Failed to update staff record:",K),alert(`Update Failed: ${K.message||"An unexpected error occurred."}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Edit Member Records"}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsx("div",{className:"flex items-center mb-4",children:c.jsxs("div",{className:"relative w-full max-w-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zi,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search by name, Staff ID, rank, or school...",value:i,onChange:R=>o(R.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),p?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):m?c.jsx("p",{className:"text-center text-red-600 py-8",children:m}):L.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:L.map(R=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:c.jsx("span",{onClick:()=>I(R),className:"cursor-pointer hover:underline text-blue-600",children:R.name})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:R.staff_id}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:R.rank||"N/A"}),R.rank&&!dn(R.rank)&&c.jsx("span",{title:"This rank is not standard. Please edit this record to correct it.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("button",{onClick:()=>A(R),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Rg,{className:"h-4 w-4 mr-1.5"}),"Edit Record"]})})]},R.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:d?"No staff members found matching your search.":"No staff members found."})]}),c.jsx(C2,{isOpen:E,onClose:()=>k(!1),staffMember:x,onSave:Z}),c.jsx(Xl,{isOpen:T,onClose:()=>D(!1),staffMember:x})]})},D2=20,M2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(""),[d,h]=y.useState(""),[p,g]=y.useState(!0),[m,b]=y.useState(!1),[x,S]=y.useState(""),[E,k]=y.useState(0),[T,D]=y.useState(!1),[C,L]=y.useState(null),[A,I]=y.useState(null),[Z,R]=y.useState([]),[K,V]=y.useState(!1),[ee,ae]=y.useState([]),[ie,ce]=y.useState(!0),[we,Ne]=y.useState(!1),[Le,G]=y.useState(null);y.useEffect(()=>{l&&(async()=>{try{const le=await Bi(l.staffId);I({school:le.school,unit:le.unit,emiscode:l.emiscode})}catch{S("Failed to fetch your admin details. Cannot perform pull actions.")}})()},[l]),y.useEffect(()=>{l&&(async()=>{ce(!0);try{const le=await cn(l.emiscode),De=new Date,Oe=new Date;Oe.setFullYear(De.getFullYear()+1);const jt=le.filter(Jt=>{if(!Jt.dob)return!1;const Ft=new Date(Jt.dob);if(isNaN(Ft.getTime()))return!1;const ft=new Date(Ft);return ft.setFullYear(Ft.getFullYear()+60),ft>=De&&ft<=Oe}).sort((Jt,Ft)=>{const ft=new Date(Jt.dob);ft.setFullYear(ft.getFullYear()+60);const ht=new Date(Ft.dob);return ht.setFullYear(ht.getFullYear()+60),ft.getTime()-ht.getTime()});ae(jt)}catch(le){console.error("Could not fetch retirement data:",le)}finally{ce(!1)}})()},[l]),y.useEffect(()=>{try{const X=localStorage.getItem("pullHistory");X&&R(JSON.parse(X))}catch(X){console.error("Failed to parse pull history from localStorage",X),localStorage.removeItem("pullHistory")}},[]);const H=y.useCallback(async()=>{g(!0),S("");try{const{staff:X,hasNextPage:le}=await Nw(E,D2,d);r(X),D(le)}catch(X){S(`Failed to fetch staff data: ${X.message}`)}finally{g(!1)}},[E,d]);y.useEffect(()=>{H()},[H]),y.useEffect(()=>{const X=setTimeout(()=>{h(i),k(0)},500);return()=>clearTimeout(X)},[i]);const q=()=>{!C||!A||V(!0)},F=X=>{G(X),Ne(!0)},te=async()=>{if(!(!C||!A)){V(!1),b(!0),S("");try{const X={emiscode:C.emiscode,school:C.school,unit:C.unit};await $s(C.id,{emiscode:A.emiscode,school:A.school,unit:A.unit});const De=[{id:C.id,pulledName:C.name,originalData:X,pulledToSchool:A.school,timestamp:new Date().toISOString()},...Z].slice(0,10);R(De),localStorage.setItem("pullHistory",JSON.stringify(De)),L(null),await H()}catch(X){S(`Failed to pull staff: ${X.message}`)}finally{b(!1)}}},j=async X=>{if(X){b(!0),S("");try{await $s(X.id,X.originalData);const le=Z.filter(De=>De.timestamp!==X.timestamp);R(le),localStorage.setItem("pullHistory",JSON.stringify(le)),await H()}catch(le){S(`Failed to undo pull: ${le.message}`)}finally{b(!1)}}},B=()=>{if(ee.length===0){alert("No retirement data to export.");return}const le=[["Name","Staff ID","Rank","Date of Birth","Retirement Date"].join(",")];ee.forEach(ft=>{const ht=new Date(ft.dob),Bn=new Date(ht);Bn.setFullYear(ht.getFullYear()+60);const $i=[ft.name,ft.staff_id,ft.rank||"N/A",ht.toLocaleDateString("en-CA"),Bn.toLocaleDateString("en-CA")].map(er=>`"${String(er||"").replace(/"/g,'""')}"`);le.push($i.join(","))});const De=le.join(`
`),Oe=new Blob([De],{type:"text/csv;charset=utf-8;"}),jt=document.createElement("a"),Jt=URL.createObjectURL(Oe);jt.setAttribute("href",Jt);const Ft=new Date().toISOString().split("T")[0];jt.setAttribute("download",`upcoming_retirements_${Ft}.csv`),document.body.appendChild(jt),jt.click(),document.body.removeChild(jt)},J=!C||m||C&&A&&C.emiscode===A.emiscode,W=()=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-700 flex items-center",children:[c.jsx(H5,{className:"h-6 w-6 mr-3 text-yellow-500"}),"Upcoming Retirements at Your School (Next 12 Months)"]}),c.jsxs("button",{onClick:B,disabled:ie||ee.length===0,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",title:"Export Retirements List",children:[c.jsx(_5,{className:"h-4 w-4 mr-2"}),"Export"]})]}),ie?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-gray-300 border-dashed rounded-full animate-spin"})}):ee.length>0?c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date of Birth"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Retirement Date"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.map(X=>{const le=new Date(X.dob);return le.setFullYear(le.getFullYear()+60),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:X.name}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:X.rank}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:new Date(X.dob).toLocaleDateString("en-GB")}),c.jsx("td",{className:"px-4 py-2 text-sm font-semibold text-red-600",children:le.toLocaleDateString("en-GB")})]},X.id)})})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8 mt-2",children:"No staff members are scheduled for retirement in the next 12 months."})]}),re=()=>p&&!m?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):x?c.jsx("p",{className:"text-center text-red-600 py-8",children:x}):n.length>0?c.jsxs("div",{className:"relative",children:[m&&c.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:c.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Select"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"School"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Management Unit"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(X=>c.jsxs("tr",{className:`hover:bg-gray-50 ${(C==null?void 0:C.id)===X.id?"bg-blue-50":""}`,children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"radio",name:"selectedStaff",checked:(C==null?void 0:C.id)===X.id,onChange:()=>L(X),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"})}),c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:c.jsx("span",{onClick:()=>F(X),className:"cursor-pointer hover:underline text-blue-600",children:X.name})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:X.staff_id}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:X.rank||"N/A"}),X.rank&&!dn(X.rank)&&c.jsx("span",{title:"This rank is not standard. Please use the 'Edit Member Record' page to correct it.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:X.school}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:X.unit||"N/A"})]},X.id))})]})}),c.jsxs("div",{className:"flex justify-between items-center mt-4",children:[c.jsx("button",{onClick:()=>k(X=>X-1),disabled:E===0||p||m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),c.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",E+1]}),c.jsx("button",{onClick:()=>k(X=>X+1),disabled:!T||p||m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:d?"No staff members found matching your search.":"No staff members found."});return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"All Members"}),c.jsx(W,{}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Search and Pull Staff"}),c.jsxs("div",{className:"md:flex justify-between items-center mb-4 space-y-4 md:space-y-0",children:[c.jsxs("div",{className:"relative w-full max-w-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(zi,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search by name, Staff ID, school, or rank...",value:i,onChange:X=>o(X.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),c.jsxs("button",{onClick:q,disabled:J,className:"w-full md:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[c.jsx(w5,{className:"h-5 w-5 mr-2"}),"Pull Selected Staff"]})]}),Z.length>0&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg my-4 border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Recent Pulls"}),c.jsx("ul",{className:"divide-y divide-gray-200",children:Z.map(X=>c.jsxs("li",{className:"py-3 flex justify-between items-center flex-wrap gap-2",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-800",children:["Pulled ",c.jsx("strong",{children:X.pulledName})," from ",X.originalData.school,"."]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["On ",new Date(X.timestamp).toLocaleString()]})]}),c.jsxs("button",{onClick:()=>j(X),disabled:m,className:"inline-flex items-center text-sm font-medium text-blue-600 hover:underline disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(T5,{className:"h-4 w-4 mr-1"}),"Undo"]})]},X.timestamp))})]}),re()]}),K&&C&&A&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Staff Pull"}),c.jsxs("p",{className:"mt-4 text-gray-600",children:["Are you sure you want to pull ",c.jsx("strong",{className:"font-bold",children:C.name})," to ",c.jsx("strong",{className:"font-bold",children:A.school}),"?"]}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This action will update their school record. They will then need to be approved for the current month."}),c.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[c.jsx("button",{onClick:()=>V(!1),disabled:m,className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:te,disabled:m,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:bg-blue-400",children:m?"Pulling...":"Confirm Pull"})]})]})}),c.jsx(Xl,{isOpen:we,onClose:()=>Ne(!1),staffMember:Le})]})},U2=({isOpen:l,setIsOpen:n})=>{const{user:r}=st(),i="flex items-center px-4 py-3 text-gray-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",o="bg-blue-700 text-white";return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 z-20 bg-black bg-opacity-50 transition-opacity lg:hidden ${l?"block":"hidden"}`,onClick:()=>n(!1)}),c.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-blue-800 text-white transform ${l?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:static lg:translate-x-0`,children:[c.jsxs("div",{className:"relative p-4 border-b border-blue-700",children:[c.jsxs("div",{className:"flex flex-col items-center w-full pt-4 pb-2",children:[c.jsx("img",{src:Qu,alt:"GES Logo",className:"h-16 w-16 rounded-full mb-2"}),c.jsx("h2",{className:"text-sm font-semibold text-center text-blue-100",children:"Tema Metro Education Directorate"})]}),c.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-white lg:hidden",children:c.jsx(Ku,{className:"h-6 w-6"})})]}),c.jsxs("nav",{className:"p-4 space-y-2",children:[c.jsxs(Lt,{to:"/dashboard",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(Tg,{className:"h-6 w-6 mr-3"})," Dashboard"]}),c.jsxs(Lt,{to:"/approved-staff",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(G5,{className:"h-6 w-6 mr-3"})," Approved Staff"]}),c.jsxs(Lt,{to:"/pending-approval",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(J5,{className:"h-6 w-6 mr-3"})," Pending Approval"]}),c.jsxs(Lt,{to:"/disapproved-staff",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(lw,{className:"h-6 w-6 mr-3"})," Disapproved Staff"]}),c.jsxs(Lt,{to:"/all-members",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(pw,{className:"h-6 w-6 mr-3"})," All Members"]}),c.jsxs(Lt,{to:"/add-staff",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(Dg,{className:"h-6 w-6 mr-3"})," Add Staff"]}),c.jsxs(Lt,{to:"/authorize-teachers",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(dw,{className:"h-6 w-6 mr-3"})," Manage Authorization"]}),c.jsxs(Lt,{to:"/reports",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(I5,{className:"h-6 w-6 mr-3"})," Reports"]}),(r==null?void 0:r.role)===Se.Superadmin&&c.jsxs(Lt,{to:"/metropolis-view",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(L5,{className:"h-6 w-6 mr-3"})," Metropolis View"]}),c.jsxs(Lt,{to:"/edit-staff-record",className:({isActive:d})=>`${i} ${d?o:""}`,children:[c.jsx(Rg,{className:"h-6 w-6 mr-3"})," Edit Member Record"]})]})]})]})},L2=({isOpen:l,setIsOpen:n})=>{const r="flex items-center px-4 py-3 text-gray-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",i="bg-blue-700 text-white";return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 z-20 bg-black bg-opacity-50 transition-opacity lg:hidden ${l?"block":"hidden"}`,onClick:()=>n(!1)}),c.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-blue-800 text-white transform ${l?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:static lg:translate-x-0`,children:[c.jsxs("div",{className:"relative p-4 border-b border-blue-700",children:[c.jsxs("div",{className:"flex flex-col items-center w-full pt-4 pb-2",children:[c.jsx("img",{src:"/assets/ges-logo.svg",alt:"GES Logo",className:"h-16 w-16 rounded-full mb-2"}),c.jsx("h2",{className:"text-sm font-semibold text-center text-blue-100",children:"Tema Metro Education Directorate"})]}),c.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-white lg:hidden",children:c.jsx(Ku,{className:"h-6 w-6"})})]}),c.jsxs("nav",{className:"p-4 space-y-2",children:[c.jsxs(Lt,{to:"/dashboard",end:!0,className:({isActive:o})=>`${r} ${o?i:""}`,children:[c.jsx(Tg,{className:"h-6 w-6 mr-3"})," Dashboard"]}),c.jsxs(Lt,{to:"/profile",className:({isActive:o})=>`${r} ${o?i:""}`,children:[c.jsx(kg,{className:"h-6 w-6 mr-3"})," My Profile"]})]})]})]})},z2=({toggleSidebar:l})=>{const{user:n,logout:r}=st();return c.jsxs("header",{className:"flex items-center justify-between p-4 bg-white shadow-md",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:l,className:"text-gray-600 focus:outline-none lg:hidden",children:c.jsx(k5,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl font-semibold text-gray-800 ml-4",children:"Tema Metro Staff Nominal Roll"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 overflow-hidden",children:n!=null&&n.profile_image_url?c.jsx("img",{src:n.profile_image_url,alt:"Profile",className:"h-full w-full object-cover"}):c.jsx(kg,{className:"h-8 w-8 text-blue-600"})}),c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("p",{className:"font-semibold text-gray-700",children:n==null?void 0:n.name}),c.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[n==null?void 0:n.role," View"]})]})]}),c.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-lg hover:bg-red-200 transition-colors duration-200",children:[c.jsx(Ag,{className:"h-5 w-5 mr-2"}),"Logout"]})]})]})},B2=()=>{const{user:l}=st(),[n,r]=Zm.useState(!1),i=(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?U2:L2;return c.jsxs("div",{className:"flex h-screen bg-gray-100",children:[c.jsx(i,{isOpen:n,setIsOpen:r}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(z2,{toggleSidebar:()=>r(!n)}),c.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 md:p-8 lg:p-10",children:c.jsx($1,{})})]})]})},$2=({isOpen:l,onClose:n,staffMember:r,onSave:i})=>{const[o,d]=y.useState({});if(y.useEffect(()=>{r&&d(r)},[r]),!l||!r)return null;const h=m=>{const{name:b,value:x,type:S}=m.target,E=S==="date";d(k=>({...k,[b]:E&&!x?void 0:x}))},p=()=>{const m={};for(const b in o){const x=b;o[x]!==r[x]&&(m[x]=o[x])}i(m)},g=(m,b,x="text",S=!1)=>{let E=String(o[b]||"");return x==="date"&&E&&(E=E.split("T")[0]),c.jsxs("div",{children:[c.jsx("label",{htmlFor:b,className:"block text-sm font-medium text-gray-700",children:m}),c.jsx("input",{type:x,name:b,id:b,value:E,onChange:h,disabled:S,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed"})]})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[c.jsx("h3",{className:"text-xl font-medium text-gray-900 p-6 border-b",children:"Edit Your Information"}),c.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-gray-500 px-2",children:"Official Records (View Only)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("Staff ID","staff_id","text",!0),g("Full Name","name","text",!0),g("Rank","rank","text",!0),g("School","school","text",!0),g("Management Unit","unit","text",!0),g("Emiscode","emiscode","text",!0),g("Status","status","text",!0),g("Staff Type","stafftype","text",!0)]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Personal & Contact Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("Email","email","email"),g("Phone","phone"),g("Phone 2","phone2"),g("Date of Birth","dob","date")]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g("Residential Address","resident_add"),g("Residential GPS","residential_gps")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Statutory Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("SSNIT Number","ssnit"),g("Ghana Card No.","gh_card"),g("NHIS Number","nhis"),g("NTC Number","ntc_num")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Bank Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("Bank Name","bank_name"),g("Bank Branch","bank_branch"),g("Account Number","account")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Qualifications & Position"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("Academic Qualification","acad_qual"),g("Date Obtained (Acad.)","date_obtained_acad","date"),g("Professional Qualification","prof_qual"),g("Date Obtained (Prof.)","date_obtained_prof","date")]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[g("Level","level"),g("Subject Taught","subject")]})]}),c.jsxs("fieldset",{className:"border p-4 rounded-md",children:[c.jsx("legend",{className:"text-sm font-medium text-blue-600 px-2",children:"Appointment Dates"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("Date of Last Promotion","date_promoted","date"),g("Date of First Appointment","date_first_app","date"),g("Date Posted to Station","date_posted_present_sta","date")]})]})]}),c.jsxs("div",{className:"mt-auto flex justify-end space-x-3 p-6 border-t bg-gray-50 rounded-b-lg",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})})},Kt=({label:l,value:n})=>c.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:l}),c.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 flex items-center",children:[c.jsx("span",{children:n||"N/A"}),l==="Rank"&&n&&!dn(String(n))&&c.jsx("span",{title:"This rank is not standard. Please contact your administrator to have it corrected.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})]}),H2=()=>{const{user:l}=st(),[n,r]=y.useState(null),[i,o]=y.useState(!0),[d,h]=y.useState(""),[p,g]=y.useState(!1),m=y.useCallback(async()=>{if(l){o(!0),h("");try{const x=await Bi(l.staffId);r(x)}catch(x){h(x.message||"Failed to fetch your details.")}finally{o(!1)}}},[l]);y.useEffect(()=>{m()},[m]);const b=async x=>{if(n)try{await $s(n.id,x),g(!1),alert("Your details have been updated successfully."),m()}catch(S){alert(`Update failed: ${S.message||"An unexpected error occurred."}`)}};return i?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):d?c.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:d}):n?c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-start sm:items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-2xl font-bold flex-shrink-0 overflow-hidden",children:n.profile_image_url?c.jsx("img",{src:n.profile_image_url,alt:n.name,className:"w-full h-full object-cover"}):n.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.name}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("p",{className:"text-md text-gray-600",children:n.rank}),n.rank&&!dn(n.rank)&&c.jsx("span",{title:"This rank is not standard. Please contact your administrator to have it corrected.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})]})]}),c.jsxs("button",{onClick:()=>g(!0),className:"ml-4 flex-shrink-0 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(n2,{className:"h-4 w-4 mr-2"}),"Edit My Info"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Personal & Professional Information"}),c.jsxs("dl",{className:"divide-y divide-gray-200",children:[c.jsx(Kt,{label:"Current Status",value:n.status}),c.jsx(Kt,{label:"Staff ID",value:n.staff_id}),c.jsx(Kt,{label:"School",value:n.school}),c.jsx(Kt,{label:"Emiscode",value:n.emiscode}),c.jsx(Kt,{label:"Email",value:n.email}),c.jsx(Kt,{label:"Phone Number",value:n.phone}),c.jsx(Kt,{label:"SSNIT Number",value:n.ssnit}),c.jsx(Kt,{label:"Ghana Card No.",value:n.gh_card}),c.jsx(Kt,{label:"Bank",value:`${n.bank_name||""} - ${n.bank_branch||""}`}),c.jsx(Kt,{label:"Account Number",value:n.account}),c.jsx(Kt,{label:"Date of First Appointment",value:n.date_first_app}),c.jsx(Kt,{label:"Date Posted to Station",value:n.date_posted_present_sta})]})]})]}),c.jsx($2,{isOpen:p,onClose:()=>g(!1),staffMember:n,onSave:b})]}):c.jsx("div",{className:"text-center p-8",children:"Could not find your staff profile."})},q2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState(!0),[d,h]=y.useState(!1),[p,g]=y.useState(""),[m,b]=y.useState(""),[x,S]=y.useState(new Set),E=y.useCallback(async()=>{if(l){o(!0),g("");try{const Z=await Rw(l.emiscode);r(Z)}catch(Z){g(Z.message||"Failed to fetch staff for authorization management.")}finally{o(!1)}}},[l]);y.useEffect(()=>{E()},[E]);const k=Z=>{S(R=>{const K=new Set(R);return K.has(Z)?K.delete(Z):K.add(Z),K})},T=Z=>{Z.target.checked?S(new Set(n.map(R=>R.id))):S(new Set)},D=async()=>{const Z=n.filter(R=>x.has(R.id)&&!R.authorised);if(Z.length!==0){h(!0),b(""),g("");try{await Cw(Z.map(R=>R.staff_id)),b(`${Z.length} staff member(s) have been successfully authorized.`),S(new Set),await E()}catch(R){g(R.message||"An error occurred during authorization.")}finally{h(!1)}}},C=async()=>{const Z=n.filter(R=>x.has(R.id)&&R.authorised);if(Z.length!==0&&window.confirm(`Are you sure you want to revoke authorization for ${Z.length} staff member(s)? They will no longer be able to log in.`)){h(!0),b(""),g("");try{await kw(Z.map(R=>R.staff_id)),b(`${Z.length} staff member(s) have had their authorization revoked.`),S(new Set),await E()}catch(R){g(R.message||"An error occurred while revoking authorization.")}finally{h(!1)}}},{isAllSelected:L,selectedToAuthorizeCount:A,selectedToRevokeCount:I}=y.useMemo(()=>{const Z=n.length>0&&x.size===n.length;let R=0,K=0;return n.forEach(V=>{x.has(V.id)&&(V.authorised?K++:R++)}),{isAllSelected:Z,selectedToAuthorizeCount:R,selectedToRevokeCount:K}},[n,x]);return i?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Manage Staff Authorization"}),c.jsx("p",{className:"text-gray-600",children:"This page lists all staff members in your school. You can grant or revoke their ability to log into the system."}),p&&c.jsx("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-lg",children:p}),m&&c.jsx("div",{className:"p-3 text-sm text-green-700 bg-green-100 rounded-lg",children:m}),c.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:n.length>0?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[x.size," of ",n.length," selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:D,disabled:A===0||d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400",children:[c.jsx(i2,{className:"h-5 w-5 mr-2"}),"Authorize Selected (",A,")"]}),c.jsxs("button",{onClick:C,disabled:I===0||d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:bg-gray-400",children:[c.jsx(t2,{className:"h-5 w-5 mr-2"}),"Revoke Selected (",I,")"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left",children:c.jsx("input",{type:"checkbox",checked:L,onChange:T,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Authorization Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(Z=>c.jsxs("tr",{className:x.has(Z.id)?"bg-blue-50":"",children:[c.jsx("td",{className:"px-4 py-4",children:c.jsx("input",{type:"checkbox",checked:x.has(Z.id),onChange:()=>k(Z.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.staff_id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.rank}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:Z.authorised?c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Ju,{className:"h-4 w-4 mr-1.5"}),"Authorized"]}):c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[c.jsx(Fu,{className:"h-4 w-4 mr-1.5"}),"Not Authorized"]})})]},Z.id))})]})})]}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:"There are no staff members registered for your school."})})]})},G2=()=>{const{user:l,logout:n}=st();return c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 bg-white shadow-md",children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Tema Metro Staff Nominal Roll"}),l&&c.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-lg hover:bg-red-200",children:[c.jsx(Ag,{className:"h-5 w-5 mr-2"}),"Logout"]})]}),c.jsx("main",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-lg p-8 text-center bg-white rounded-2xl shadow-xl",children:[c.jsx(Y5,{className:"mx-auto h-16 w-16 text-yellow-500"}),c.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Account Pending Approval"}),c.jsxs("p",{className:"mt-4 text-gray-600",children:["Hello, ",c.jsx("strong",{children:l==null?void 0:l.name}),". Thank you for signing up."]}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Your account is currently awaiting authorization from a school administrator. You will be able to access your dashboard once your account has been approved."}),c.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If you believe this is an error, please contact your headteacher."})]})})]})},V2=l=>{if(!l)return null;const n=new Date(l);if(isNaN(n.getTime()))return null;const r=new Date;let i=r.getFullYear()-n.getFullYear();const o=r.getMonth()-n.getMonth();return(o<0||o===0&&r.getDate()<n.getDate())&&i--,i},Y2=l=>{if(!l)return null;const n=new Date(l);if(isNaN(n.getTime()))return null;const r=new Date;let i=r.getFullYear()-n.getFullYear();const o=r.getMonth()-n.getMonth();return(o<0||o===0&&r.getDate()<n.getDate())&&i--,Math.max(0,i)},Ni=(l,n)=>l.reduce((r,i)=>{const o=i[n];return o&&(r[o]=(r[o]||0)+1),r},{}),Z2=()=>{const{user:l}=st(),[n,r]=y.useState([]),[i,o]=y.useState([]),[d,h]=y.useState(!1),[p,g]=y.useState(""),[m,b]=y.useState(null),[x,S]=y.useState(()=>{const H=new Date;return`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`}),[E,k]=y.useState(""),[T,D]=y.useState(""),C=y.useCallback(async()=>{if(l){h(!0),g("");try{const H=l.role===Se.Superadmin?await Ew():await cn(l.emiscode);r(H)}catch(H){g(H.message||"Failed to fetch staff data for reports.")}finally{h(!1)}}},[l]);y.useEffect(()=>{const H=setTimeout(()=>{D(E)},300);return()=>{clearTimeout(H)}},[E]);const L=y.useMemo(()=>{if(n.length===0||(l==null?void 0:l.role)!==Se.Superadmin)return null;const H=n.reduce((q,F)=>{const te=F.school||"Unknown School";return q[te]||(q[te]={total:0,atPost:0,onLeave:0,transferred:0,vacated:0}),q[te].total++,F.status==="AT POST"?q[te].atPost++:F.status==="ON LEAVE"?q[te].onLeave++:F.status==="TRANSFERRED"?q[te].transferred++:F.status==="VACATED POST"&&q[te].vacated++,q},{});return Object.entries(H).sort(([q],[F])=>q.localeCompare(F))},[n,l]),A=y.useMemo(()=>{if(n.length===0)return null;const H=new Date;H.setHours(0,0,0,0);const q=new Date(H);q.setFullYear(H.getFullYear()+1);let F=n.filter(te=>{if(!te.dob||!/^\d{4}-\d{2}-\d{2}$/.test(te.dob))return!1;const[j,B,J]=te.dob.split("-").map(Number),W=new Date(j,B-1,J);if(isNaN(W.getTime()))return!1;const re=new Date(W);return re.setFullYear(W.getFullYear()+60),re>=H&&re<=q});if(T){const te=T.toLowerCase();F=F.filter(j=>j.name.toLowerCase().includes(te)||j.staff_id.toLowerCase().includes(te))}return F.sort((te,j)=>{const[B,J,W]=te.dob.split("-").map(Number),re=new Date(B+60,J-1,W),[X,le,De]=j.dob.split("-").map(Number),Oe=new Date(X+60,le-1,De);return re.getTime()-Oe.getTime()})},[n,T]),I=y.useMemo(()=>{if(n.length===0)return null;const H={"<30":0,"30-39":0,"40-49":0,"50-59":0,"60+":0,Unknown:0},q={"0-5":0,"6-10":0,"11-20":0,"21+":0,Unknown:0};n.forEach(te=>{const j=V2(te.dob);j===null?H.Unknown++:j<30?H["<30"]++:j<=39?H["30-39"]++:j<=49?H["40-49"]++:j<=59?H["50-59"]++:H["60+"]++;const B=Y2(te.date_first_app);B===null?q.Unknown++:B<=5?q["0-5"]++:B<=10?q["6-10"]++:B<=20?q["11-20"]++:q["21+"]++});const F=Ni(n,"rank");return{ageGroups:H,serviceGroups:q,rankDistribution:F}},[n]),Z=y.useMemo(()=>n.length===0?null:{academic:Ni(n,"acad_qual"),professional:Ni(n,"prof_qual"),subjects:Ni(n,"subject")},[n]),R=y.useMemo(()=>n.length===0?null:{transferred:n.filter(H=>H.status==="TRANSFERRED").length,vacated:n.filter(H=>H.status==="VACATED POST").length},[n]),K=y.useMemo(()=>{if(n.length===0)return null;let H=n.map(q=>{const F=[];return(!q.bank_name||!q.account)&&F.push("Bank Details"),q.ssnit||F.push("SSNIT"),q.gh_card||F.push("Ghana Card"),q.dob||F.push("Date of Birth"),{...q,missing:F}}).filter(q=>q.missing.length>0);if(T){const q=T.toLowerCase();H=H.filter(F=>F.name.toLowerCase().includes(q)||F.staff_id.toLowerCase().includes(q))}return H},[n,T]),V=y.useMemo(()=>{if(n.length===0)return null;let H=n;if(T){const F=T.toLowerCase();H=n.filter(te=>te.name.toLowerCase().includes(F)||te.staff_id.toLowerCase().includes(F))}const q=new Map(i.map(F=>[F.staff_member_id,F.status]));return H.map(F=>({...F,approval_status:q.get(F.id)||"Pending"}))},[n,i,T]),ee=async H=>{if(l){if(k(""),await C(),H==="nominal-roll"){h(!0),g("");try{const[q,F]=x.split("-").map(Number),te=new Date(q,F-1,1).toISOString().split("T")[0],j=l.role===Se.Superadmin?await Tw(te):await Fl(l.emiscode,te);o(j)}catch(q){g(q.message||"Failed to fetch nominal roll approvals.")}finally{h(!1)}}b(H)}},ae=H=>{let q=[],F=[],te="Report",j=new Date().toLocaleDateString();switch(m){case"metropolis-summary":te="Metropolis Staff Summary",q=["School","Total","At Post","On Leave","Transferred","Vacated"],F=(L==null?void 0:L.map(([J,W])=>[J,W.total,W.atPost,W.onLeave,W.transferred,W.vacated]))||[];break;case"retirement-forecast":te="Retirement Forecast",q=["Name","School","Retirement Date"],F=(A==null?void 0:A.map(J=>{const W=new Date(J.dob);return W.setFullYear(W.getFullYear()+60),[J.name,J.school,W.toLocaleDateString("en-GB")]}))||[];break;case"nominal-roll":te=`Monthly Nominal Roll - ${new Date(x+"-02").toLocaleString("default",{month:"long",year:"numeric"})}`,V&&V.length>0&&(q=[...Object.keys(V[0])],F=V.map(J=>q.map(W=>J[W])));break;case"full-export":te=`Full Staff Export - ${j}`,n.length>0&&(q=[...Object.keys(n[0])],F=n.map(J=>q.map(W=>J[W])));break;case"data-audit":te="Data Completeness Audit",q=["Name","Staff ID","School","Missing Fields"],F=(K==null?void 0:K.map(J=>[J.name,J.staff_id,J.school,J.missing.join(", ")]))||[];break;default:alert("Export/Print is only available for tabular reports.");return}if(H==="csv"){const B=[q.join(",")];F.forEach(re=>{const X=re.map(le=>`"${String(le||"").replace(/"/g,'""')}"`);B.push(X.join(","))});const J=new Blob([B.join(`
`)],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a");W.setAttribute("href",URL.createObjectURL(J)),W.setAttribute("download",`${te.replace(/ /g,"_")}.csv`),W.click()}else{const B=window.open("","_blank");if(B){const J=q.map(re=>`<th>${re.replace(/_/g," ")}</th>`).join(""),W=F.map(re=>`<tr>${re.map(X=>`<td>${X||""}</td>`).join("")}</tr>`).join("");B.document.write(`
                    <html>
                        <head><title>${te}</title>
                        <style>
                            body { font-family: sans-serif; } table { width: 100%; border-collapse: collapse; }
                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 10px; }
                            th { background-color: #f2f2f2; text-transform: capitalize; } h1 { color: #333; }
                        </style>
                        </head>
                        <body><h1>${te}</h1><p>Generated on: ${j}</p><table><thead><tr>${J}</tr></thead><tbody>${W}</tbody></table></body>
                    </html>
                `),B.document.close(),B.focus(),B.print()}}},ie=({data:H,title:q,color:F})=>{const te=Object.entries(H).filter(([,B])=>typeof B=="number"&&Number.isFinite(B)).sort((B,J)=>J[1]-B[1]),j=te.length>0?te[0][1]:0;return te.length===0||j===0?c.jsxs("div",{className:"my-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:q}),c.jsx("p",{className:"text-gray-500",children:"No data available."})]}):c.jsxs("div",{className:"my-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:q}),c.jsx("div",{className:"space-y-2",children:te.map(([B,J])=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-1/3 text-sm text-gray-600 truncate",children:B}),c.jsx("div",{className:"w-2/3 bg-gray-200 rounded-full h-4",children:c.jsx("div",{className:`${F.replace("text-","bg-")} h-4 rounded-full flex items-center justify-end pr-2`,style:{width:`${J/j*100}%`},children:c.jsx("span",{className:"text-xs font-medium text-white",children:J})})})]},B))})]})},ce=({title:H,data:q})=>!q||q.length===0?c.jsxs("div",{className:"my-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:H}),c.jsx("p",{className:"text-gray-500",children:"No data available."})]}):c.jsxs("div",{className:"my-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:H}),c.jsx("div",{className:"overflow-y-auto border rounded-lg max-h-80",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...q].sort((F,te)=>{const j=F[1],B=te[1];return typeof j=="number"&&typeof B=="number"?B-j:0}).map(([F,te])=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te})]},F))})]})})]}),we=()=>{const H=["metropolis-summary","retirement-forecast","data-audit","nominal-roll","full-export"].includes(m||""),q=["retirement-forecast","data-audit","nominal-roll"].includes(m||"");return!m||d?null:c.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-4 gap-2",children:[q?c.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-xs flex-grow sm:flex-grow-0",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Hg,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Filter by name or Staff ID...",value:E,onChange:F=>k(F.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}):c.jsx("div",{})," ",H&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>ae("print"),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(l2,{className:"h-4 w-4 mr-2"})," Print"]}),c.jsxs("button",{onClick:()=>ae("csv"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[c.jsx(Gm,{className:"h-4 w-4 mr-2"})," Export CSV"]})]})]})},Ne=()=>{if(d&&!m)return c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})});if(p)return c.jsx("p",{className:"text-center text-red-600 py-8",children:p});switch(m){case"metropolis-summary":return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Metropolis Staff Summary by School"}),c.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"School"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"At Post"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"On Leave"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transferred"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vacated"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:L==null?void 0:L.map(([q,F])=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:q}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.total}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.atPost}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.onLeave}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.transferred}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.vacated})]},q))})]})})]});case"retirement-forecast":return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Retirement Forecast (Next 12 Months)"}),A&&A.length>0?c.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"School"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Retirement Date"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:A.map(q=>{const F=new Date(q.dob);return F.setFullYear(F.getFullYear()+60),c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:q.name}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:q.school}),c.jsx("td",{className:"px-6 py-4 text-sm text-red-600 font-medium",children:F.toLocaleDateString("en-GB")})]},q.id)})})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:T?`No results found for "${T}".`:"No staff members are scheduled to retire in the next 12 months."})]});case"nominal-roll":const H=V&&V.length>0?Object.keys(V[0]):[];return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Monthly Nominal Roll"}),V&&V.length>0?c.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full bg-white text-xs",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsx("tr",{children:H.map(q=>c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:q.replace(/_/g," ")},q))})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:V==null?void 0:V.map(q=>c.jsx("tr",{children:H.map(F=>c.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-gray-700",children:q[F]},`${q.id}-${F}`))},q.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:T?`No staff members found matching "${T}".`:"No data available for this report."})]});case"full-export":return c.jsxs("div",{className:"text-center py-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Full Staff Export"}),c.jsx("p",{className:"mt-2 text-gray-500",children:n.length>0?`Ready to export ${n.length} staff records. Use the export buttons above.`:"No staff data loaded."})]});case"demographics":return I?c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Staff Demographics"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx(ie,{data:I.ageGroups,title:"Age Distribution",color:"text-blue-500"}),c.jsx(ie,{data:I.serviceGroups,title:"Years of Service",color:"text-green-500"})]}),c.jsx(ce,{title:"Rank Distribution",data:Object.entries(I.rankDistribution)})]}):null;case"qualifications":return Z?c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Staff Qualifications"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx(ce,{title:"Academic Qualifications",data:Object.entries(Z.academic)}),c.jsx(ce,{title:"Professional Qualifications",data:Object.entries(Z.professional)}),c.jsx(ce,{title:"Subjects Taught",data:Object.entries(Z.subjects)})]})]}):null;case"attrition":return R?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Staff Attrition"}),c.jsxs("div",{className:"flex justify-center gap-8",children:[c.jsxs("div",{className:"p-6 bg-yellow-100 text-yellow-800 rounded-lg",children:[c.jsx("p",{className:"text-4xl font-bold",children:R.transferred}),c.jsx("p",{className:"mt-1",children:"Transferred"})]}),c.jsxs("div",{className:"p-6 bg-red-100 text-red-800 rounded-lg",children:[c.jsx("p",{className:"text-4xl font-bold",children:R.vacated}),c.jsx("p",{className:"mt-1",children:"Vacated Post"})]})]})]}):null;case"data-audit":return K?c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Data Completeness Audit"}),K&&K.length>0?c.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"School"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Missing Fields"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:K.map(q=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:q.name}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:q.staff_id}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:q.school}),c.jsx("td",{className:"px-6 py-4 text-sm text-red-600",children:q.missing.join(", ")})]},q.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:T?`No results found for "${T}".`:"All staff records are complete."})]}):null;default:return c.jsx("p",{className:"text-center text-gray-500 py-8",children:"Select a report to generate."})}},Le=({title:H,description:q,icon:F,color:te,reportType:j,children:B})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex flex-col",children:[c.jsx("div",{className:`h-10 w-10 mb-4 ${te}`,children:F}),c.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:H}),c.jsx("p",{className:"text-gray-500 mt-2 mb-4 flex-grow",children:q}),B,c.jsx("button",{onClick:()=>ee(j),disabled:d,className:`mt-auto w-full text-white ${te.replace("text-","bg-")} font-medium rounded-lg text-sm px-5 py-2.5 text-center disabled:opacity-50`,children:d?"Loading...":"Generate"})]}),G=(l==null?void 0:l.role)===Se.Superadmin;return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:G?"Metropolis Reports":"School Reports"}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("button",{onClick:C,disabled:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[c.jsx(Lw,{className:`h-5 w-5 mr-2 ${d?"animate-spin":""}`}),"Refresh Data"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[G&&c.jsx(Le,{title:"Metropolis Summary",description:"Staff statistics for every school.",icon:c.jsx(Bw,{className:"h-10 w-10"}),color:"text-blue-500",reportType:"metropolis-summary"}),c.jsx(Le,{title:"Retirement Forecast",description:"Staff retiring in the next 12 months.",icon:c.jsx(Hw,{className:"h-10 w-10"}),color:"text-yellow-500",reportType:"retirement-forecast"}),c.jsx(Le,{title:"Staff Demographics",description:"Breakdown by age, rank, and service years.",icon:c.jsx(Mu,{className:"h-10 w-10"}),color:"text-purple-500",reportType:"demographics"}),c.jsx(Le,{title:"Data Audit",description:"Find staff with incomplete records.",icon:c.jsx(Qw,{className:"h-10 w-10"}),color:"text-teal-500",reportType:"data-audit"}),c.jsx(Le,{title:"Monthly Nominal Roll",description:"Generate the full nominal roll for a selected month.",icon:c.jsx(c2,{className:"h-10 w-10"}),color:"text-pink-500",reportType:"nominal-roll",children:c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"nominal-roll-date",className:"block text-sm font-medium text-gray-700",children:"Report Month"}),c.jsx("input",{type:"month",id:"nominal-roll-date",value:x,onChange:H=>S(H.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-gray-900 bg-white"})]})}),c.jsx(Le,{title:"Full Staff Export",description:"Download a CSV of all staff records.",icon:c.jsx(Gm,{className:"h-10 w-10"}),color:"text-green-500",reportType:"full-export"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg min-h-[24rem]",children:[c.jsx(we,{}),c.jsx(Ne,{})]})]})},I2=()=>{var Z;const[l,n]=y.useState([]),[r,i]=y.useState(null),[o,d]=y.useState([]),[h,p]=y.useState(!0),[g,m]=y.useState(!1),[b,x]=y.useState(""),[S,E]=y.useState(""),[k,T]=y.useState(!1);y.useEffect(()=>{(async()=>{p(!0),x("");try{const K=await Dw();n(K)}catch(K){x(K.message||"Failed to fetch school list.")}finally{p(!1)}})()},[]);const D=async R=>{if(i(R),x(""),R){m(!0),d([]);try{const K=await cn(R);d(K)}catch(K){x(K.message||"Failed to fetch staff for the selected school.")}finally{m(!1)}}else d([])},C=(Z=l.find(R=>R.emiscode===r))==null?void 0:Z.school,L=(R,K)=>{if(T(!1),o.length===0||!C)return;const ee=[R.map(G=>K[G]).join(",")];o.forEach(G=>{const H=R.map(q=>{const F=G[q];return`"${String(F||"").replace(/"/g,'""')}"`});ee.push(H.join(","))});const ae=ee.join(`
`),ie=new Blob([ae],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),we=URL.createObjectURL(ie);ce.setAttribute("href",we);const Ne=new Date().toISOString().split("T")[0],Le=C.replace(/ /g,"_");ce.setAttribute("download",`staff_list_${Le}_${Ne}.csv`),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},A=(R,K)=>{if(T(!1),o.length===0||!C)return;const V=window.open("","_blank");if(V){const ee=R.map(ie=>`<th>${K[ie]}</th>`).join("");let ae="";o.forEach(ie=>{const ce=R.map(we=>`<td>${ie[we]||"N/A"}</td>`).join("");ae+=`<tr>${ce}</tr>`}),V.document.write(`
                <html>
                    <head>
                        <title>Staff List - ${C}</title>
                        <style>
                            body { font-family: sans-serif; }
                            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 10px; }
                            th { background-color: #f2f2f2; }
                            h1 { color: #333; }
                        </style>
                    </head>
                    <body>
                        <h1>Staff List for ${C}</h1>
                        <p>Total Staff: ${o.length}</p>
                        <table>
                            <thead>
                                <tr>${ee}</tr>
                            </thead>
                            <tbody>${ae}</tbody>
                        </table>
                    </body>
                </html>
            `),V.document.close(),V.focus(),V.print()}},I=l.filter(R=>R.school.toLowerCase().includes(S.toLowerCase())||String(R.emiscode).includes(S));return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Metropolis School View"}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Select a School"}),h?c.jsx("p",{children:"Loading schools..."}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"school-search",className:"block text-sm font-medium text-gray-700",children:"Filter Schools by Name or Emiscode"}),c.jsxs("div",{className:"relative mt-1",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Hg,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",id:"school-search",placeholder:"Search...",value:S,onChange:R=>E(R.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),c.jsx("div",{className:"mt-2 border rounded-md max-h-80 overflow-y-auto",children:I.length>0?c.jsx("ul",{children:I.map(R=>c.jsxs("li",{onClick:()=>D(R.emiscode),className:`p-3 cursor-pointer hover:bg-blue-50 border-b last:border-b-0 ${r===R.emiscode?"bg-blue-100 text-blue-800 font-semibold":"text-gray-900"}`,children:[R.school," (",R.emiscode,")"]},R.emiscode))}):c.jsx("p",{className:"p-3 text-gray-500",children:"No schools found."})})]})]}),b&&c.jsx("div",{className:"p-3 text-sm text-red-700 bg-red-100 rounded-lg",children:b}),r&&c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[c.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-4 gap-4",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Staff List for ",C]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("button",{onClick:()=>T(!0),disabled:g||o.length===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Bg,{className:"h-5 w-5 mr-2"}),"Export Options..."]})})]}),g?c.jsx("div",{className:"flex justify-center items-center py-16",children:c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-dashed rounded-full animate-spin"})}):o.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Staff ID"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Phone"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map(R=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.staff_id}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{children:R.rank||"N/A"}),R.rank&&!dn(R.rank)&&c.jsx("span",{title:"This rank is not standard.",children:c.jsx(un,{className:"h-5 w-5 ml-2 text-yellow-500"})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.status}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.phone||"N/A"})]},R.id))})]})}):c.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members found for this school."})]}),c.jsx(zg,{isOpen:k,onClose:()=>T(!1),onExportCSV:L,onExportPrint:A})]})},P2=()=>c.jsx(Kx,{children:c.jsx("div",{className:"bg-gray-100 min-h-screen font-sans",children:c.jsx(K2,{})})}),K2=()=>{const{user:l,loading:n}=st();if(n)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-dashed rounded-full animate-spin"})});const r=()=>c.jsxs(Hm,{children:[c.jsx(nt,{path:"/",element:c.jsx(G2,{})}),c.jsx(nt,{path:"*",element:c.jsx(gt,{to:"/"})})]}),i=()=>c.jsxs(Hm,{children:[c.jsx(nt,{path:"/login",element:l?c.jsx(gt,{to:"/dashboard"}):c.jsx(ww,{})}),c.jsx(nt,{path:"/signup",element:l?c.jsx(gt,{to:"/dashboard"}):c.jsx(_w,{})}),c.jsxs(nt,{element:l?c.jsx(B2,{}):c.jsx(gt,{to:"/login"}),children:[c.jsx(nt,{path:"/dashboard",element:(l==null?void 0:l.role)===Se.Teacher?c.jsx(S2,{}):c.jsx(x2,{})}),c.jsx(nt,{path:"/approved-staff",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(E2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/pending-approval",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(A2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/disapproved-staff",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(R2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/edit-staff-record",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(k2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/all-members",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(M2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/add-staff",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(T2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/authorize-teachers",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(q2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/reports",element:(l==null?void 0:l.role)===Se.Admin||(l==null?void 0:l.role)===Se.Superadmin?c.jsx(Z2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/metropolis-view",element:(l==null?void 0:l.role)===Se.Superadmin?c.jsx(I2,{}):c.jsx(gt,{to:"/dashboard"})}),c.jsx(nt,{path:"/profile",element:(l==null?void 0:l.role)===Se.Teacher?c.jsx(H2,{}):c.jsx(gt,{to:"/dashboard"})})]}),c.jsx(nt,{path:"*",element:c.jsx(gt,{to:l?"/dashboard":"/login"})})]});return c.jsx(u5,{children:l&&l.role===Se.Teacher&&!l.authorised?c.jsx(r,{}):c.jsx(i,{})})},Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(l=>{console.log("SW registered: ",l)}).catch(l=>{console.log("SW registration failed: ",l)})});const Q2=jv.createRoot(Yg);Q2.render(c.jsx(Zm.StrictMode,{children:c.jsx(P2,{})}));
